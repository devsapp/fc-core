var cb=Object.create;var Kn=Object.defineProperty,lb=Object.defineProperties,hb=Object.getOwnPropertyDescriptor,db=Object.getOwnPropertyDescriptors,gb=Object.getOwnPropertyNames,wl=Object.getOwnPropertySymbols,pb=Object.getPrototypeOf,bl=Object.prototype.hasOwnProperty,mb=Object.prototype.propertyIsEnumerable;var El=(t,r,i)=>r in t?Kn(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,St=(t,r)=>{for(var i in r||(r={}))bl.call(r,i)&&El(t,i,r[i]);if(wl)for(var i of wl(r))mb.call(r,i)&&El(t,i,r[i]);return t},Rr=(t,r)=>lb(t,db(r)),Sl=t=>Kn(t,"__esModule",{value:!0});var U=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),vb=(t,r)=>{Sl(t);for(var i in r)Kn(t,i,{get:r[i],enumerable:!0})},_b=(t,r,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of gb(r))!bl.call(t,s)&&s!=="default"&&Kn(t,s,{get:()=>r[s],enumerable:!(i=hb(r,s))||i.enumerable});return t},ge=t=>_b(Sl(Kn(t!=null?cb(pb(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Fr=U((an,Yn)=>{(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",f="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",g=500,p="__lodash_placeholder__",v=1,y=2,E=4,S=1,C=2,O=1,L=2,k=4,D=8,N=16,M=32,W=64,V=128,oe=256,ue=512,be=30,re="...",dt=800,gt=16,Tt=1,ve=2,Pt=3,Ge=1/0,ae=9007199254740991,R=17976931348623157e292,I=0/0,P=4294967295,H=P-1,j=P>>>1,ye=[["ary",V],["bind",O],["bindKey",L],["curry",D],["curryRight",N],["flip",ue],["partial",M],["partialRight",W],["rearg",oe]],xe="[object Arguments]",Be="[object Array]",it="[object AsyncFunction]",Fe="[object Boolean]",Ot="[object Date]",Sr="[object DOMException]",yi="[object Error]",wi="[object Function]",Wu="[object GeneratorFunction]",At="[object Map]",On="[object Number]",Op="[object Null]",Ut="[object Object]",Gu="[object Promise]",Ap="[object Proxy]",An="[object RegExp]",$t="[object Set]",$n="[object String]",bi="[object Symbol]",$p="[object Undefined]",kn="[object WeakMap]",kp="[object WeakSet]",In="[object ArrayBuffer]",zr="[object DataView]",zs="[object Float32Array]",Ks="[object Float64Array]",Ys="[object Int8Array]",Vs="[object Int16Array]",Js="[object Int32Array]",Xs="[object Uint8Array]",Zs="[object Uint8ClampedArray]",Qs="[object Uint16Array]",eo="[object Uint32Array]",Ip=/\b__p \+= '';/g,Lp=/\b(__p \+=) '' \+/g,Rp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ju=/&(?:amp|lt|gt|quot|#39);/g,Hu=/[&<>"']/g,Fp=RegExp(ju.source),Pp=RegExp(Hu.source),Dp=/<%-([\s\S]+?)%>/g,Np=/<%([\s\S]+?)%>/g,zu=/<%=([\s\S]+?)%>/g,Mp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bp=/^\w*$/,qp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,to=/[\\^$.*+?()[\]{}|]/g,Up=RegExp(to.source),ro=/^\s+/,Wp=/\s/,Gp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jp=/\{\n\/\* \[wrapped with (.+)\] \*/,Hp=/,? & /,zp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Kp=/[()=,{}\[\]\/\s]/,Yp=/\\(\\)?/g,Vp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ku=/\w*$/,Jp=/^[-+]0x[0-9a-f]+$/i,Xp=/^0b[01]+$/i,Zp=/^\[object .+?Constructor\]$/,Qp=/^0o[0-7]+$/i,em=/^(?:0|[1-9]\d*)$/,tm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ei=/($^)/,rm=/['\n\r\u2028\u2029\\]/g,Si="\\ud800-\\udfff",nm="\\u0300-\\u036f",im="\\ufe20-\\ufe2f",sm="\\u20d0-\\u20ff",Yu=nm+im+sm,Vu="\\u2700-\\u27bf",Ju="a-z\\xdf-\\xf6\\xf8-\\xff",om="\\xac\\xb1\\xd7\\xf7",am="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",um="\\u2000-\\u206f",fm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xu="A-Z\\xc0-\\xd6\\xd8-\\xde",Zu="\\ufe0e\\ufe0f",Qu=om+am+um+fm,no="['\u2019]",cm="["+Si+"]",ef="["+Qu+"]",xi="["+Yu+"]",tf="\\d+",lm="["+Vu+"]",rf="["+Ju+"]",nf="[^"+Si+Qu+tf+Vu+Ju+Xu+"]",io="\\ud83c[\\udffb-\\udfff]",hm="(?:"+xi+"|"+io+")",sf="[^"+Si+"]",so="(?:\\ud83c[\\udde6-\\uddff]){2}",oo="[\\ud800-\\udbff][\\udc00-\\udfff]",Kr="["+Xu+"]",of="\\u200d",af="(?:"+rf+"|"+nf+")",dm="(?:"+Kr+"|"+nf+")",uf="(?:"+no+"(?:d|ll|m|re|s|t|ve))?",ff="(?:"+no+"(?:D|LL|M|RE|S|T|VE))?",cf=hm+"?",lf="["+Zu+"]?",gm="(?:"+of+"(?:"+[sf,so,oo].join("|")+")"+lf+cf+")*",pm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",hf=lf+cf+gm,vm="(?:"+[lm,so,oo].join("|")+")"+hf,_m="(?:"+[sf+xi+"?",xi,so,oo,cm].join("|")+")",ym=RegExp(no,"g"),wm=RegExp(xi,"g"),ao=RegExp(io+"(?="+io+")|"+_m+hf,"g"),bm=RegExp([Kr+"?"+rf+"+"+uf+"(?="+[ef,Kr,"$"].join("|")+")",dm+"+"+ff+"(?="+[ef,Kr+af,"$"].join("|")+")",Kr+"?"+af+"+"+uf,Kr+"+"+ff,mm,pm,tf,vm].join("|"),"g"),Em=RegExp("["+of+Si+Yu+Zu+"]"),Sm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cm=-1,we={};we[zs]=we[Ks]=we[Ys]=we[Vs]=we[Js]=we[Xs]=we[Zs]=we[Qs]=we[eo]=!0,we[xe]=we[Be]=we[In]=we[Fe]=we[zr]=we[Ot]=we[yi]=we[wi]=we[At]=we[On]=we[Ut]=we[An]=we[$t]=we[$n]=we[kn]=!1;var _e={};_e[xe]=_e[Be]=_e[In]=_e[zr]=_e[Fe]=_e[Ot]=_e[zs]=_e[Ks]=_e[Ys]=_e[Vs]=_e[Js]=_e[At]=_e[On]=_e[Ut]=_e[An]=_e[$t]=_e[$n]=_e[bi]=_e[Xs]=_e[Zs]=_e[Qs]=_e[eo]=!0,_e[yi]=_e[wi]=_e[kn]=!1;var Tm={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Om={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Am={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$m={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},km=parseFloat,Im=parseInt,df=typeof global=="object"&&global&&global.Object===Object&&global,Lm=typeof self=="object"&&self&&self.Object===Object&&self,Pe=df||Lm||Function("return this")(),uo=typeof an=="object"&&an&&!an.nodeType&&an,xr=uo&&typeof Yn=="object"&&Yn&&!Yn.nodeType&&Yn,gf=xr&&xr.exports===uo,fo=gf&&df.process,pt=function(){try{var w=xr&&xr.require&&xr.require("util").types;return w||fo&&fo.binding&&fo.binding("util")}catch{}}(),pf=pt&&pt.isArrayBuffer,mf=pt&&pt.isDate,vf=pt&&pt.isMap,_f=pt&&pt.isRegExp,yf=pt&&pt.isSet,wf=pt&&pt.isTypedArray;function st(w,T,x){switch(x.length){case 0:return w.call(T);case 1:return w.call(T,x[0]);case 2:return w.call(T,x[0],x[1]);case 3:return w.call(T,x[0],x[1],x[2])}return w.apply(T,x)}function Rm(w,T,x,q){for(var J=-1,fe=w==null?0:w.length;++J<fe;){var ke=w[J];T(q,ke,x(ke),w)}return q}function mt(w,T){for(var x=-1,q=w==null?0:w.length;++x<q&&T(w[x],x,w)!==!1;);return w}function Fm(w,T){for(var x=w==null?0:w.length;x--&&T(w[x],x,w)!==!1;);return w}function bf(w,T){for(var x=-1,q=w==null?0:w.length;++x<q;)if(!T(w[x],x,w))return!1;return!0}function sr(w,T){for(var x=-1,q=w==null?0:w.length,J=0,fe=[];++x<q;){var ke=w[x];T(ke,x,w)&&(fe[J++]=ke)}return fe}function Ci(w,T){var x=w==null?0:w.length;return!!x&&Yr(w,T,0)>-1}function co(w,T,x){for(var q=-1,J=w==null?0:w.length;++q<J;)if(x(T,w[q]))return!0;return!1}function Ee(w,T){for(var x=-1,q=w==null?0:w.length,J=Array(q);++x<q;)J[x]=T(w[x],x,w);return J}function or(w,T){for(var x=-1,q=T.length,J=w.length;++x<q;)w[J+x]=T[x];return w}function lo(w,T,x,q){var J=-1,fe=w==null?0:w.length;for(q&&fe&&(x=w[++J]);++J<fe;)x=T(x,w[J],J,w);return x}function Pm(w,T,x,q){var J=w==null?0:w.length;for(q&&J&&(x=w[--J]);J--;)x=T(x,w[J],J,w);return x}function ho(w,T){for(var x=-1,q=w==null?0:w.length;++x<q;)if(T(w[x],x,w))return!0;return!1}var Dm=go("length");function Nm(w){return w.split("")}function Mm(w){return w.match(zp)||[]}function Ef(w,T,x){var q;return x(w,function(J,fe,ke){if(T(J,fe,ke))return q=fe,!1}),q}function Ti(w,T,x,q){for(var J=w.length,fe=x+(q?1:-1);q?fe--:++fe<J;)if(T(w[fe],fe,w))return fe;return-1}function Yr(w,T,x){return T===T?Jm(w,T,x):Ti(w,Sf,x)}function Bm(w,T,x,q){for(var J=x-1,fe=w.length;++J<fe;)if(q(w[J],T))return J;return-1}function Sf(w){return w!==w}function xf(w,T){var x=w==null?0:w.length;return x?mo(w,T)/x:I}function go(w){return function(T){return T==null?t:T[w]}}function po(w){return function(T){return w==null?t:w[T]}}function Cf(w,T,x,q,J){return J(w,function(fe,ke,pe){x=q?(q=!1,fe):T(x,fe,ke,pe)}),x}function qm(w,T){var x=w.length;for(w.sort(T);x--;)w[x]=w[x].value;return w}function mo(w,T){for(var x,q=-1,J=w.length;++q<J;){var fe=T(w[q]);fe!==t&&(x=x===t?fe:x+fe)}return x}function vo(w,T){for(var x=-1,q=Array(w);++x<w;)q[x]=T(x);return q}function Um(w,T){return Ee(T,function(x){return[x,w[x]]})}function Tf(w){return w&&w.slice(0,kf(w)+1).replace(ro,"")}function ot(w){return function(T){return w(T)}}function _o(w,T){return Ee(T,function(x){return w[x]})}function Ln(w,T){return w.has(T)}function Of(w,T){for(var x=-1,q=w.length;++x<q&&Yr(T,w[x],0)>-1;);return x}function Af(w,T){for(var x=w.length;x--&&Yr(T,w[x],0)>-1;);return x}function Wm(w,T){for(var x=w.length,q=0;x--;)w[x]===T&&++q;return q}var Gm=po(Tm),jm=po(Om);function Hm(w){return"\\"+$m[w]}function zm(w,T){return w==null?t:w[T]}function Vr(w){return Em.test(w)}function Km(w){return Sm.test(w)}function Ym(w){for(var T,x=[];!(T=w.next()).done;)x.push(T.value);return x}function yo(w){var T=-1,x=Array(w.size);return w.forEach(function(q,J){x[++T]=[J,q]}),x}function $f(w,T){return function(x){return w(T(x))}}function ar(w,T){for(var x=-1,q=w.length,J=0,fe=[];++x<q;){var ke=w[x];(ke===T||ke===p)&&(w[x]=p,fe[J++]=x)}return fe}function Oi(w){var T=-1,x=Array(w.size);return w.forEach(function(q){x[++T]=q}),x}function Vm(w){var T=-1,x=Array(w.size);return w.forEach(function(q){x[++T]=[q,q]}),x}function Jm(w,T,x){for(var q=x-1,J=w.length;++q<J;)if(w[q]===T)return q;return-1}function Xm(w,T,x){for(var q=x+1;q--;)if(w[q]===T)return q;return q}function Jr(w){return Vr(w)?Qm(w):Dm(w)}function kt(w){return Vr(w)?ev(w):Nm(w)}function kf(w){for(var T=w.length;T--&&Wp.test(w.charAt(T)););return T}var Zm=po(Am);function Qm(w){for(var T=ao.lastIndex=0;ao.test(w);)++T;return T}function ev(w){return w.match(ao)||[]}function tv(w){return w.match(bm)||[]}var rv=function w(T){T=T==null?Pe:ur.defaults(Pe.Object(),T,ur.pick(Pe,xm));var x=T.Array,q=T.Date,J=T.Error,fe=T.Function,ke=T.Math,pe=T.Object,wo=T.RegExp,nv=T.String,vt=T.TypeError,Ai=x.prototype,iv=fe.prototype,Xr=pe.prototype,$i=T["__core-js_shared__"],ki=iv.toString,de=Xr.hasOwnProperty,sv=0,If=function(){var e=/[^.]+$/.exec($i&&$i.keys&&$i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ii=Xr.toString,ov=ki.call(pe),av=Pe._,uv=wo("^"+ki.call(de).replace(to,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Li=gf?T.Buffer:t,fr=T.Symbol,Ri=T.Uint8Array,Lf=Li?Li.allocUnsafe:t,Fi=$f(pe.getPrototypeOf,pe),Rf=pe.create,Ff=Xr.propertyIsEnumerable,Pi=Ai.splice,Pf=fr?fr.isConcatSpreadable:t,Rn=fr?fr.iterator:t,Cr=fr?fr.toStringTag:t,Di=function(){try{var e=kr(pe,"defineProperty");return e({},"",{}),e}catch{}}(),fv=T.clearTimeout!==Pe.clearTimeout&&T.clearTimeout,cv=q&&q.now!==Pe.Date.now&&q.now,lv=T.setTimeout!==Pe.setTimeout&&T.setTimeout,Ni=ke.ceil,Mi=ke.floor,bo=pe.getOwnPropertySymbols,hv=Li?Li.isBuffer:t,Df=T.isFinite,dv=Ai.join,gv=$f(pe.keys,pe),Ie=ke.max,je=ke.min,pv=q.now,mv=T.parseInt,Nf=ke.random,vv=Ai.reverse,Eo=kr(T,"DataView"),Fn=kr(T,"Map"),So=kr(T,"Promise"),Zr=kr(T,"Set"),Pn=kr(T,"WeakMap"),Dn=kr(pe,"create"),Bi=Pn&&new Pn,Qr={},_v=Ir(Eo),yv=Ir(Fn),wv=Ir(So),bv=Ir(Zr),Ev=Ir(Pn),qi=fr?fr.prototype:t,Nn=qi?qi.valueOf:t,Mf=qi?qi.toString:t;function h(e){if(Ce(e)&&!X(e)&&!(e instanceof ie)){if(e instanceof _t)return e;if(de.call(e,"__wrapped__"))return Bc(e)}return new _t(e)}var en=function(){function e(){}return function(n){if(!Se(n))return{};if(Rf)return Rf(n);e.prototype=n;var o=new e;return e.prototype=t,o}}();function Ui(){}function _t(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}h.templateSettings={escape:Dp,evaluate:Np,interpolate:zu,variable:"",imports:{_:h}},h.prototype=Ui.prototype,h.prototype.constructor=h,_t.prototype=en(Ui.prototype),_t.prototype.constructor=_t;function ie(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=P,this.__views__=[]}function Sv(){var e=new ie(this.__wrapped__);return e.__actions__=Qe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Qe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Qe(this.__views__),e}function xv(){if(this.__filtered__){var e=new ie(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Cv(){var e=this.__wrapped__.value(),n=this.__dir__,o=X(e),u=n<0,c=o?e.length:0,d=N_(0,c,this.__views__),m=d.start,_=d.end,b=_-m,A=u?_:m-1,$=this.__iteratees__,F=$.length,B=0,G=je(b,this.__takeCount__);if(!o||!u&&c==b&&G==b)return uc(e,this.__actions__);var K=[];e:for(;b--&&B<G;){A+=n;for(var ee=-1,Y=e[A];++ee<F;){var ne=$[ee],se=ne.iteratee,ft=ne.type,Ve=se(Y);if(ft==ve)Y=Ve;else if(!Ve){if(ft==Tt)continue e;break e}}K[B++]=Y}return K}ie.prototype=en(Ui.prototype),ie.prototype.constructor=ie;function Tr(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var u=e[n];this.set(u[0],u[1])}}function Tv(){this.__data__=Dn?Dn(null):{},this.size=0}function Ov(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Av(e){var n=this.__data__;if(Dn){var o=n[e];return o===l?t:o}return de.call(n,e)?n[e]:t}function $v(e){var n=this.__data__;return Dn?n[e]!==t:de.call(n,e)}function kv(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Dn&&n===t?l:n,this}Tr.prototype.clear=Tv,Tr.prototype.delete=Ov,Tr.prototype.get=Av,Tr.prototype.has=$v,Tr.prototype.set=kv;function Wt(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var u=e[n];this.set(u[0],u[1])}}function Iv(){this.__data__=[],this.size=0}function Lv(e){var n=this.__data__,o=Wi(n,e);if(o<0)return!1;var u=n.length-1;return o==u?n.pop():Pi.call(n,o,1),--this.size,!0}function Rv(e){var n=this.__data__,o=Wi(n,e);return o<0?t:n[o][1]}function Fv(e){return Wi(this.__data__,e)>-1}function Pv(e,n){var o=this.__data__,u=Wi(o,e);return u<0?(++this.size,o.push([e,n])):o[u][1]=n,this}Wt.prototype.clear=Iv,Wt.prototype.delete=Lv,Wt.prototype.get=Rv,Wt.prototype.has=Fv,Wt.prototype.set=Pv;function Gt(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var u=e[n];this.set(u[0],u[1])}}function Dv(){this.size=0,this.__data__={hash:new Tr,map:new(Fn||Wt),string:new Tr}}function Nv(e){var n=es(this,e).delete(e);return this.size-=n?1:0,n}function Mv(e){return es(this,e).get(e)}function Bv(e){return es(this,e).has(e)}function qv(e,n){var o=es(this,e),u=o.size;return o.set(e,n),this.size+=o.size==u?0:1,this}Gt.prototype.clear=Dv,Gt.prototype.delete=Nv,Gt.prototype.get=Mv,Gt.prototype.has=Bv,Gt.prototype.set=qv;function Or(e){var n=-1,o=e==null?0:e.length;for(this.__data__=new Gt;++n<o;)this.add(e[n])}function Uv(e){return this.__data__.set(e,l),this}function Wv(e){return this.__data__.has(e)}Or.prototype.add=Or.prototype.push=Uv,Or.prototype.has=Wv;function It(e){var n=this.__data__=new Wt(e);this.size=n.size}function Gv(){this.__data__=new Wt,this.size=0}function jv(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o}function Hv(e){return this.__data__.get(e)}function zv(e){return this.__data__.has(e)}function Kv(e,n){var o=this.__data__;if(o instanceof Wt){var u=o.__data__;if(!Fn||u.length<i-1)return u.push([e,n]),this.size=++o.size,this;o=this.__data__=new Gt(u)}return o.set(e,n),this.size=o.size,this}It.prototype.clear=Gv,It.prototype.delete=jv,It.prototype.get=Hv,It.prototype.has=zv,It.prototype.set=Kv;function Bf(e,n){var o=X(e),u=!o&&Lr(e),c=!o&&!u&&gr(e),d=!o&&!u&&!c&&sn(e),m=o||u||c||d,_=m?vo(e.length,nv):[],b=_.length;for(var A in e)(n||de.call(e,A))&&!(m&&(A=="length"||c&&(A=="offset"||A=="parent")||d&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Kt(A,b)))&&_.push(A);return _}function qf(e){var n=e.length;return n?e[Fo(0,n-1)]:t}function Yv(e,n){return ts(Qe(e),Ar(n,0,e.length))}function Vv(e){return ts(Qe(e))}function xo(e,n,o){(o!==t&&!Lt(e[n],o)||o===t&&!(n in e))&&jt(e,n,o)}function Mn(e,n,o){var u=e[n];(!(de.call(e,n)&&Lt(u,o))||o===t&&!(n in e))&&jt(e,n,o)}function Wi(e,n){for(var o=e.length;o--;)if(Lt(e[o][0],n))return o;return-1}function Jv(e,n,o,u){return cr(e,function(c,d,m){n(u,c,o(c),m)}),u}function Uf(e,n){return e&&Nt(n,De(n),e)}function Xv(e,n){return e&&Nt(n,tt(n),e)}function jt(e,n,o){n=="__proto__"&&Di?Di(e,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[n]=o}function Co(e,n){for(var o=-1,u=n.length,c=x(u),d=e==null;++o<u;)c[o]=d?t:sa(e,n[o]);return c}function Ar(e,n,o){return e===e&&(o!==t&&(e=e<=o?e:o),n!==t&&(e=e>=n?e:n)),e}function yt(e,n,o,u,c,d){var m,_=n&v,b=n&y,A=n&E;if(o&&(m=c?o(e,u,c,d):o(e)),m!==t)return m;if(!Se(e))return e;var $=X(e);if($){if(m=B_(e),!_)return Qe(e,m)}else{var F=He(e),B=F==wi||F==Wu;if(gr(e))return lc(e,_);if(F==Ut||F==xe||B&&!c){if(m=b||B?{}:kc(e),!_)return b?A_(e,Xv(m,e)):O_(e,Uf(m,e))}else{if(!_e[F])return c?e:{};m=q_(e,F,_)}}d||(d=new It);var G=d.get(e);if(G)return G;d.set(e,m),sl(e)?e.forEach(function(Y){m.add(yt(Y,n,o,Y,e,d))}):nl(e)&&e.forEach(function(Y,ne){m.set(ne,yt(Y,n,o,ne,e,d))});var K=A?b?Ho:jo:b?tt:De,ee=$?t:K(e);return mt(ee||e,function(Y,ne){ee&&(ne=Y,Y=e[ne]),Mn(m,ne,yt(Y,n,o,ne,e,d))}),m}function Zv(e){var n=De(e);return function(o){return Wf(o,e,n)}}function Wf(e,n,o){var u=o.length;if(e==null)return!u;for(e=pe(e);u--;){var c=o[u],d=n[c],m=e[c];if(m===t&&!(c in e)||!d(m))return!1}return!0}function Gf(e,n,o){if(typeof e!="function")throw new vt(a);return Hn(function(){e.apply(t,o)},n)}function Bn(e,n,o,u){var c=-1,d=Ci,m=!0,_=e.length,b=[],A=n.length;if(!_)return b;o&&(n=Ee(n,ot(o))),u?(d=co,m=!1):n.length>=i&&(d=Ln,m=!1,n=new Or(n));e:for(;++c<_;){var $=e[c],F=o==null?$:o($);if($=u||$!==0?$:0,m&&F===F){for(var B=A;B--;)if(n[B]===F)continue e;b.push($)}else d(n,F,u)||b.push($)}return b}var cr=mc(Dt),jf=mc(Oo,!0);function Qv(e,n){var o=!0;return cr(e,function(u,c,d){return o=!!n(u,c,d),o}),o}function Gi(e,n,o){for(var u=-1,c=e.length;++u<c;){var d=e[u],m=n(d);if(m!=null&&(_===t?m===m&&!ut(m):o(m,_)))var _=m,b=d}return b}function e_(e,n,o,u){var c=e.length;for(o=Q(o),o<0&&(o=-o>c?0:c+o),u=u===t||u>c?c:Q(u),u<0&&(u+=c),u=o>u?0:al(u);o<u;)e[o++]=n;return e}function Hf(e,n){var o=[];return cr(e,function(u,c,d){n(u,c,d)&&o.push(u)}),o}function qe(e,n,o,u,c){var d=-1,m=e.length;for(o||(o=W_),c||(c=[]);++d<m;){var _=e[d];n>0&&o(_)?n>1?qe(_,n-1,o,u,c):or(c,_):u||(c[c.length]=_)}return c}var To=vc(),zf=vc(!0);function Dt(e,n){return e&&To(e,n,De)}function Oo(e,n){return e&&zf(e,n,De)}function ji(e,n){return sr(n,function(o){return Yt(e[o])})}function $r(e,n){n=hr(n,e);for(var o=0,u=n.length;e!=null&&o<u;)e=e[Mt(n[o++])];return o&&o==u?e:t}function Kf(e,n,o){var u=n(e);return X(e)?u:or(u,o(e))}function Ke(e){return e==null?e===t?$p:Op:Cr&&Cr in pe(e)?D_(e):V_(e)}function Ao(e,n){return e>n}function t_(e,n){return e!=null&&de.call(e,n)}function r_(e,n){return e!=null&&n in pe(e)}function n_(e,n,o){return e>=je(n,o)&&e<Ie(n,o)}function $o(e,n,o){for(var u=o?co:Ci,c=e[0].length,d=e.length,m=d,_=x(d),b=1/0,A=[];m--;){var $=e[m];m&&n&&($=Ee($,ot(n))),b=je($.length,b),_[m]=!o&&(n||c>=120&&$.length>=120)?new Or(m&&$):t}$=e[0];var F=-1,B=_[0];e:for(;++F<c&&A.length<b;){var G=$[F],K=n?n(G):G;if(G=o||G!==0?G:0,!(B?Ln(B,K):u(A,K,o))){for(m=d;--m;){var ee=_[m];if(!(ee?Ln(ee,K):u(e[m],K,o)))continue e}B&&B.push(K),A.push(G)}}return A}function i_(e,n,o,u){return Dt(e,function(c,d,m){n(u,o(c),d,m)}),u}function qn(e,n,o){n=hr(n,e),e=Fc(e,n);var u=e==null?e:e[Mt(bt(n))];return u==null?t:st(u,e,o)}function Yf(e){return Ce(e)&&Ke(e)==xe}function s_(e){return Ce(e)&&Ke(e)==In}function o_(e){return Ce(e)&&Ke(e)==Ot}function Un(e,n,o,u,c){return e===n?!0:e==null||n==null||!Ce(e)&&!Ce(n)?e!==e&&n!==n:a_(e,n,o,u,Un,c)}function a_(e,n,o,u,c,d){var m=X(e),_=X(n),b=m?Be:He(e),A=_?Be:He(n);b=b==xe?Ut:b,A=A==xe?Ut:A;var $=b==Ut,F=A==Ut,B=b==A;if(B&&gr(e)){if(!gr(n))return!1;m=!0,$=!1}if(B&&!$)return d||(d=new It),m||sn(e)?Oc(e,n,o,u,c,d):F_(e,n,b,o,u,c,d);if(!(o&S)){var G=$&&de.call(e,"__wrapped__"),K=F&&de.call(n,"__wrapped__");if(G||K){var ee=G?e.value():e,Y=K?n.value():n;return d||(d=new It),c(ee,Y,o,u,d)}}return B?(d||(d=new It),P_(e,n,o,u,c,d)):!1}function u_(e){return Ce(e)&&He(e)==At}function ko(e,n,o,u){var c=o.length,d=c,m=!u;if(e==null)return!d;for(e=pe(e);c--;){var _=o[c];if(m&&_[2]?_[1]!==e[_[0]]:!(_[0]in e))return!1}for(;++c<d;){_=o[c];var b=_[0],A=e[b],$=_[1];if(m&&_[2]){if(A===t&&!(b in e))return!1}else{var F=new It;if(u)var B=u(A,$,b,e,n,F);if(!(B===t?Un($,A,S|C,u,F):B))return!1}}return!0}function Vf(e){if(!Se(e)||j_(e))return!1;var n=Yt(e)?uv:Zp;return n.test(Ir(e))}function f_(e){return Ce(e)&&Ke(e)==An}function c_(e){return Ce(e)&&He(e)==$t}function l_(e){return Ce(e)&&as(e.length)&&!!we[Ke(e)]}function Jf(e){return typeof e=="function"?e:e==null?rt:typeof e=="object"?X(e)?Qf(e[0],e[1]):Zf(e):_l(e)}function Io(e){if(!jn(e))return gv(e);var n=[];for(var o in pe(e))de.call(e,o)&&o!="constructor"&&n.push(o);return n}function h_(e){if(!Se(e))return Y_(e);var n=jn(e),o=[];for(var u in e)u=="constructor"&&(n||!de.call(e,u))||o.push(u);return o}function Lo(e,n){return e<n}function Xf(e,n){var o=-1,u=et(e)?x(e.length):[];return cr(e,function(c,d,m){u[++o]=n(c,d,m)}),u}function Zf(e){var n=Ko(e);return n.length==1&&n[0][2]?Lc(n[0][0],n[0][1]):function(o){return o===e||ko(o,e,n)}}function Qf(e,n){return Vo(e)&&Ic(n)?Lc(Mt(e),n):function(o){var u=sa(o,e);return u===t&&u===n?oa(o,e):Un(n,u,S|C)}}function Hi(e,n,o,u,c){e!==n&&To(n,function(d,m){if(c||(c=new It),Se(d))d_(e,n,m,o,Hi,u,c);else{var _=u?u(Xo(e,m),d,m+"",e,n,c):t;_===t&&(_=d),xo(e,m,_)}},tt)}function d_(e,n,o,u,c,d,m){var _=Xo(e,o),b=Xo(n,o),A=m.get(b);if(A){xo(e,o,A);return}var $=d?d(_,b,o+"",e,n,m):t,F=$===t;if(F){var B=X(b),G=!B&&gr(b),K=!B&&!G&&sn(b);$=b,B||G||K?X(_)?$=_:Ae(_)?$=Qe(_):G?(F=!1,$=lc(b,!0)):K?(F=!1,$=hc(b,!0)):$=[]:zn(b)||Lr(b)?($=_,Lr(_)?$=ul(_):(!Se(_)||Yt(_))&&($=kc(b))):F=!1}F&&(m.set(b,$),c($,b,u,d,m),m.delete(b)),xo(e,o,$)}function ec(e,n){var o=e.length;if(!!o)return n+=n<0?o:0,Kt(n,o)?e[n]:t}function tc(e,n,o){n.length?n=Ee(n,function(d){return X(d)?function(m){return $r(m,d.length===1?d[0]:d)}:d}):n=[rt];var u=-1;n=Ee(n,ot(z()));var c=Xf(e,function(d,m,_){var b=Ee(n,function(A){return A(d)});return{criteria:b,index:++u,value:d}});return qm(c,function(d,m){return T_(d,m,o)})}function g_(e,n){return rc(e,n,function(o,u){return oa(e,u)})}function rc(e,n,o){for(var u=-1,c=n.length,d={};++u<c;){var m=n[u],_=$r(e,m);o(_,m)&&Wn(d,hr(m,e),_)}return d}function p_(e){return function(n){return $r(n,e)}}function Ro(e,n,o,u){var c=u?Bm:Yr,d=-1,m=n.length,_=e;for(e===n&&(n=Qe(n)),o&&(_=Ee(e,ot(o)));++d<m;)for(var b=0,A=n[d],$=o?o(A):A;(b=c(_,$,b,u))>-1;)_!==e&&Pi.call(_,b,1),Pi.call(e,b,1);return e}function nc(e,n){for(var o=e?n.length:0,u=o-1;o--;){var c=n[o];if(o==u||c!==d){var d=c;Kt(c)?Pi.call(e,c,1):No(e,c)}}return e}function Fo(e,n){return e+Mi(Nf()*(n-e+1))}function m_(e,n,o,u){for(var c=-1,d=Ie(Ni((n-e)/(o||1)),0),m=x(d);d--;)m[u?d:++c]=e,e+=o;return m}function Po(e,n){var o="";if(!e||n<1||n>ae)return o;do n%2&&(o+=e),n=Mi(n/2),n&&(e+=e);while(n);return o}function te(e,n){return Zo(Rc(e,n,rt),e+"")}function v_(e){return qf(on(e))}function __(e,n){var o=on(e);return ts(o,Ar(n,0,o.length))}function Wn(e,n,o,u){if(!Se(e))return e;n=hr(n,e);for(var c=-1,d=n.length,m=d-1,_=e;_!=null&&++c<d;){var b=Mt(n[c]),A=o;if(b==="__proto__"||b==="constructor"||b==="prototype")return e;if(c!=m){var $=_[b];A=u?u($,b,_):t,A===t&&(A=Se($)?$:Kt(n[c+1])?[]:{})}Mn(_,b,A),_=_[b]}return e}var ic=Bi?function(e,n){return Bi.set(e,n),e}:rt,y_=Di?function(e,n){return Di(e,"toString",{configurable:!0,enumerable:!1,value:ua(n),writable:!0})}:rt;function w_(e){return ts(on(e))}function wt(e,n,o){var u=-1,c=e.length;n<0&&(n=-n>c?0:c+n),o=o>c?c:o,o<0&&(o+=c),c=n>o?0:o-n>>>0,n>>>=0;for(var d=x(c);++u<c;)d[u]=e[u+n];return d}function b_(e,n){var o;return cr(e,function(u,c,d){return o=n(u,c,d),!o}),!!o}function zi(e,n,o){var u=0,c=e==null?u:e.length;if(typeof n=="number"&&n===n&&c<=j){for(;u<c;){var d=u+c>>>1,m=e[d];m!==null&&!ut(m)&&(o?m<=n:m<n)?u=d+1:c=d}return c}return Do(e,n,rt,o)}function Do(e,n,o,u){var c=0,d=e==null?0:e.length;if(d===0)return 0;n=o(n);for(var m=n!==n,_=n===null,b=ut(n),A=n===t;c<d;){var $=Mi((c+d)/2),F=o(e[$]),B=F!==t,G=F===null,K=F===F,ee=ut(F);if(m)var Y=u||K;else A?Y=K&&(u||B):_?Y=K&&B&&(u||!G):b?Y=K&&B&&!G&&(u||!ee):G||ee?Y=!1:Y=u?F<=n:F<n;Y?c=$+1:d=$}return je(d,H)}function sc(e,n){for(var o=-1,u=e.length,c=0,d=[];++o<u;){var m=e[o],_=n?n(m):m;if(!o||!Lt(_,b)){var b=_;d[c++]=m===0?0:m}}return d}function oc(e){return typeof e=="number"?e:ut(e)?I:+e}function at(e){if(typeof e=="string")return e;if(X(e))return Ee(e,at)+"";if(ut(e))return Mf?Mf.call(e):"";var n=e+"";return n=="0"&&1/e==-Ge?"-0":n}function lr(e,n,o){var u=-1,c=Ci,d=e.length,m=!0,_=[],b=_;if(o)m=!1,c=co;else if(d>=i){var A=n?null:L_(e);if(A)return Oi(A);m=!1,c=Ln,b=new Or}else b=n?[]:_;e:for(;++u<d;){var $=e[u],F=n?n($):$;if($=o||$!==0?$:0,m&&F===F){for(var B=b.length;B--;)if(b[B]===F)continue e;n&&b.push(F),_.push($)}else c(b,F,o)||(b!==_&&b.push(F),_.push($))}return _}function No(e,n){return n=hr(n,e),e=Fc(e,n),e==null||delete e[Mt(bt(n))]}function ac(e,n,o,u){return Wn(e,n,o($r(e,n)),u)}function Ki(e,n,o,u){for(var c=e.length,d=u?c:-1;(u?d--:++d<c)&&n(e[d],d,e););return o?wt(e,u?0:d,u?d+1:c):wt(e,u?d+1:0,u?c:d)}function uc(e,n){var o=e;return o instanceof ie&&(o=o.value()),lo(n,function(u,c){return c.func.apply(c.thisArg,or([u],c.args))},o)}function Mo(e,n,o){var u=e.length;if(u<2)return u?lr(e[0]):[];for(var c=-1,d=x(u);++c<u;)for(var m=e[c],_=-1;++_<u;)_!=c&&(d[c]=Bn(d[c]||m,e[_],n,o));return lr(qe(d,1),n,o)}function fc(e,n,o){for(var u=-1,c=e.length,d=n.length,m={};++u<c;){var _=u<d?n[u]:t;o(m,e[u],_)}return m}function Bo(e){return Ae(e)?e:[]}function qo(e){return typeof e=="function"?e:rt}function hr(e,n){return X(e)?e:Vo(e,n)?[e]:Mc(ce(e))}var E_=te;function dr(e,n,o){var u=e.length;return o=o===t?u:o,!n&&o>=u?e:wt(e,n,o)}var cc=fv||function(e){return Pe.clearTimeout(e)};function lc(e,n){if(n)return e.slice();var o=e.length,u=Lf?Lf(o):new e.constructor(o);return e.copy(u),u}function Uo(e){var n=new e.constructor(e.byteLength);return new Ri(n).set(new Ri(e)),n}function S_(e,n){var o=n?Uo(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function x_(e){var n=new e.constructor(e.source,Ku.exec(e));return n.lastIndex=e.lastIndex,n}function C_(e){return Nn?pe(Nn.call(e)):{}}function hc(e,n){var o=n?Uo(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function dc(e,n){if(e!==n){var o=e!==t,u=e===null,c=e===e,d=ut(e),m=n!==t,_=n===null,b=n===n,A=ut(n);if(!_&&!A&&!d&&e>n||d&&m&&b&&!_&&!A||u&&m&&b||!o&&b||!c)return 1;if(!u&&!d&&!A&&e<n||A&&o&&c&&!u&&!d||_&&o&&c||!m&&c||!b)return-1}return 0}function T_(e,n,o){for(var u=-1,c=e.criteria,d=n.criteria,m=c.length,_=o.length;++u<m;){var b=dc(c[u],d[u]);if(b){if(u>=_)return b;var A=o[u];return b*(A=="desc"?-1:1)}}return e.index-n.index}function gc(e,n,o,u){for(var c=-1,d=e.length,m=o.length,_=-1,b=n.length,A=Ie(d-m,0),$=x(b+A),F=!u;++_<b;)$[_]=n[_];for(;++c<m;)(F||c<d)&&($[o[c]]=e[c]);for(;A--;)$[_++]=e[c++];return $}function pc(e,n,o,u){for(var c=-1,d=e.length,m=-1,_=o.length,b=-1,A=n.length,$=Ie(d-_,0),F=x($+A),B=!u;++c<$;)F[c]=e[c];for(var G=c;++b<A;)F[G+b]=n[b];for(;++m<_;)(B||c<d)&&(F[G+o[m]]=e[c++]);return F}function Qe(e,n){var o=-1,u=e.length;for(n||(n=x(u));++o<u;)n[o]=e[o];return n}function Nt(e,n,o,u){var c=!o;o||(o={});for(var d=-1,m=n.length;++d<m;){var _=n[d],b=u?u(o[_],e[_],_,o,e):t;b===t&&(b=e[_]),c?jt(o,_,b):Mn(o,_,b)}return o}function O_(e,n){return Nt(e,Yo(e),n)}function A_(e,n){return Nt(e,Ac(e),n)}function Yi(e,n){return function(o,u){var c=X(o)?Rm:Jv,d=n?n():{};return c(o,e,z(u,2),d)}}function tn(e){return te(function(n,o){var u=-1,c=o.length,d=c>1?o[c-1]:t,m=c>2?o[2]:t;for(d=e.length>3&&typeof d=="function"?(c--,d):t,m&&Ye(o[0],o[1],m)&&(d=c<3?t:d,c=1),n=pe(n);++u<c;){var _=o[u];_&&e(n,_,u,d)}return n})}function mc(e,n){return function(o,u){if(o==null)return o;if(!et(o))return e(o,u);for(var c=o.length,d=n?c:-1,m=pe(o);(n?d--:++d<c)&&u(m[d],d,m)!==!1;);return o}}function vc(e){return function(n,o,u){for(var c=-1,d=pe(n),m=u(n),_=m.length;_--;){var b=m[e?_:++c];if(o(d[b],b,d)===!1)break}return n}}function $_(e,n,o){var u=n&O,c=Gn(e);function d(){var m=this&&this!==Pe&&this instanceof d?c:e;return m.apply(u?o:this,arguments)}return d}function _c(e){return function(n){n=ce(n);var o=Vr(n)?kt(n):t,u=o?o[0]:n.charAt(0),c=o?dr(o,1).join(""):n.slice(1);return u[e]()+c}}function rn(e){return function(n){return lo(ml(pl(n).replace(ym,"")),e,"")}}function Gn(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var o=en(e.prototype),u=e.apply(o,n);return Se(u)?u:o}}function k_(e,n,o){var u=Gn(e);function c(){for(var d=arguments.length,m=x(d),_=d,b=nn(c);_--;)m[_]=arguments[_];var A=d<3&&m[0]!==b&&m[d-1]!==b?[]:ar(m,b);if(d-=A.length,d<o)return Sc(e,n,Vi,c.placeholder,t,m,A,t,t,o-d);var $=this&&this!==Pe&&this instanceof c?u:e;return st($,this,m)}return c}function yc(e){return function(n,o,u){var c=pe(n);if(!et(n)){var d=z(o,3);n=De(n),o=function(_){return d(c[_],_,c)}}var m=e(n,o,u);return m>-1?c[d?n[m]:m]:t}}function wc(e){return zt(function(n){var o=n.length,u=o,c=_t.prototype.thru;for(e&&n.reverse();u--;){var d=n[u];if(typeof d!="function")throw new vt(a);if(c&&!m&&Qi(d)=="wrapper")var m=new _t([],!0)}for(u=m?u:o;++u<o;){d=n[u];var _=Qi(d),b=_=="wrapper"?zo(d):t;b&&Jo(b[0])&&b[1]==(V|D|M|oe)&&!b[4].length&&b[9]==1?m=m[Qi(b[0])].apply(m,b[3]):m=d.length==1&&Jo(d)?m[_]():m.thru(d)}return function(){var A=arguments,$=A[0];if(m&&A.length==1&&X($))return m.plant($).value();for(var F=0,B=o?n[F].apply(this,A):$;++F<o;)B=n[F].call(this,B);return B}})}function Vi(e,n,o,u,c,d,m,_,b,A){var $=n&V,F=n&O,B=n&L,G=n&(D|N),K=n&ue,ee=B?t:Gn(e);function Y(){for(var ne=arguments.length,se=x(ne),ft=ne;ft--;)se[ft]=arguments[ft];if(G)var Ve=nn(Y),ct=Wm(se,Ve);if(u&&(se=gc(se,u,c,G)),d&&(se=pc(se,d,m,G)),ne-=ct,G&&ne<A){var $e=ar(se,Ve);return Sc(e,n,Vi,Y.placeholder,o,se,$e,_,b,A-ne)}var Rt=F?o:this,Jt=B?Rt[e]:e;return ne=se.length,_?se=J_(se,_):K&&ne>1&&se.reverse(),$&&b<ne&&(se.length=b),this&&this!==Pe&&this instanceof Y&&(Jt=ee||Gn(Jt)),Jt.apply(Rt,se)}return Y}function bc(e,n){return function(o,u){return i_(o,e,n(u),{})}}function Ji(e,n){return function(o,u){var c;if(o===t&&u===t)return n;if(o!==t&&(c=o),u!==t){if(c===t)return u;typeof o=="string"||typeof u=="string"?(o=at(o),u=at(u)):(o=oc(o),u=oc(u)),c=e(o,u)}return c}}function Wo(e){return zt(function(n){return n=Ee(n,ot(z())),te(function(o){var u=this;return e(n,function(c){return st(c,u,o)})})})}function Xi(e,n){n=n===t?" ":at(n);var o=n.length;if(o<2)return o?Po(n,e):n;var u=Po(n,Ni(e/Jr(n)));return Vr(n)?dr(kt(u),0,e).join(""):u.slice(0,e)}function I_(e,n,o,u){var c=n&O,d=Gn(e);function m(){for(var _=-1,b=arguments.length,A=-1,$=u.length,F=x($+b),B=this&&this!==Pe&&this instanceof m?d:e;++A<$;)F[A]=u[A];for(;b--;)F[A++]=arguments[++_];return st(B,c?o:this,F)}return m}function Ec(e){return function(n,o,u){return u&&typeof u!="number"&&Ye(n,o,u)&&(o=u=t),n=Vt(n),o===t?(o=n,n=0):o=Vt(o),u=u===t?n<o?1:-1:Vt(u),m_(n,o,u,e)}}function Zi(e){return function(n,o){return typeof n=="string"&&typeof o=="string"||(n=Et(n),o=Et(o)),e(n,o)}}function Sc(e,n,o,u,c,d,m,_,b,A){var $=n&D,F=$?m:t,B=$?t:m,G=$?d:t,K=$?t:d;n|=$?M:W,n&=~($?W:M),n&k||(n&=~(O|L));var ee=[e,n,c,G,F,K,B,_,b,A],Y=o.apply(t,ee);return Jo(e)&&Pc(Y,ee),Y.placeholder=u,Dc(Y,e,n)}function Go(e){var n=ke[e];return function(o,u){if(o=Et(o),u=u==null?0:je(Q(u),292),u&&Df(o)){var c=(ce(o)+"e").split("e"),d=n(c[0]+"e"+(+c[1]+u));return c=(ce(d)+"e").split("e"),+(c[0]+"e"+(+c[1]-u))}return n(o)}}var L_=Zr&&1/Oi(new Zr([,-0]))[1]==Ge?function(e){return new Zr(e)}:la;function xc(e){return function(n){var o=He(n);return o==At?yo(n):o==$t?Vm(n):Um(n,e(n))}}function Ht(e,n,o,u,c,d,m,_){var b=n&L;if(!b&&typeof e!="function")throw new vt(a);var A=u?u.length:0;if(A||(n&=~(M|W),u=c=t),m=m===t?m:Ie(Q(m),0),_=_===t?_:Q(_),A-=c?c.length:0,n&W){var $=u,F=c;u=c=t}var B=b?t:zo(e),G=[e,n,o,u,c,$,F,d,m,_];if(B&&K_(G,B),e=G[0],n=G[1],o=G[2],u=G[3],c=G[4],_=G[9]=G[9]===t?b?0:e.length:Ie(G[9]-A,0),!_&&n&(D|N)&&(n&=~(D|N)),!n||n==O)var K=$_(e,n,o);else n==D||n==N?K=k_(e,n,_):(n==M||n==(O|M))&&!c.length?K=I_(e,n,o,u):K=Vi.apply(t,G);var ee=B?ic:Pc;return Dc(ee(K,G),e,n)}function Cc(e,n,o,u){return e===t||Lt(e,Xr[o])&&!de.call(u,o)?n:e}function Tc(e,n,o,u,c,d){return Se(e)&&Se(n)&&(d.set(n,e),Hi(e,n,t,Tc,d),d.delete(n)),e}function R_(e){return zn(e)?t:e}function Oc(e,n,o,u,c,d){var m=o&S,_=e.length,b=n.length;if(_!=b&&!(m&&b>_))return!1;var A=d.get(e),$=d.get(n);if(A&&$)return A==n&&$==e;var F=-1,B=!0,G=o&C?new Or:t;for(d.set(e,n),d.set(n,e);++F<_;){var K=e[F],ee=n[F];if(u)var Y=m?u(ee,K,F,n,e,d):u(K,ee,F,e,n,d);if(Y!==t){if(Y)continue;B=!1;break}if(G){if(!ho(n,function(ne,se){if(!Ln(G,se)&&(K===ne||c(K,ne,o,u,d)))return G.push(se)})){B=!1;break}}else if(!(K===ee||c(K,ee,o,u,d))){B=!1;break}}return d.delete(e),d.delete(n),B}function F_(e,n,o,u,c,d,m){switch(o){case zr:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case In:return!(e.byteLength!=n.byteLength||!d(new Ri(e),new Ri(n)));case Fe:case Ot:case On:return Lt(+e,+n);case yi:return e.name==n.name&&e.message==n.message;case An:case $n:return e==n+"";case At:var _=yo;case $t:var b=u&S;if(_||(_=Oi),e.size!=n.size&&!b)return!1;var A=m.get(e);if(A)return A==n;u|=C,m.set(e,n);var $=Oc(_(e),_(n),u,c,d,m);return m.delete(e),$;case bi:if(Nn)return Nn.call(e)==Nn.call(n)}return!1}function P_(e,n,o,u,c,d){var m=o&S,_=jo(e),b=_.length,A=jo(n),$=A.length;if(b!=$&&!m)return!1;for(var F=b;F--;){var B=_[F];if(!(m?B in n:de.call(n,B)))return!1}var G=d.get(e),K=d.get(n);if(G&&K)return G==n&&K==e;var ee=!0;d.set(e,n),d.set(n,e);for(var Y=m;++F<b;){B=_[F];var ne=e[B],se=n[B];if(u)var ft=m?u(se,ne,B,n,e,d):u(ne,se,B,e,n,d);if(!(ft===t?ne===se||c(ne,se,o,u,d):ft)){ee=!1;break}Y||(Y=B=="constructor")}if(ee&&!Y){var Ve=e.constructor,ct=n.constructor;Ve!=ct&&"constructor"in e&&"constructor"in n&&!(typeof Ve=="function"&&Ve instanceof Ve&&typeof ct=="function"&&ct instanceof ct)&&(ee=!1)}return d.delete(e),d.delete(n),ee}function zt(e){return Zo(Rc(e,t,Wc),e+"")}function jo(e){return Kf(e,De,Yo)}function Ho(e){return Kf(e,tt,Ac)}var zo=Bi?function(e){return Bi.get(e)}:la;function Qi(e){for(var n=e.name+"",o=Qr[n],u=de.call(Qr,n)?o.length:0;u--;){var c=o[u],d=c.func;if(d==null||d==e)return c.name}return n}function nn(e){var n=de.call(h,"placeholder")?h:e;return n.placeholder}function z(){var e=h.iteratee||fa;return e=e===fa?Jf:e,arguments.length?e(arguments[0],arguments[1]):e}function es(e,n){var o=e.__data__;return G_(n)?o[typeof n=="string"?"string":"hash"]:o.map}function Ko(e){for(var n=De(e),o=n.length;o--;){var u=n[o],c=e[u];n[o]=[u,c,Ic(c)]}return n}function kr(e,n){var o=zm(e,n);return Vf(o)?o:t}function D_(e){var n=de.call(e,Cr),o=e[Cr];try{e[Cr]=t;var u=!0}catch{}var c=Ii.call(e);return u&&(n?e[Cr]=o:delete e[Cr]),c}var Yo=bo?function(e){return e==null?[]:(e=pe(e),sr(bo(e),function(n){return Ff.call(e,n)}))}:ha,Ac=bo?function(e){for(var n=[];e;)or(n,Yo(e)),e=Fi(e);return n}:ha,He=Ke;(Eo&&He(new Eo(new ArrayBuffer(1)))!=zr||Fn&&He(new Fn)!=At||So&&He(So.resolve())!=Gu||Zr&&He(new Zr)!=$t||Pn&&He(new Pn)!=kn)&&(He=function(e){var n=Ke(e),o=n==Ut?e.constructor:t,u=o?Ir(o):"";if(u)switch(u){case _v:return zr;case yv:return At;case wv:return Gu;case bv:return $t;case Ev:return kn}return n});function N_(e,n,o){for(var u=-1,c=o.length;++u<c;){var d=o[u],m=d.size;switch(d.type){case"drop":e+=m;break;case"dropRight":n-=m;break;case"take":n=je(n,e+m);break;case"takeRight":e=Ie(e,n-m);break}}return{start:e,end:n}}function M_(e){var n=e.match(jp);return n?n[1].split(Hp):[]}function $c(e,n,o){n=hr(n,e);for(var u=-1,c=n.length,d=!1;++u<c;){var m=Mt(n[u]);if(!(d=e!=null&&o(e,m)))break;e=e[m]}return d||++u!=c?d:(c=e==null?0:e.length,!!c&&as(c)&&Kt(m,c)&&(X(e)||Lr(e)))}function B_(e){var n=e.length,o=new e.constructor(n);return n&&typeof e[0]=="string"&&de.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function kc(e){return typeof e.constructor=="function"&&!jn(e)?en(Fi(e)):{}}function q_(e,n,o){var u=e.constructor;switch(n){case In:return Uo(e);case Fe:case Ot:return new u(+e);case zr:return S_(e,o);case zs:case Ks:case Ys:case Vs:case Js:case Xs:case Zs:case Qs:case eo:return hc(e,o);case At:return new u;case On:case $n:return new u(e);case An:return x_(e);case $t:return new u;case bi:return C_(e)}}function U_(e,n){var o=n.length;if(!o)return e;var u=o-1;return n[u]=(o>1?"& ":"")+n[u],n=n.join(o>2?", ":" "),e.replace(Gp,`{
/* [wrapped with `+n+`] */
`)}function W_(e){return X(e)||Lr(e)||!!(Pf&&e&&e[Pf])}function Kt(e,n){var o=typeof e;return n=n==null?ae:n,!!n&&(o=="number"||o!="symbol"&&em.test(e))&&e>-1&&e%1==0&&e<n}function Ye(e,n,o){if(!Se(o))return!1;var u=typeof n;return(u=="number"?et(o)&&Kt(n,o.length):u=="string"&&n in o)?Lt(o[n],e):!1}function Vo(e,n){if(X(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||ut(e)?!0:Bp.test(e)||!Mp.test(e)||n!=null&&e in pe(n)}function G_(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Jo(e){var n=Qi(e),o=h[n];if(typeof o!="function"||!(n in ie.prototype))return!1;if(e===o)return!0;var u=zo(o);return!!u&&e===u[0]}function j_(e){return!!If&&If in e}var H_=$i?Yt:da;function jn(e){var n=e&&e.constructor,o=typeof n=="function"&&n.prototype||Xr;return e===o}function Ic(e){return e===e&&!Se(e)}function Lc(e,n){return function(o){return o==null?!1:o[e]===n&&(n!==t||e in pe(o))}}function z_(e){var n=ss(e,function(u){return o.size===g&&o.clear(),u}),o=n.cache;return n}function K_(e,n){var o=e[1],u=n[1],c=o|u,d=c<(O|L|V),m=u==V&&o==D||u==V&&o==oe&&e[7].length<=n[8]||u==(V|oe)&&n[7].length<=n[8]&&o==D;if(!(d||m))return e;u&O&&(e[2]=n[2],c|=o&O?0:k);var _=n[3];if(_){var b=e[3];e[3]=b?gc(b,_,n[4]):_,e[4]=b?ar(e[3],p):n[4]}return _=n[5],_&&(b=e[5],e[5]=b?pc(b,_,n[6]):_,e[6]=b?ar(e[5],p):n[6]),_=n[7],_&&(e[7]=_),u&V&&(e[8]=e[8]==null?n[8]:je(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=c,e}function Y_(e){var n=[];if(e!=null)for(var o in pe(e))n.push(o);return n}function V_(e){return Ii.call(e)}function Rc(e,n,o){return n=Ie(n===t?e.length-1:n,0),function(){for(var u=arguments,c=-1,d=Ie(u.length-n,0),m=x(d);++c<d;)m[c]=u[n+c];c=-1;for(var _=x(n+1);++c<n;)_[c]=u[c];return _[n]=o(m),st(e,this,_)}}function Fc(e,n){return n.length<2?e:$r(e,wt(n,0,-1))}function J_(e,n){for(var o=e.length,u=je(n.length,o),c=Qe(e);u--;){var d=n[u];e[u]=Kt(d,o)?c[d]:t}return e}function Xo(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Pc=Nc(ic),Hn=lv||function(e,n){return Pe.setTimeout(e,n)},Zo=Nc(y_);function Dc(e,n,o){var u=n+"";return Zo(e,U_(u,X_(M_(u),o)))}function Nc(e){var n=0,o=0;return function(){var u=pv(),c=gt-(u-o);if(o=u,c>0){if(++n>=dt)return arguments[0]}else n=0;return e.apply(t,arguments)}}function ts(e,n){var o=-1,u=e.length,c=u-1;for(n=n===t?u:n;++o<n;){var d=Fo(o,c),m=e[d];e[d]=e[o],e[o]=m}return e.length=n,e}var Mc=z_(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(qp,function(o,u,c,d){n.push(c?d.replace(Yp,"$1"):u||o)}),n});function Mt(e){if(typeof e=="string"||ut(e))return e;var n=e+"";return n=="0"&&1/e==-Ge?"-0":n}function Ir(e){if(e!=null){try{return ki.call(e)}catch{}try{return e+""}catch{}}return""}function X_(e,n){return mt(ye,function(o){var u="_."+o[0];n&o[1]&&!Ci(e,u)&&e.push(u)}),e.sort()}function Bc(e){if(e instanceof ie)return e.clone();var n=new _t(e.__wrapped__,e.__chain__);return n.__actions__=Qe(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function Z_(e,n,o){(o?Ye(e,n,o):n===t)?n=1:n=Ie(Q(n),0);var u=e==null?0:e.length;if(!u||n<1)return[];for(var c=0,d=0,m=x(Ni(u/n));c<u;)m[d++]=wt(e,c,c+=n);return m}function Q_(e){for(var n=-1,o=e==null?0:e.length,u=0,c=[];++n<o;){var d=e[n];d&&(c[u++]=d)}return c}function e0(){var e=arguments.length;if(!e)return[];for(var n=x(e-1),o=arguments[0],u=e;u--;)n[u-1]=arguments[u];return or(X(o)?Qe(o):[o],qe(n,1))}var t0=te(function(e,n){return Ae(e)?Bn(e,qe(n,1,Ae,!0)):[]}),r0=te(function(e,n){var o=bt(n);return Ae(o)&&(o=t),Ae(e)?Bn(e,qe(n,1,Ae,!0),z(o,2)):[]}),n0=te(function(e,n){var o=bt(n);return Ae(o)&&(o=t),Ae(e)?Bn(e,qe(n,1,Ae,!0),t,o):[]});function i0(e,n,o){var u=e==null?0:e.length;return u?(n=o||n===t?1:Q(n),wt(e,n<0?0:n,u)):[]}function s0(e,n,o){var u=e==null?0:e.length;return u?(n=o||n===t?1:Q(n),n=u-n,wt(e,0,n<0?0:n)):[]}function o0(e,n){return e&&e.length?Ki(e,z(n,3),!0,!0):[]}function a0(e,n){return e&&e.length?Ki(e,z(n,3),!0):[]}function u0(e,n,o,u){var c=e==null?0:e.length;return c?(o&&typeof o!="number"&&Ye(e,n,o)&&(o=0,u=c),e_(e,n,o,u)):[]}function qc(e,n,o){var u=e==null?0:e.length;if(!u)return-1;var c=o==null?0:Q(o);return c<0&&(c=Ie(u+c,0)),Ti(e,z(n,3),c)}function Uc(e,n,o){var u=e==null?0:e.length;if(!u)return-1;var c=u-1;return o!==t&&(c=Q(o),c=o<0?Ie(u+c,0):je(c,u-1)),Ti(e,z(n,3),c,!0)}function Wc(e){var n=e==null?0:e.length;return n?qe(e,1):[]}function f0(e){var n=e==null?0:e.length;return n?qe(e,Ge):[]}function c0(e,n){var o=e==null?0:e.length;return o?(n=n===t?1:Q(n),qe(e,n)):[]}function l0(e){for(var n=-1,o=e==null?0:e.length,u={};++n<o;){var c=e[n];u[c[0]]=c[1]}return u}function Gc(e){return e&&e.length?e[0]:t}function h0(e,n,o){var u=e==null?0:e.length;if(!u)return-1;var c=o==null?0:Q(o);return c<0&&(c=Ie(u+c,0)),Yr(e,n,c)}function d0(e){var n=e==null?0:e.length;return n?wt(e,0,-1):[]}var g0=te(function(e){var n=Ee(e,Bo);return n.length&&n[0]===e[0]?$o(n):[]}),p0=te(function(e){var n=bt(e),o=Ee(e,Bo);return n===bt(o)?n=t:o.pop(),o.length&&o[0]===e[0]?$o(o,z(n,2)):[]}),m0=te(function(e){var n=bt(e),o=Ee(e,Bo);return n=typeof n=="function"?n:t,n&&o.pop(),o.length&&o[0]===e[0]?$o(o,t,n):[]});function v0(e,n){return e==null?"":dv.call(e,n)}function bt(e){var n=e==null?0:e.length;return n?e[n-1]:t}function _0(e,n,o){var u=e==null?0:e.length;if(!u)return-1;var c=u;return o!==t&&(c=Q(o),c=c<0?Ie(u+c,0):je(c,u-1)),n===n?Xm(e,n,c):Ti(e,Sf,c,!0)}function y0(e,n){return e&&e.length?ec(e,Q(n)):t}var w0=te(jc);function jc(e,n){return e&&e.length&&n&&n.length?Ro(e,n):e}function b0(e,n,o){return e&&e.length&&n&&n.length?Ro(e,n,z(o,2)):e}function E0(e,n,o){return e&&e.length&&n&&n.length?Ro(e,n,t,o):e}var S0=zt(function(e,n){var o=e==null?0:e.length,u=Co(e,n);return nc(e,Ee(n,function(c){return Kt(c,o)?+c:c}).sort(dc)),u});function x0(e,n){var o=[];if(!(e&&e.length))return o;var u=-1,c=[],d=e.length;for(n=z(n,3);++u<d;){var m=e[u];n(m,u,e)&&(o.push(m),c.push(u))}return nc(e,c),o}function Qo(e){return e==null?e:vv.call(e)}function C0(e,n,o){var u=e==null?0:e.length;return u?(o&&typeof o!="number"&&Ye(e,n,o)?(n=0,o=u):(n=n==null?0:Q(n),o=o===t?u:Q(o)),wt(e,n,o)):[]}function T0(e,n){return zi(e,n)}function O0(e,n,o){return Do(e,n,z(o,2))}function A0(e,n){var o=e==null?0:e.length;if(o){var u=zi(e,n);if(u<o&&Lt(e[u],n))return u}return-1}function $0(e,n){return zi(e,n,!0)}function k0(e,n,o){return Do(e,n,z(o,2),!0)}function I0(e,n){var o=e==null?0:e.length;if(o){var u=zi(e,n,!0)-1;if(Lt(e[u],n))return u}return-1}function L0(e){return e&&e.length?sc(e):[]}function R0(e,n){return e&&e.length?sc(e,z(n,2)):[]}function F0(e){var n=e==null?0:e.length;return n?wt(e,1,n):[]}function P0(e,n,o){return e&&e.length?(n=o||n===t?1:Q(n),wt(e,0,n<0?0:n)):[]}function D0(e,n,o){var u=e==null?0:e.length;return u?(n=o||n===t?1:Q(n),n=u-n,wt(e,n<0?0:n,u)):[]}function N0(e,n){return e&&e.length?Ki(e,z(n,3),!1,!0):[]}function M0(e,n){return e&&e.length?Ki(e,z(n,3)):[]}var B0=te(function(e){return lr(qe(e,1,Ae,!0))}),q0=te(function(e){var n=bt(e);return Ae(n)&&(n=t),lr(qe(e,1,Ae,!0),z(n,2))}),U0=te(function(e){var n=bt(e);return n=typeof n=="function"?n:t,lr(qe(e,1,Ae,!0),t,n)});function W0(e){return e&&e.length?lr(e):[]}function G0(e,n){return e&&e.length?lr(e,z(n,2)):[]}function j0(e,n){return n=typeof n=="function"?n:t,e&&e.length?lr(e,t,n):[]}function ea(e){if(!(e&&e.length))return[];var n=0;return e=sr(e,function(o){if(Ae(o))return n=Ie(o.length,n),!0}),vo(n,function(o){return Ee(e,go(o))})}function Hc(e,n){if(!(e&&e.length))return[];var o=ea(e);return n==null?o:Ee(o,function(u){return st(n,t,u)})}var H0=te(function(e,n){return Ae(e)?Bn(e,n):[]}),z0=te(function(e){return Mo(sr(e,Ae))}),K0=te(function(e){var n=bt(e);return Ae(n)&&(n=t),Mo(sr(e,Ae),z(n,2))}),Y0=te(function(e){var n=bt(e);return n=typeof n=="function"?n:t,Mo(sr(e,Ae),t,n)}),V0=te(ea);function J0(e,n){return fc(e||[],n||[],Mn)}function X0(e,n){return fc(e||[],n||[],Wn)}var Z0=te(function(e){var n=e.length,o=n>1?e[n-1]:t;return o=typeof o=="function"?(e.pop(),o):t,Hc(e,o)});function zc(e){var n=h(e);return n.__chain__=!0,n}function Q0(e,n){return n(e),e}function rs(e,n){return n(e)}var ey=zt(function(e){var n=e.length,o=n?e[0]:0,u=this.__wrapped__,c=function(d){return Co(d,e)};return n>1||this.__actions__.length||!(u instanceof ie)||!Kt(o)?this.thru(c):(u=u.slice(o,+o+(n?1:0)),u.__actions__.push({func:rs,args:[c],thisArg:t}),new _t(u,this.__chain__).thru(function(d){return n&&!d.length&&d.push(t),d}))});function ty(){return zc(this)}function ry(){return new _t(this.value(),this.__chain__)}function ny(){this.__values__===t&&(this.__values__=ol(this.value()));var e=this.__index__>=this.__values__.length,n=e?t:this.__values__[this.__index__++];return{done:e,value:n}}function iy(){return this}function sy(e){for(var n,o=this;o instanceof Ui;){var u=Bc(o);u.__index__=0,u.__values__=t,n?c.__wrapped__=u:n=u;var c=u;o=o.__wrapped__}return c.__wrapped__=e,n}function oy(){var e=this.__wrapped__;if(e instanceof ie){var n=e;return this.__actions__.length&&(n=new ie(this)),n=n.reverse(),n.__actions__.push({func:rs,args:[Qo],thisArg:t}),new _t(n,this.__chain__)}return this.thru(Qo)}function ay(){return uc(this.__wrapped__,this.__actions__)}var uy=Yi(function(e,n,o){de.call(e,o)?++e[o]:jt(e,o,1)});function fy(e,n,o){var u=X(e)?bf:Qv;return o&&Ye(e,n,o)&&(n=t),u(e,z(n,3))}function cy(e,n){var o=X(e)?sr:Hf;return o(e,z(n,3))}var ly=yc(qc),hy=yc(Uc);function dy(e,n){return qe(ns(e,n),1)}function gy(e,n){return qe(ns(e,n),Ge)}function py(e,n,o){return o=o===t?1:Q(o),qe(ns(e,n),o)}function Kc(e,n){var o=X(e)?mt:cr;return o(e,z(n,3))}function Yc(e,n){var o=X(e)?Fm:jf;return o(e,z(n,3))}var my=Yi(function(e,n,o){de.call(e,o)?e[o].push(n):jt(e,o,[n])});function vy(e,n,o,u){e=et(e)?e:on(e),o=o&&!u?Q(o):0;var c=e.length;return o<0&&(o=Ie(c+o,0)),us(e)?o<=c&&e.indexOf(n,o)>-1:!!c&&Yr(e,n,o)>-1}var _y=te(function(e,n,o){var u=-1,c=typeof n=="function",d=et(e)?x(e.length):[];return cr(e,function(m){d[++u]=c?st(n,m,o):qn(m,n,o)}),d}),yy=Yi(function(e,n,o){jt(e,o,n)});function ns(e,n){var o=X(e)?Ee:Xf;return o(e,z(n,3))}function wy(e,n,o,u){return e==null?[]:(X(n)||(n=n==null?[]:[n]),o=u?t:o,X(o)||(o=o==null?[]:[o]),tc(e,n,o))}var by=Yi(function(e,n,o){e[o?0:1].push(n)},function(){return[[],[]]});function Ey(e,n,o){var u=X(e)?lo:Cf,c=arguments.length<3;return u(e,z(n,4),o,c,cr)}function Sy(e,n,o){var u=X(e)?Pm:Cf,c=arguments.length<3;return u(e,z(n,4),o,c,jf)}function xy(e,n){var o=X(e)?sr:Hf;return o(e,os(z(n,3)))}function Cy(e){var n=X(e)?qf:v_;return n(e)}function Ty(e,n,o){(o?Ye(e,n,o):n===t)?n=1:n=Q(n);var u=X(e)?Yv:__;return u(e,n)}function Oy(e){var n=X(e)?Vv:w_;return n(e)}function Ay(e){if(e==null)return 0;if(et(e))return us(e)?Jr(e):e.length;var n=He(e);return n==At||n==$t?e.size:Io(e).length}function $y(e,n,o){var u=X(e)?ho:b_;return o&&Ye(e,n,o)&&(n=t),u(e,z(n,3))}var ky=te(function(e,n){if(e==null)return[];var o=n.length;return o>1&&Ye(e,n[0],n[1])?n=[]:o>2&&Ye(n[0],n[1],n[2])&&(n=[n[0]]),tc(e,qe(n,1),[])}),is=cv||function(){return Pe.Date.now()};function Iy(e,n){if(typeof n!="function")throw new vt(a);return e=Q(e),function(){if(--e<1)return n.apply(this,arguments)}}function Vc(e,n,o){return n=o?t:n,n=e&&n==null?e.length:n,Ht(e,V,t,t,t,t,n)}function Jc(e,n){var o;if(typeof n!="function")throw new vt(a);return e=Q(e),function(){return--e>0&&(o=n.apply(this,arguments)),e<=1&&(n=t),o}}var ta=te(function(e,n,o){var u=O;if(o.length){var c=ar(o,nn(ta));u|=M}return Ht(e,u,n,o,c)}),Xc=te(function(e,n,o){var u=O|L;if(o.length){var c=ar(o,nn(Xc));u|=M}return Ht(n,u,e,o,c)});function Zc(e,n,o){n=o?t:n;var u=Ht(e,D,t,t,t,t,t,n);return u.placeholder=Zc.placeholder,u}function Qc(e,n,o){n=o?t:n;var u=Ht(e,N,t,t,t,t,t,n);return u.placeholder=Qc.placeholder,u}function el(e,n,o){var u,c,d,m,_,b,A=0,$=!1,F=!1,B=!0;if(typeof e!="function")throw new vt(a);n=Et(n)||0,Se(o)&&($=!!o.leading,F="maxWait"in o,d=F?Ie(Et(o.maxWait)||0,n):d,B="trailing"in o?!!o.trailing:B);function G($e){var Rt=u,Jt=c;return u=c=t,A=$e,m=e.apply(Jt,Rt),m}function K($e){return A=$e,_=Hn(ne,n),$?G($e):m}function ee($e){var Rt=$e-b,Jt=$e-A,yl=n-Rt;return F?je(yl,d-Jt):yl}function Y($e){var Rt=$e-b,Jt=$e-A;return b===t||Rt>=n||Rt<0||F&&Jt>=d}function ne(){var $e=is();if(Y($e))return se($e);_=Hn(ne,ee($e))}function se($e){return _=t,B&&u?G($e):(u=c=t,m)}function ft(){_!==t&&cc(_),A=0,u=b=c=_=t}function Ve(){return _===t?m:se(is())}function ct(){var $e=is(),Rt=Y($e);if(u=arguments,c=this,b=$e,Rt){if(_===t)return K(b);if(F)return cc(_),_=Hn(ne,n),G(b)}return _===t&&(_=Hn(ne,n)),m}return ct.cancel=ft,ct.flush=Ve,ct}var Ly=te(function(e,n){return Gf(e,1,n)}),Ry=te(function(e,n,o){return Gf(e,Et(n)||0,o)});function Fy(e){return Ht(e,ue)}function ss(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new vt(a);var o=function(){var u=arguments,c=n?n.apply(this,u):u[0],d=o.cache;if(d.has(c))return d.get(c);var m=e.apply(this,u);return o.cache=d.set(c,m)||d,m};return o.cache=new(ss.Cache||Gt),o}ss.Cache=Gt;function os(e){if(typeof e!="function")throw new vt(a);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function Py(e){return Jc(2,e)}var Dy=E_(function(e,n){n=n.length==1&&X(n[0])?Ee(n[0],ot(z())):Ee(qe(n,1),ot(z()));var o=n.length;return te(function(u){for(var c=-1,d=je(u.length,o);++c<d;)u[c]=n[c].call(this,u[c]);return st(e,this,u)})}),ra=te(function(e,n){var o=ar(n,nn(ra));return Ht(e,M,t,n,o)}),tl=te(function(e,n){var o=ar(n,nn(tl));return Ht(e,W,t,n,o)}),Ny=zt(function(e,n){return Ht(e,oe,t,t,t,n)});function My(e,n){if(typeof e!="function")throw new vt(a);return n=n===t?n:Q(n),te(e,n)}function By(e,n){if(typeof e!="function")throw new vt(a);return n=n==null?0:Ie(Q(n),0),te(function(o){var u=o[n],c=dr(o,0,n);return u&&or(c,u),st(e,this,c)})}function qy(e,n,o){var u=!0,c=!0;if(typeof e!="function")throw new vt(a);return Se(o)&&(u="leading"in o?!!o.leading:u,c="trailing"in o?!!o.trailing:c),el(e,n,{leading:u,maxWait:n,trailing:c})}function Uy(e){return Vc(e,1)}function Wy(e,n){return ra(qo(n),e)}function Gy(){if(!arguments.length)return[];var e=arguments[0];return X(e)?e:[e]}function jy(e){return yt(e,E)}function Hy(e,n){return n=typeof n=="function"?n:t,yt(e,E,n)}function zy(e){return yt(e,v|E)}function Ky(e,n){return n=typeof n=="function"?n:t,yt(e,v|E,n)}function Yy(e,n){return n==null||Wf(e,n,De(n))}function Lt(e,n){return e===n||e!==e&&n!==n}var Vy=Zi(Ao),Jy=Zi(function(e,n){return e>=n}),Lr=Yf(function(){return arguments}())?Yf:function(e){return Ce(e)&&de.call(e,"callee")&&!Ff.call(e,"callee")},X=x.isArray,Xy=pf?ot(pf):s_;function et(e){return e!=null&&as(e.length)&&!Yt(e)}function Ae(e){return Ce(e)&&et(e)}function Zy(e){return e===!0||e===!1||Ce(e)&&Ke(e)==Fe}var gr=hv||da,Qy=mf?ot(mf):o_;function e1(e){return Ce(e)&&e.nodeType===1&&!zn(e)}function t1(e){if(e==null)return!0;if(et(e)&&(X(e)||typeof e=="string"||typeof e.splice=="function"||gr(e)||sn(e)||Lr(e)))return!e.length;var n=He(e);if(n==At||n==$t)return!e.size;if(jn(e))return!Io(e).length;for(var o in e)if(de.call(e,o))return!1;return!0}function r1(e,n){return Un(e,n)}function n1(e,n,o){o=typeof o=="function"?o:t;var u=o?o(e,n):t;return u===t?Un(e,n,t,o):!!u}function na(e){if(!Ce(e))return!1;var n=Ke(e);return n==yi||n==Sr||typeof e.message=="string"&&typeof e.name=="string"&&!zn(e)}function i1(e){return typeof e=="number"&&Df(e)}function Yt(e){if(!Se(e))return!1;var n=Ke(e);return n==wi||n==Wu||n==it||n==Ap}function rl(e){return typeof e=="number"&&e==Q(e)}function as(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ae}function Se(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Ce(e){return e!=null&&typeof e=="object"}var nl=vf?ot(vf):u_;function s1(e,n){return e===n||ko(e,n,Ko(n))}function o1(e,n,o){return o=typeof o=="function"?o:t,ko(e,n,Ko(n),o)}function a1(e){return il(e)&&e!=+e}function u1(e){if(H_(e))throw new J(s);return Vf(e)}function f1(e){return e===null}function c1(e){return e==null}function il(e){return typeof e=="number"||Ce(e)&&Ke(e)==On}function zn(e){if(!Ce(e)||Ke(e)!=Ut)return!1;var n=Fi(e);if(n===null)return!0;var o=de.call(n,"constructor")&&n.constructor;return typeof o=="function"&&o instanceof o&&ki.call(o)==ov}var ia=_f?ot(_f):f_;function l1(e){return rl(e)&&e>=-ae&&e<=ae}var sl=yf?ot(yf):c_;function us(e){return typeof e=="string"||!X(e)&&Ce(e)&&Ke(e)==$n}function ut(e){return typeof e=="symbol"||Ce(e)&&Ke(e)==bi}var sn=wf?ot(wf):l_;function h1(e){return e===t}function d1(e){return Ce(e)&&He(e)==kn}function g1(e){return Ce(e)&&Ke(e)==kp}var p1=Zi(Lo),m1=Zi(function(e,n){return e<=n});function ol(e){if(!e)return[];if(et(e))return us(e)?kt(e):Qe(e);if(Rn&&e[Rn])return Ym(e[Rn]());var n=He(e),o=n==At?yo:n==$t?Oi:on;return o(e)}function Vt(e){if(!e)return e===0?e:0;if(e=Et(e),e===Ge||e===-Ge){var n=e<0?-1:1;return n*R}return e===e?e:0}function Q(e){var n=Vt(e),o=n%1;return n===n?o?n-o:n:0}function al(e){return e?Ar(Q(e),0,P):0}function Et(e){if(typeof e=="number")return e;if(ut(e))return I;if(Se(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Se(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Tf(e);var o=Xp.test(e);return o||Qp.test(e)?Im(e.slice(2),o?2:8):Jp.test(e)?I:+e}function ul(e){return Nt(e,tt(e))}function v1(e){return e?Ar(Q(e),-ae,ae):e===0?e:0}function ce(e){return e==null?"":at(e)}var _1=tn(function(e,n){if(jn(n)||et(n)){Nt(n,De(n),e);return}for(var o in n)de.call(n,o)&&Mn(e,o,n[o])}),fl=tn(function(e,n){Nt(n,tt(n),e)}),fs=tn(function(e,n,o,u){Nt(n,tt(n),e,u)}),y1=tn(function(e,n,o,u){Nt(n,De(n),e,u)}),w1=zt(Co);function b1(e,n){var o=en(e);return n==null?o:Uf(o,n)}var E1=te(function(e,n){e=pe(e);var o=-1,u=n.length,c=u>2?n[2]:t;for(c&&Ye(n[0],n[1],c)&&(u=1);++o<u;)for(var d=n[o],m=tt(d),_=-1,b=m.length;++_<b;){var A=m[_],$=e[A];($===t||Lt($,Xr[A])&&!de.call(e,A))&&(e[A]=d[A])}return e}),S1=te(function(e){return e.push(t,Tc),st(cl,t,e)});function x1(e,n){return Ef(e,z(n,3),Dt)}function C1(e,n){return Ef(e,z(n,3),Oo)}function T1(e,n){return e==null?e:To(e,z(n,3),tt)}function O1(e,n){return e==null?e:zf(e,z(n,3),tt)}function A1(e,n){return e&&Dt(e,z(n,3))}function $1(e,n){return e&&Oo(e,z(n,3))}function k1(e){return e==null?[]:ji(e,De(e))}function I1(e){return e==null?[]:ji(e,tt(e))}function sa(e,n,o){var u=e==null?t:$r(e,n);return u===t?o:u}function L1(e,n){return e!=null&&$c(e,n,t_)}function oa(e,n){return e!=null&&$c(e,n,r_)}var R1=bc(function(e,n,o){n!=null&&typeof n.toString!="function"&&(n=Ii.call(n)),e[n]=o},ua(rt)),F1=bc(function(e,n,o){n!=null&&typeof n.toString!="function"&&(n=Ii.call(n)),de.call(e,n)?e[n].push(o):e[n]=[o]},z),P1=te(qn);function De(e){return et(e)?Bf(e):Io(e)}function tt(e){return et(e)?Bf(e,!0):h_(e)}function D1(e,n){var o={};return n=z(n,3),Dt(e,function(u,c,d){jt(o,n(u,c,d),u)}),o}function N1(e,n){var o={};return n=z(n,3),Dt(e,function(u,c,d){jt(o,c,n(u,c,d))}),o}var M1=tn(function(e,n,o){Hi(e,n,o)}),cl=tn(function(e,n,o,u){Hi(e,n,o,u)}),B1=zt(function(e,n){var o={};if(e==null)return o;var u=!1;n=Ee(n,function(d){return d=hr(d,e),u||(u=d.length>1),d}),Nt(e,Ho(e),o),u&&(o=yt(o,v|y|E,R_));for(var c=n.length;c--;)No(o,n[c]);return o});function q1(e,n){return ll(e,os(z(n)))}var U1=zt(function(e,n){return e==null?{}:g_(e,n)});function ll(e,n){if(e==null)return{};var o=Ee(Ho(e),function(u){return[u]});return n=z(n),rc(e,o,function(u,c){return n(u,c[0])})}function W1(e,n,o){n=hr(n,e);var u=-1,c=n.length;for(c||(c=1,e=t);++u<c;){var d=e==null?t:e[Mt(n[u])];d===t&&(u=c,d=o),e=Yt(d)?d.call(e):d}return e}function G1(e,n,o){return e==null?e:Wn(e,n,o)}function j1(e,n,o,u){return u=typeof u=="function"?u:t,e==null?e:Wn(e,n,o,u)}var hl=xc(De),dl=xc(tt);function H1(e,n,o){var u=X(e),c=u||gr(e)||sn(e);if(n=z(n,4),o==null){var d=e&&e.constructor;c?o=u?new d:[]:Se(e)?o=Yt(d)?en(Fi(e)):{}:o={}}return(c?mt:Dt)(e,function(m,_,b){return n(o,m,_,b)}),o}function z1(e,n){return e==null?!0:No(e,n)}function K1(e,n,o){return e==null?e:ac(e,n,qo(o))}function Y1(e,n,o,u){return u=typeof u=="function"?u:t,e==null?e:ac(e,n,qo(o),u)}function on(e){return e==null?[]:_o(e,De(e))}function V1(e){return e==null?[]:_o(e,tt(e))}function J1(e,n,o){return o===t&&(o=n,n=t),o!==t&&(o=Et(o),o=o===o?o:0),n!==t&&(n=Et(n),n=n===n?n:0),Ar(Et(e),n,o)}function X1(e,n,o){return n=Vt(n),o===t?(o=n,n=0):o=Vt(o),e=Et(e),n_(e,n,o)}function Z1(e,n,o){if(o&&typeof o!="boolean"&&Ye(e,n,o)&&(n=o=t),o===t&&(typeof n=="boolean"?(o=n,n=t):typeof e=="boolean"&&(o=e,e=t)),e===t&&n===t?(e=0,n=1):(e=Vt(e),n===t?(n=e,e=0):n=Vt(n)),e>n){var u=e;e=n,n=u}if(o||e%1||n%1){var c=Nf();return je(e+c*(n-e+km("1e-"+((c+"").length-1))),n)}return Fo(e,n)}var Q1=rn(function(e,n,o){return n=n.toLowerCase(),e+(o?gl(n):n)});function gl(e){return aa(ce(e).toLowerCase())}function pl(e){return e=ce(e),e&&e.replace(tm,Gm).replace(wm,"")}function ew(e,n,o){e=ce(e),n=at(n);var u=e.length;o=o===t?u:Ar(Q(o),0,u);var c=o;return o-=n.length,o>=0&&e.slice(o,c)==n}function tw(e){return e=ce(e),e&&Pp.test(e)?e.replace(Hu,jm):e}function rw(e){return e=ce(e),e&&Up.test(e)?e.replace(to,"\\$&"):e}var nw=rn(function(e,n,o){return e+(o?"-":"")+n.toLowerCase()}),iw=rn(function(e,n,o){return e+(o?" ":"")+n.toLowerCase()}),sw=_c("toLowerCase");function ow(e,n,o){e=ce(e),n=Q(n);var u=n?Jr(e):0;if(!n||u>=n)return e;var c=(n-u)/2;return Xi(Mi(c),o)+e+Xi(Ni(c),o)}function aw(e,n,o){e=ce(e),n=Q(n);var u=n?Jr(e):0;return n&&u<n?e+Xi(n-u,o):e}function uw(e,n,o){e=ce(e),n=Q(n);var u=n?Jr(e):0;return n&&u<n?Xi(n-u,o)+e:e}function fw(e,n,o){return o||n==null?n=0:n&&(n=+n),mv(ce(e).replace(ro,""),n||0)}function cw(e,n,o){return(o?Ye(e,n,o):n===t)?n=1:n=Q(n),Po(ce(e),n)}function lw(){var e=arguments,n=ce(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var hw=rn(function(e,n,o){return e+(o?"_":"")+n.toLowerCase()});function dw(e,n,o){return o&&typeof o!="number"&&Ye(e,n,o)&&(n=o=t),o=o===t?P:o>>>0,o?(e=ce(e),e&&(typeof n=="string"||n!=null&&!ia(n))&&(n=at(n),!n&&Vr(e))?dr(kt(e),0,o):e.split(n,o)):[]}var gw=rn(function(e,n,o){return e+(o?" ":"")+aa(n)});function pw(e,n,o){return e=ce(e),o=o==null?0:Ar(Q(o),0,e.length),n=at(n),e.slice(o,o+n.length)==n}function mw(e,n,o){var u=h.templateSettings;o&&Ye(e,n,o)&&(n=t),e=ce(e),n=fs({},n,u,Cc);var c=fs({},n.imports,u.imports,Cc),d=De(c),m=_o(c,d),_,b,A=0,$=n.interpolate||Ei,F="__p += '",B=wo((n.escape||Ei).source+"|"+$.source+"|"+($===zu?Vp:Ei).source+"|"+(n.evaluate||Ei).source+"|$","g"),G="//# sourceURL="+(de.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Cm+"]")+`
`;e.replace(B,function(Y,ne,se,ft,Ve,ct){return se||(se=ft),F+=e.slice(A,ct).replace(rm,Hm),ne&&(_=!0,F+=`' +
__e(`+ne+`) +
'`),Ve&&(b=!0,F+=`';
`+Ve+`;
__p += '`),se&&(F+=`' +
((__t = (`+se+`)) == null ? '' : __t) +
'`),A=ct+Y.length,Y}),F+=`';
`;var K=de.call(n,"variable")&&n.variable;if(!K)F=`with (obj) {
`+F+`
}
`;else if(Kp.test(K))throw new J(f);F=(b?F.replace(Ip,""):F).replace(Lp,"$1").replace(Rp,"$1;"),F="function("+(K||"obj")+`) {
`+(K?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(b?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+F+`return __p
}`;var ee=vl(function(){return fe(d,G+"return "+F).apply(t,m)});if(ee.source=F,na(ee))throw ee;return ee}function vw(e){return ce(e).toLowerCase()}function _w(e){return ce(e).toUpperCase()}function yw(e,n,o){if(e=ce(e),e&&(o||n===t))return Tf(e);if(!e||!(n=at(n)))return e;var u=kt(e),c=kt(n),d=Of(u,c),m=Af(u,c)+1;return dr(u,d,m).join("")}function ww(e,n,o){if(e=ce(e),e&&(o||n===t))return e.slice(0,kf(e)+1);if(!e||!(n=at(n)))return e;var u=kt(e),c=Af(u,kt(n))+1;return dr(u,0,c).join("")}function bw(e,n,o){if(e=ce(e),e&&(o||n===t))return e.replace(ro,"");if(!e||!(n=at(n)))return e;var u=kt(e),c=Of(u,kt(n));return dr(u,c).join("")}function Ew(e,n){var o=be,u=re;if(Se(n)){var c="separator"in n?n.separator:c;o="length"in n?Q(n.length):o,u="omission"in n?at(n.omission):u}e=ce(e);var d=e.length;if(Vr(e)){var m=kt(e);d=m.length}if(o>=d)return e;var _=o-Jr(u);if(_<1)return u;var b=m?dr(m,0,_).join(""):e.slice(0,_);if(c===t)return b+u;if(m&&(_+=b.length-_),ia(c)){if(e.slice(_).search(c)){var A,$=b;for(c.global||(c=wo(c.source,ce(Ku.exec(c))+"g")),c.lastIndex=0;A=c.exec($);)var F=A.index;b=b.slice(0,F===t?_:F)}}else if(e.indexOf(at(c),_)!=_){var B=b.lastIndexOf(c);B>-1&&(b=b.slice(0,B))}return b+u}function Sw(e){return e=ce(e),e&&Fp.test(e)?e.replace(ju,Zm):e}var xw=rn(function(e,n,o){return e+(o?" ":"")+n.toUpperCase()}),aa=_c("toUpperCase");function ml(e,n,o){return e=ce(e),n=o?t:n,n===t?Km(e)?tv(e):Mm(e):e.match(n)||[]}var vl=te(function(e,n){try{return st(e,t,n)}catch(o){return na(o)?o:new J(o)}}),Cw=zt(function(e,n){return mt(n,function(o){o=Mt(o),jt(e,o,ta(e[o],e))}),e});function Tw(e){var n=e==null?0:e.length,o=z();return e=n?Ee(e,function(u){if(typeof u[1]!="function")throw new vt(a);return[o(u[0]),u[1]]}):[],te(function(u){for(var c=-1;++c<n;){var d=e[c];if(st(d[0],this,u))return st(d[1],this,u)}})}function Ow(e){return Zv(yt(e,v))}function ua(e){return function(){return e}}function Aw(e,n){return e==null||e!==e?n:e}var $w=wc(),kw=wc(!0);function rt(e){return e}function fa(e){return Jf(typeof e=="function"?e:yt(e,v))}function Iw(e){return Zf(yt(e,v))}function Lw(e,n){return Qf(e,yt(n,v))}var Rw=te(function(e,n){return function(o){return qn(o,e,n)}}),Fw=te(function(e,n){return function(o){return qn(e,o,n)}});function ca(e,n,o){var u=De(n),c=ji(n,u);o==null&&!(Se(n)&&(c.length||!u.length))&&(o=n,n=e,e=this,c=ji(n,De(n)));var d=!(Se(o)&&"chain"in o)||!!o.chain,m=Yt(e);return mt(c,function(_){var b=n[_];e[_]=b,m&&(e.prototype[_]=function(){var A=this.__chain__;if(d||A){var $=e(this.__wrapped__),F=$.__actions__=Qe(this.__actions__);return F.push({func:b,args:arguments,thisArg:e}),$.__chain__=A,$}return b.apply(e,or([this.value()],arguments))})}),e}function Pw(){return Pe._===this&&(Pe._=av),this}function la(){}function Dw(e){return e=Q(e),te(function(n){return ec(n,e)})}var Nw=Wo(Ee),Mw=Wo(bf),Bw=Wo(ho);function _l(e){return Vo(e)?go(Mt(e)):p_(e)}function qw(e){return function(n){return e==null?t:$r(e,n)}}var Uw=Ec(),Ww=Ec(!0);function ha(){return[]}function da(){return!1}function Gw(){return{}}function jw(){return""}function Hw(){return!0}function zw(e,n){if(e=Q(e),e<1||e>ae)return[];var o=P,u=je(e,P);n=z(n),e-=P;for(var c=vo(u,n);++o<e;)n(o);return c}function Kw(e){return X(e)?Ee(e,Mt):ut(e)?[e]:Qe(Mc(ce(e)))}function Yw(e){var n=++sv;return ce(e)+n}var Vw=Ji(function(e,n){return e+n},0),Jw=Go("ceil"),Xw=Ji(function(e,n){return e/n},1),Zw=Go("floor");function Qw(e){return e&&e.length?Gi(e,rt,Ao):t}function eb(e,n){return e&&e.length?Gi(e,z(n,2),Ao):t}function tb(e){return xf(e,rt)}function rb(e,n){return xf(e,z(n,2))}function nb(e){return e&&e.length?Gi(e,rt,Lo):t}function ib(e,n){return e&&e.length?Gi(e,z(n,2),Lo):t}var sb=Ji(function(e,n){return e*n},1),ob=Go("round"),ab=Ji(function(e,n){return e-n},0);function ub(e){return e&&e.length?mo(e,rt):0}function fb(e,n){return e&&e.length?mo(e,z(n,2)):0}return h.after=Iy,h.ary=Vc,h.assign=_1,h.assignIn=fl,h.assignInWith=fs,h.assignWith=y1,h.at=w1,h.before=Jc,h.bind=ta,h.bindAll=Cw,h.bindKey=Xc,h.castArray=Gy,h.chain=zc,h.chunk=Z_,h.compact=Q_,h.concat=e0,h.cond=Tw,h.conforms=Ow,h.constant=ua,h.countBy=uy,h.create=b1,h.curry=Zc,h.curryRight=Qc,h.debounce=el,h.defaults=E1,h.defaultsDeep=S1,h.defer=Ly,h.delay=Ry,h.difference=t0,h.differenceBy=r0,h.differenceWith=n0,h.drop=i0,h.dropRight=s0,h.dropRightWhile=o0,h.dropWhile=a0,h.fill=u0,h.filter=cy,h.flatMap=dy,h.flatMapDeep=gy,h.flatMapDepth=py,h.flatten=Wc,h.flattenDeep=f0,h.flattenDepth=c0,h.flip=Fy,h.flow=$w,h.flowRight=kw,h.fromPairs=l0,h.functions=k1,h.functionsIn=I1,h.groupBy=my,h.initial=d0,h.intersection=g0,h.intersectionBy=p0,h.intersectionWith=m0,h.invert=R1,h.invertBy=F1,h.invokeMap=_y,h.iteratee=fa,h.keyBy=yy,h.keys=De,h.keysIn=tt,h.map=ns,h.mapKeys=D1,h.mapValues=N1,h.matches=Iw,h.matchesProperty=Lw,h.memoize=ss,h.merge=M1,h.mergeWith=cl,h.method=Rw,h.methodOf=Fw,h.mixin=ca,h.negate=os,h.nthArg=Dw,h.omit=B1,h.omitBy=q1,h.once=Py,h.orderBy=wy,h.over=Nw,h.overArgs=Dy,h.overEvery=Mw,h.overSome=Bw,h.partial=ra,h.partialRight=tl,h.partition=by,h.pick=U1,h.pickBy=ll,h.property=_l,h.propertyOf=qw,h.pull=w0,h.pullAll=jc,h.pullAllBy=b0,h.pullAllWith=E0,h.pullAt=S0,h.range=Uw,h.rangeRight=Ww,h.rearg=Ny,h.reject=xy,h.remove=x0,h.rest=My,h.reverse=Qo,h.sampleSize=Ty,h.set=G1,h.setWith=j1,h.shuffle=Oy,h.slice=C0,h.sortBy=ky,h.sortedUniq=L0,h.sortedUniqBy=R0,h.split=dw,h.spread=By,h.tail=F0,h.take=P0,h.takeRight=D0,h.takeRightWhile=N0,h.takeWhile=M0,h.tap=Q0,h.throttle=qy,h.thru=rs,h.toArray=ol,h.toPairs=hl,h.toPairsIn=dl,h.toPath=Kw,h.toPlainObject=ul,h.transform=H1,h.unary=Uy,h.union=B0,h.unionBy=q0,h.unionWith=U0,h.uniq=W0,h.uniqBy=G0,h.uniqWith=j0,h.unset=z1,h.unzip=ea,h.unzipWith=Hc,h.update=K1,h.updateWith=Y1,h.values=on,h.valuesIn=V1,h.without=H0,h.words=ml,h.wrap=Wy,h.xor=z0,h.xorBy=K0,h.xorWith=Y0,h.zip=V0,h.zipObject=J0,h.zipObjectDeep=X0,h.zipWith=Z0,h.entries=hl,h.entriesIn=dl,h.extend=fl,h.extendWith=fs,ca(h,h),h.add=Vw,h.attempt=vl,h.camelCase=Q1,h.capitalize=gl,h.ceil=Jw,h.clamp=J1,h.clone=jy,h.cloneDeep=zy,h.cloneDeepWith=Ky,h.cloneWith=Hy,h.conformsTo=Yy,h.deburr=pl,h.defaultTo=Aw,h.divide=Xw,h.endsWith=ew,h.eq=Lt,h.escape=tw,h.escapeRegExp=rw,h.every=fy,h.find=ly,h.findIndex=qc,h.findKey=x1,h.findLast=hy,h.findLastIndex=Uc,h.findLastKey=C1,h.floor=Zw,h.forEach=Kc,h.forEachRight=Yc,h.forIn=T1,h.forInRight=O1,h.forOwn=A1,h.forOwnRight=$1,h.get=sa,h.gt=Vy,h.gte=Jy,h.has=L1,h.hasIn=oa,h.head=Gc,h.identity=rt,h.includes=vy,h.indexOf=h0,h.inRange=X1,h.invoke=P1,h.isArguments=Lr,h.isArray=X,h.isArrayBuffer=Xy,h.isArrayLike=et,h.isArrayLikeObject=Ae,h.isBoolean=Zy,h.isBuffer=gr,h.isDate=Qy,h.isElement=e1,h.isEmpty=t1,h.isEqual=r1,h.isEqualWith=n1,h.isError=na,h.isFinite=i1,h.isFunction=Yt,h.isInteger=rl,h.isLength=as,h.isMap=nl,h.isMatch=s1,h.isMatchWith=o1,h.isNaN=a1,h.isNative=u1,h.isNil=c1,h.isNull=f1,h.isNumber=il,h.isObject=Se,h.isObjectLike=Ce,h.isPlainObject=zn,h.isRegExp=ia,h.isSafeInteger=l1,h.isSet=sl,h.isString=us,h.isSymbol=ut,h.isTypedArray=sn,h.isUndefined=h1,h.isWeakMap=d1,h.isWeakSet=g1,h.join=v0,h.kebabCase=nw,h.last=bt,h.lastIndexOf=_0,h.lowerCase=iw,h.lowerFirst=sw,h.lt=p1,h.lte=m1,h.max=Qw,h.maxBy=eb,h.mean=tb,h.meanBy=rb,h.min=nb,h.minBy=ib,h.stubArray=ha,h.stubFalse=da,h.stubObject=Gw,h.stubString=jw,h.stubTrue=Hw,h.multiply=sb,h.nth=y0,h.noConflict=Pw,h.noop=la,h.now=is,h.pad=ow,h.padEnd=aw,h.padStart=uw,h.parseInt=fw,h.random=Z1,h.reduce=Ey,h.reduceRight=Sy,h.repeat=cw,h.replace=lw,h.result=W1,h.round=ob,h.runInContext=w,h.sample=Cy,h.size=Ay,h.snakeCase=hw,h.some=$y,h.sortedIndex=T0,h.sortedIndexBy=O0,h.sortedIndexOf=A0,h.sortedLastIndex=$0,h.sortedLastIndexBy=k0,h.sortedLastIndexOf=I0,h.startCase=gw,h.startsWith=pw,h.subtract=ab,h.sum=ub,h.sumBy=fb,h.template=mw,h.times=zw,h.toFinite=Vt,h.toInteger=Q,h.toLength=al,h.toLower=vw,h.toNumber=Et,h.toSafeInteger=v1,h.toString=ce,h.toUpper=_w,h.trim=yw,h.trimEnd=ww,h.trimStart=bw,h.truncate=Ew,h.unescape=Sw,h.uniqueId=Yw,h.upperCase=xw,h.upperFirst=aa,h.each=Kc,h.eachRight=Yc,h.first=Gc,ca(h,function(){var e={};return Dt(h,function(n,o){de.call(h.prototype,o)||(e[o]=n)}),e}(),{chain:!1}),h.VERSION=r,mt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){h[e].placeholder=h}),mt(["drop","take"],function(e,n){ie.prototype[e]=function(o){o=o===t?1:Ie(Q(o),0);var u=this.__filtered__&&!n?new ie(this):this.clone();return u.__filtered__?u.__takeCount__=je(o,u.__takeCount__):u.__views__.push({size:je(o,P),type:e+(u.__dir__<0?"Right":"")}),u},ie.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),mt(["filter","map","takeWhile"],function(e,n){var o=n+1,u=o==Tt||o==Pt;ie.prototype[e]=function(c){var d=this.clone();return d.__iteratees__.push({iteratee:z(c,3),type:o}),d.__filtered__=d.__filtered__||u,d}}),mt(["head","last"],function(e,n){var o="take"+(n?"Right":"");ie.prototype[e]=function(){return this[o](1).value()[0]}}),mt(["initial","tail"],function(e,n){var o="drop"+(n?"":"Right");ie.prototype[e]=function(){return this.__filtered__?new ie(this):this[o](1)}}),ie.prototype.compact=function(){return this.filter(rt)},ie.prototype.find=function(e){return this.filter(e).head()},ie.prototype.findLast=function(e){return this.reverse().find(e)},ie.prototype.invokeMap=te(function(e,n){return typeof e=="function"?new ie(this):this.map(function(o){return qn(o,e,n)})}),ie.prototype.reject=function(e){return this.filter(os(z(e)))},ie.prototype.slice=function(e,n){e=Q(e);var o=this;return o.__filtered__&&(e>0||n<0)?new ie(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),n!==t&&(n=Q(n),o=n<0?o.dropRight(-n):o.take(n-e)),o)},ie.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ie.prototype.toArray=function(){return this.take(P)},Dt(ie.prototype,function(e,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),u=/^(?:head|last)$/.test(n),c=h[u?"take"+(n=="last"?"Right":""):n],d=u||/^find/.test(n);!c||(h.prototype[n]=function(){var m=this.__wrapped__,_=u?[1]:arguments,b=m instanceof ie,A=_[0],$=b||X(m),F=function(ne){var se=c.apply(h,or([ne],_));return u&&B?se[0]:se};$&&o&&typeof A=="function"&&A.length!=1&&(b=$=!1);var B=this.__chain__,G=!!this.__actions__.length,K=d&&!B,ee=b&&!G;if(!d&&$){m=ee?m:new ie(this);var Y=e.apply(m,_);return Y.__actions__.push({func:rs,args:[F],thisArg:t}),new _t(Y,B)}return K&&ee?e.apply(this,_):(Y=this.thru(F),K?u?Y.value()[0]:Y.value():Y)})}),mt(["pop","push","shift","sort","splice","unshift"],function(e){var n=Ai[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);h.prototype[e]=function(){var c=arguments;if(u&&!this.__chain__){var d=this.value();return n.apply(X(d)?d:[],c)}return this[o](function(m){return n.apply(X(m)?m:[],c)})}}),Dt(ie.prototype,function(e,n){var o=h[n];if(o){var u=o.name+"";de.call(Qr,u)||(Qr[u]=[]),Qr[u].push({name:n,func:o})}}),Qr[Vi(t,L).name]=[{name:"wrapper",func:t}],ie.prototype.clone=Sv,ie.prototype.reverse=xv,ie.prototype.value=Cv,h.prototype.at=ey,h.prototype.chain=ty,h.prototype.commit=ry,h.prototype.next=ny,h.prototype.plant=sy,h.prototype.reverse=oy,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=ay,h.prototype.first=h.prototype.head,Rn&&(h.prototype[Rn]=iy),h},ur=rv();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Pe._=ur,define(function(){return ur})):xr?((xr.exports=ur)._=ur,uo._=ur):Pe._=ur}).call(an)});var Cl=U((UC,xl)=>{var un=1e3,fn=un*60,cn=fn*60,Pr=cn*24,yb=Pr*7,wb=Pr*365.25;xl.exports=function(t,r){r=r||{};var i=typeof t;if(i==="string"&&t.length>0)return bb(t);if(i==="number"&&isFinite(t))return r.long?Sb(t):Eb(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function bb(t){if(t=String(t),!(t.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!r){var i=parseFloat(r[1]),s=(r[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return i*wb;case"weeks":case"week":case"w":return i*yb;case"days":case"day":case"d":return i*Pr;case"hours":case"hour":case"hrs":case"hr":case"h":return i*cn;case"minutes":case"minute":case"mins":case"min":case"m":return i*fn;case"seconds":case"second":case"secs":case"sec":case"s":return i*un;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function Eb(t){var r=Math.abs(t);return r>=Pr?Math.round(t/Pr)+"d":r>=cn?Math.round(t/cn)+"h":r>=fn?Math.round(t/fn)+"m":r>=un?Math.round(t/un)+"s":t+"ms"}function Sb(t){var r=Math.abs(t);return r>=Pr?cs(t,r,Pr,"day"):r>=cn?cs(t,r,cn,"hour"):r>=fn?cs(t,r,fn,"minute"):r>=un?cs(t,r,un,"second"):t+" ms"}function cs(t,r,i,s){var a=r>=i*1.5;return Math.round(t/i)+" "+s+(a?"s":"")}});var ga=U((WC,Tl)=>{function xb(t){i.debug=i,i.default=i,i.coerce=p,i.disable=f,i.enable=a,i.enabled=l,i.humanize=Cl(),i.destroy=v,Object.keys(t).forEach(y=>{i[y]=t[y]}),i.names=[],i.skips=[],i.formatters={};function r(y){let E=0;for(let S=0;S<y.length;S++)E=(E<<5)-E+y.charCodeAt(S),E|=0;return i.colors[Math.abs(E)%i.colors.length]}i.selectColor=r;function i(y){let E,S=null,C,O;function L(...k){if(!L.enabled)return;let D=L,N=Number(new Date),M=N-(E||N);D.diff=M,D.prev=E,D.curr=N,E=N,k[0]=i.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let W=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(oe,ue)=>{if(oe==="%%")return"%";W++;let be=i.formatters[ue];if(typeof be=="function"){let re=k[W];oe=be.call(D,re),k.splice(W,1),W--}return oe}),i.formatArgs.call(D,k),(D.log||i.log).apply(D,k)}return L.namespace=y,L.useColors=i.useColors(),L.color=i.selectColor(y),L.extend=s,L.destroy=i.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(C!==i.namespaces&&(C=i.namespaces,O=i.enabled(y)),O),set:k=>{S=k}}),typeof i.init=="function"&&i.init(L),L}function s(y,E){let S=i(this.namespace+(typeof E=="undefined"?":":E)+y);return S.log=this.log,S}function a(y){i.save(y),i.namespaces=y,i.names=[],i.skips=[];let E,S=(typeof y=="string"?y:"").split(/[\s,]+/),C=S.length;for(E=0;E<C;E++)!S[E]||(y=S[E].replace(/\*/g,".*?"),y[0]==="-"?i.skips.push(new RegExp("^"+y.substr(1)+"$")):i.names.push(new RegExp("^"+y+"$")))}function f(){let y=[...i.names.map(g),...i.skips.map(g).map(E=>"-"+E)].join(",");return i.enable(""),y}function l(y){if(y[y.length-1]==="*")return!0;let E,S;for(E=0,S=i.skips.length;E<S;E++)if(i.skips[E].test(y))return!1;for(E=0,S=i.names.length;E<S;E++)if(i.names[E].test(y))return!0;return!1}function g(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function p(y){return y instanceof Error?y.stack||y.message:y}function v(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}Tl.exports=xb});var Ol=U((lt,ls)=>{lt.formatArgs=Tb;lt.save=Ob;lt.load=Ab;lt.useColors=Cb;lt.storage=$b();lt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();lt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Cb(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Tb(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ls.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let i=0,s=0;t[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(s=i))}),t.splice(s,0,r)}lt.log=console.debug||console.log||(()=>{});function Ob(t){try{t?lt.storage.setItem("debug",t):lt.storage.removeItem("debug")}catch{}}function Ab(){let t;try{t=lt.storage.getItem("debug")}catch{}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function $b(){try{return localStorage}catch{}}ls.exports=ga()(lt);var{formatters:kb}=ls.exports;kb.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}});var $l=U((Ue,ds)=>{var Ib=require("tty"),hs=require("util");Ue.init=Mb;Ue.log=Pb;Ue.formatArgs=Rb;Ue.save=Db;Ue.load=Nb;Ue.useColors=Lb;Ue.destroy=hs.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ue.colors=[6,2,3,4,5,1];try{let t=require("supports-color");t&&(t.stderr||t).level>=2&&(Ue.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ue.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,r)=>{let i=r.substring(6).toLowerCase().replace(/_([a-z])/g,(a,f)=>f.toUpperCase()),s=process.env[r];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[i]=s,t},{});function Lb(){return"colors"in Ue.inspectOpts?Boolean(Ue.inspectOpts.colors):Ib.isatty(process.stderr.fd)}function Rb(t){let{namespace:r,useColors:i}=this;if(i){let s=this.color,a="[3"+(s<8?s:"8;5;"+s),f=`  ${a};1m${r} [0m`;t[0]=f+t[0].split(`
`).join(`
`+f),t.push(a+"m+"+ds.exports.humanize(this.diff)+"[0m")}else t[0]=Fb()+r+" "+t[0]}function Fb(){return Ue.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Pb(...t){return process.stderr.write(hs.format(...t)+`
`)}function Db(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Nb(){return process.env.DEBUG}function Mb(t){t.inspectOpts={};let r=Object.keys(Ue.inspectOpts);for(let i=0;i<r.length;i++)t.inspectOpts[r[i]]=Ue.inspectOpts[r[i]]}ds.exports=ga()(Ue);var{formatters:Al}=ds.exports;Al.o=function(t){return this.inspectOpts.colors=this.useColors,hs.inspect(t,this.inspectOpts).split(`
`).map(r=>r.trim()).join(" ")};Al.O=function(t){return this.inspectOpts.colors=this.useColors,hs.inspect(t,this.inspectOpts)}});var ma=U((GC,pa)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?pa.exports=Ol():pa.exports=$l()});var ps=U(ya=>{"use strict";var kl=require("zlib"),Il=require("http"),Ll=require("https"),Bb=require("url").parse,qb=require("url").format,Bt=ma()("httpx:body"),gs=ma()("httpx:header"),Ub=new Il.Agent({keepAlive:!0}),Wb=new Ll.Agent({keepAlive:!0}),va=3e3,Dr=Symbol("TIMER::READ_TIMER"),_a=Symbol("TIMER::READ_TIME_OUT"),Rl=Symbol("TIMER::READ_TIMER_START_AT"),Fl=function(t,r,i){return t.name=r+t.name,t.message=`${i}. ${t.message}`,t},Vn=function(t){return t!==null&&!isNaN(t)};ya.request=function(t,r){r||(r={});let i=typeof t=="string"?Bb(t):t,s,a;Vn(r.readTimeout)||Vn(r.connectTimeout)?(s=Vn(r.readTimeout)?Number(r.readTimeout):va,a=Vn(r.connectTimeout)?Number(r.connectTimeout):va):Vn(r.timeout)?s=a=Number(r.timeout):s=a=va;let f=i.protocol==="https:",l=(r.method||"GET").toUpperCase(),g=f?Wb:Ub,p=r.agent||g;var v={host:i.hostname||"localhost",path:i.path||"/",method:l,port:i.port||(i.protocol==="https:"?443:80),agent:p,headers:r.headers||{},key:r.key||"",cert:r.cert||"",ca:r.ca||"",timeout:a};f&&typeof r.rejectUnauthorized!="undefined"&&(v.rejectUnauthorized=r.rejectUnauthorized),r.compression&&(v.headers["accept-encoding"]="gzip,deflate");let y=f?Ll:Il;return typeof r.beforeRequest=="function"&&(v=r.beforeRequest(v)),new Promise((E,S)=>{let C=y.request(v),O=r.data;var L=M=>{gs.enabled&&(M.req._header.split(`\r
`).forEach(V=>{gs("> %s",V)}),gs("< HTTP/%s %s %s",M.httpVersion,M.statusCode,M.statusMessage),Object.keys(M.headers).forEach(V=>{gs("< %s: %s",V,M.headers[V])})),E(M)},k=M=>{M.message+=`${l} ${qb(i)} failed.`,C.socket&&C.socket[Dr]&&clearTimeout(C.socket[Dr]),S(M)},D=M=>{C.abort(),k(M)};let N=function(M){let W=setTimeout(()=>{M[Dr]&&(clearTimeout(M[Dr]),M[Dr]=null);var V=new Error,oe=`ReadTimeout(${s})`;D(Fl(V,"RequestTimeout",oe))},s);M[_a]=s,M[Dr]=W,M[Rl]=Date.now()};!O||typeof O=="string"||O instanceof Buffer?(Bt.enabled&&Bt(O?typeof O=="string"?O:`Buffer <ignored>, Buffer length: ${O.length}`:"<no request body>"),C.end(O)):typeof O.pipe=="function"&&(O.pipe(C),Bt.enabled&&Bt("<request body is a stream>"),O.once("error",M=>{D(Fl(M,"HttpX","Stream occor error"))})),C.on("response",L),C.on("error",k),C.once("socket",function(M){M.readyState==="opening"?M.once("connect",function(){N(M)}):N(M)})})};ya.read=function(t,r){var i=t;switch(t.headers["content-encoding"]){case"gzip":i=t.pipe(kl.createGunzip());break;case"deflate":i=t.pipe(kl.createInflate());break;default:break}return new Promise((s,a)=>{let f=t.socket||t.client,l=()=>{let k=t.req;var D=new Error;return D.name="RequestTimeoutError",D.message=`ReadTimeout: ${f[_a]}. ${k.method} ${k.path} failed.`,D},g,p=f[Dr];if(!p){a(l());return}let v=f[_a]-(Date.now()-f[Rl]);if(clearTimeout(p),v<=0){a(l());return}g=setTimeout(function(){a(l())},v);var y,E,S,C=function(){i.removeListener("error",y),i.removeListener("data",E),i.removeListener("end",S),g&&clearTimeout(g)};let O=[];var L=0;E=function(k){O.push(k),L+=k.length},y=function(k){C(),a(k)},S=function(){C();var k=Buffer.concat(O,L);if(Bt(""),r){let D=k.toString(r);return Bt(D),s(D)}Bt.enabled&&Bt(k.toString()),s(k)},i.on("error",y),i.on("data",E),i.on("end",S)})}});var ba=U(Te=>{"use strict";var Gb=require("fs"),wa=require("os"),Pl=require("crypto");Te.loadJSONSync=function(t){var r=Gb.readFileSync(t,"utf8");r.charCodeAt(0)===65279&&(r=r.slice(1));try{return JSON.parse(r)}catch(i){throw i.message=t+": "+i.message,i}};Te.encode=function(t,r){return typeof t!="string"&&(t=""+t),new Buffer(t,r)};Te.makeHasher=function(t){return function(r,i){var s=Pl.createHash(t);return s.update(r),s.digest(i)}};Te.createHash=Te.makeHasher;Te.md5=Te.makeHasher("md5");Te.createHmac=function(t){return function(r,i,s){return Pl.createHmac(t,i).update(r).digest(s)}};Te.sha1=Te.createHmac("sha1");Te.random=function(t,r){return Math.floor(t+Math.random()*(r-t))};Te.makeNonce=function(){var t=0,r;let i=wa.hostname(),s=process.pid;return function(){var a=Math.floor(Math.random()*1e12);a===r?t++:t=0,r=a;var f=`${i}${s}${a}${t}`;return Te.md5(f,"hex")}}();Te.pad2=function(t){return t<10?"0"+t:""+t};Te.pad3=function(t){return t<10?"00"+t:t<100?"0"+t:""+t};Te.getYYYYMMDD=function(t){var r=t.getFullYear(),i=Te.pad2(t.getMonth()+1),s=Te.pad2(t.getDate());return""+r+i+s};Te.sleep=function(t){return new Promise(r=>{setTimeout(r,t)})};Te.getIPv4=function(){for(var t=wa.networkInterfaces(),r=Object.keys(t),i=0;i<r.length;i++)for(var s=r[i],a=t[s],f=0;f<a.length;f++){var l=a[f];if(!l.internal&&l.family==="IPv4")return l.address}return""};Te.getMac=function(){for(var t=wa.networkInterfaces(),r=Object.keys(t),i=0;i<r.length;i++)for(var s=r[i],a=t[s],f=0;f<a.length;f++){var l=a[f];if(!l.internal&&l.family==="IPv4")return l.mac}return"00:00:00:00:00:00"}});var Nl=U((zC,Dl)=>{var Jn=1e3,Xn=Jn*60,Zn=Xn*60,Qn=Zn*24,jb=Qn*365.25;Dl.exports=function(t,r){r=r||{};var i=typeof t;if(i==="string"&&t.length>0)return Hb(t);if(i==="number"&&isNaN(t)===!1)return r.long?Kb(t):zb(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Hb(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!!r){var i=parseFloat(r[1]),s=(r[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return i*jb;case"days":case"day":case"d":return i*Qn;case"hours":case"hour":case"hrs":case"hr":case"h":return i*Zn;case"minutes":case"minute":case"mins":case"min":case"m":return i*Xn;case"seconds":case"second":case"secs":case"sec":case"s":return i*Jn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function zb(t){return t>=Qn?Math.round(t/Qn)+"d":t>=Zn?Math.round(t/Zn)+"h":t>=Xn?Math.round(t/Xn)+"m":t>=Jn?Math.round(t/Jn)+"s":t+"ms"}function Kb(t){return ms(t,Qn,"day")||ms(t,Zn,"hour")||ms(t,Xn,"minute")||ms(t,Jn,"second")||t+" ms"}function ms(t,r,i){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+i:Math.ceil(t/r)+" "+i+"s"}});var xa=U((le,Ml)=>{le=Ml.exports=Sa.debug=Sa.default=Sa;le.coerce=Zb;le.disable=Jb;le.enable=Vb;le.enabled=Xb;le.humanize=Nl();le.names=[];le.skips=[];le.formatters={};var Ea;function Yb(t){var r=0,i;for(i in t)r=(r<<5)-r+t.charCodeAt(i),r|=0;return le.colors[Math.abs(r)%le.colors.length]}function Sa(t){function r(){if(!!r.enabled){var i=r,s=+new Date,a=s-(Ea||s);i.diff=a,i.prev=Ea,i.curr=s,Ea=s;for(var f=new Array(arguments.length),l=0;l<f.length;l++)f[l]=arguments[l];f[0]=le.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var g=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(v,y){if(v==="%%")return v;g++;var E=le.formatters[y];if(typeof E=="function"){var S=f[g];v=E.call(i,S),f.splice(g,1),g--}return v}),le.formatArgs.call(i,f);var p=r.log||le.log||console.log.bind(console);p.apply(i,f)}}return r.namespace=t,r.enabled=le.enabled(t),r.useColors=le.useColors(),r.color=Yb(t),typeof le.init=="function"&&le.init(r),r}function Vb(t){le.save(t),le.names=[],le.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),i=r.length,s=0;s<i;s++)!r[s]||(t=r[s].replace(/\*/g,".*?"),t[0]==="-"?le.skips.push(new RegExp("^"+t.substr(1)+"$")):le.names.push(new RegExp("^"+t+"$")))}function Jb(){le.enable("")}function Xb(t){var r,i;for(r=0,i=le.skips.length;r<i;r++)if(le.skips[r].test(t))return!1;for(r=0,i=le.names.length;r<i;r++)if(le.names[r].test(t))return!0;return!1}function Zb(t){return t instanceof Error?t.stack||t.message:t}});var Ul=U((Je,ql)=>{Je=ql.exports=xa();Je.log=tE;Je.formatArgs=eE;Je.save=rE;Je.load=Bl;Je.useColors=Qb;Je.storage=typeof chrome!="undefined"&&typeof chrome.storage!="undefined"?chrome.storage.local:nE();Je.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function Qb(){return typeof window!="undefined"&&window.process&&window.process.type==="renderer"?!0:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}Je.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function eE(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+Je.humanize(this.diff),!!r){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var s=0,a=0;t[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(s++,f==="%c"&&(a=s))}),t.splice(a,0,i)}}function tE(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function rE(t){try{t==null?Je.storage.removeItem("debug"):Je.storage.debug=t}catch{}}function Bl(){var t;try{t=Je.storage.debug}catch{}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}Je.enable(Bl());function nE(){try{return window.localStorage}catch{}}});var Hl=U((Ne,jl)=>{var Wl=require("tty"),ei=require("util");Ne=jl.exports=xa();Ne.init=cE;Ne.log=aE;Ne.formatArgs=oE;Ne.save=uE;Ne.load=Gl;Ne.useColors=sE;Ne.colors=[6,2,3,4,5,1];Ne.inspectOpts=Object.keys(process.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,r){var i=r.substring(6).toLowerCase().replace(/_([a-z])/g,function(a,f){return f.toUpperCase()}),s=process.env[r];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[i]=s,t},{});var ln=parseInt(process.env.DEBUG_FD,10)||2;ln!==1&&ln!==2&&ei.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var iE=ln===1?process.stdout:ln===2?process.stderr:fE(ln);function sE(){return"colors"in Ne.inspectOpts?Boolean(Ne.inspectOpts.colors):Wl.isatty(ln)}Ne.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,ei.inspect(t,this.inspectOpts).split(`
`).map(function(r){return r.trim()}).join(" ")};Ne.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,ei.inspect(t,this.inspectOpts)};function oE(t){var r=this.namespace,i=this.useColors;if(i){var s=this.color,a="  [3"+s+";1m"+r+" [0m";t[0]=a+t[0].split(`
`).join(`
`+a),t.push("[3"+s+"m+"+Ne.humanize(this.diff)+"[0m")}else t[0]=new Date().toUTCString()+" "+r+" "+t[0]}function aE(){return iE.write(ei.format.apply(ei,arguments)+`
`)}function uE(t){t==null?delete process.env.DEBUG:process.env.DEBUG=t}function Gl(){return process.env.DEBUG}function fE(t){var r,i=process.binding("tty_wrap");switch(i.guessHandleType(t)){case"TTY":r=new Wl.WriteStream(t),r._type="tty",r._handle&&r._handle.unref&&r._handle.unref();break;case"FILE":var s=require("fs");r=new s.SyncWriteStream(t,{autoClose:!1}),r._type="fs";break;case"PIPE":case"TCP":var a=require("net");r=new a.Socket({fd:t,readable:!1,writable:!0}),r.readable=!1,r.read=null,r._type="pipe",r._handle&&r._handle.unref&&r._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return r.fd=t,r._isStdio=!0,r}function cE(t){t.inspectOpts={};for(var r=Object.keys(Ne.inspectOpts),i=0;i<r.length;i++)t.inspectOpts[r[i]]=Ne.inspectOpts[r[i]]}Ne.enable(Gl())});var Ta=U((KC,Ca)=>{typeof process!="undefined"&&process.type==="renderer"?Ca.exports=Ul():Ca.exports=Hl()});var Oa=U((YC,lE)=>{lE.exports={name:"@alicloud/fc2",version:"2.5.0",description:"Aliyun Function Compute API SDK2",main:"index.js",scripts:{test:"make test","build-es5":"babel lib/ -d es5/"},"git-pre-hooks":{"pre-release":"npm run build-es5","post-release":"npm publish --access public"},author:"Jackson Tian",license:"MIT",dependencies:{"babel-runtime":"^6.23.0",debug:"^2.6.4",httpx:"^2.1.1",kitx:"^1.2.0",ws:"^8.2.3"},devDependencies:{"babel-cli":"^6.24.1","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.4.0","babel-register":"^6.24.1",coveralls:"^2.13.0",doxmate:"^0.3.1",eslint:"^3.19.0","expect.js":"^0.3.1","git-pre-hooks":"^1.2.0",mocha:"^3.3.0",nyc:"^10.2.0"},files:["index.js","lib","es5"],directories:{doc:"doc",lib:"lib",test:"test"},repository:{type:"git",url:"git+https://github.com/aliyun/fc-nodejs-sdk.git"},bugs:{url:"https://github.com/aliyun/fc-nodejs-sdk/issues"},homepage:"https://github.com/aliyun/fc-nodejs-sdk#readme"}});var Kl=U((VC,zl)=>{"use strict";var hE=require("url");function dE(t,r){var i=[],s=Object.keys(t),a={};for(let g=0;g<s.length;g++){let p=s[g];var f=p.toLowerCase().trim();f.startsWith(r)&&(i.push(f),a[f]=t[p])}i.sort();var l="";for(let g=0;g<i.length;g++){let p=i[g];l+=`${p}:${a[p]}
`}return l}function gE(t,r,i,s){let a=i["content-md5"]||"",f=i["content-type"]||"",l=i.date,g=dE(i,"x-fc-"),p=hE.parse(r),v=decodeURIComponent(p.pathname);var y=`${t}
${a}
${f}
${l}
${g}${v}`;if(s){var E=[];Object.keys(s).forEach(function(S){var C=s[S],O=typeof C;if(O==="string"){E.push(`${S}=${C}`);return}Array.isArray(C)&&s[S].forEach(function(L){E.push(`${S}=${L}`)})}),E.sort(),y+=`
`+E.join(`
`)}return y}zl.exports={composeStringToSign:gE}});var pr=U((JC,Yl)=>{"use strict";Yl.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var ti=U((XC,Aa)=>{"use strict";var{EMPTY_BUFFER:pE}=pr();function Vl(t,r){if(t.length===0)return pE;if(t.length===1)return t[0];let i=Buffer.allocUnsafe(r),s=0;for(let a=0;a<t.length;a++){let f=t[a];i.set(f,s),s+=f.length}return s<r?i.slice(0,s):i}function Jl(t,r,i,s,a){for(let f=0;f<a;f++)i[s+f]=t[f]^r[f&3]}function Xl(t,r){for(let i=0;i<t.length;i++)t[i]^=r[i&3]}function Zl(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function vs(t){if(vs.readOnly=!0,Buffer.isBuffer(t))return t;let r;return t instanceof ArrayBuffer?r=Buffer.from(t):ArrayBuffer.isView(t)?r=Buffer.from(t.buffer,t.byteOffset,t.byteLength):(r=Buffer.from(t),vs.readOnly=!1),r}try{let t=require("bufferutil");Aa.exports={concat:Vl,mask(r,i,s,a,f){f<48?Jl(r,i,s,a,f):t.mask(r,i,s,a,f)},toArrayBuffer:Zl,toBuffer:vs,unmask(r,i){r.length<32?Xl(r,i):t.unmask(r,i)}}}catch{Aa.exports={concat:Vl,mask:Jl,toArrayBuffer:Zl,toBuffer:vs,unmask:Xl}}});var rh=U((ZC,th)=>{"use strict";var Ql=Symbol("kDone"),$a=Symbol("kRun"),eh=class{constructor(r){this[Ql]=()=>{this.pending--,this[$a]()},this.concurrency=r||1/0,this.jobs=[],this.pending=0}add(r){this.jobs.push(r),this[$a]()}[$a](){if(this.pending!==this.concurrency&&this.jobs.length){let r=this.jobs.shift();this.pending++,r(this[Ql])}}};th.exports=eh});var ii=U((QC,ah)=>{"use strict";var ri=require("zlib"),nh=ti(),mE=rh(),{kStatusCode:ih}=pr(),vE=Buffer.from([0,0,255,255]),_s=Symbol("permessage-deflate"),Xt=Symbol("total-length"),ni=Symbol("callback"),mr=Symbol("buffers"),ys=Symbol("error"),ws,sh=class{constructor(r,i,s){if(this._maxPayload=s|0,this._options=r||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!i,this._deflate=null,this._inflate=null,this.params=null,!ws){let a=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;ws=new mE(a)}}static get extensionName(){return"permessage-deflate"}offer(){let r={};return this._options.serverNoContextTakeover&&(r.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(r.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(r.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?r.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(r.client_max_window_bits=!0),r}accept(r){return r=this.normalizeParams(r),this.params=this._isServer?this.acceptAsServer(r):this.acceptAsClient(r),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let r=this._deflate[ni];this._deflate.close(),this._deflate=null,r&&r(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(r){let i=this._options,s=r.find(a=>!(i.serverNoContextTakeover===!1&&a.server_no_context_takeover||a.server_max_window_bits&&(i.serverMaxWindowBits===!1||typeof i.serverMaxWindowBits=="number"&&i.serverMaxWindowBits>a.server_max_window_bits)||typeof i.clientMaxWindowBits=="number"&&!a.client_max_window_bits));if(!s)throw new Error("None of the extension offers can be accepted");return i.serverNoContextTakeover&&(s.server_no_context_takeover=!0),i.clientNoContextTakeover&&(s.client_no_context_takeover=!0),typeof i.serverMaxWindowBits=="number"&&(s.server_max_window_bits=i.serverMaxWindowBits),typeof i.clientMaxWindowBits=="number"?s.client_max_window_bits=i.clientMaxWindowBits:(s.client_max_window_bits===!0||i.clientMaxWindowBits===!1)&&delete s.client_max_window_bits,s}acceptAsClient(r){let i=r[0];if(this._options.clientNoContextTakeover===!1&&i.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!i.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(i.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&i.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return i}normalizeParams(r){return r.forEach(i=>{Object.keys(i).forEach(s=>{let a=i[s];if(a.length>1)throw new Error(`Parameter "${s}" must have only a single value`);if(a=a[0],s==="client_max_window_bits"){if(a!==!0){let f=+a;if(!Number.isInteger(f)||f<8||f>15)throw new TypeError(`Invalid value for parameter "${s}": ${a}`);a=f}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${s}": ${a}`)}else if(s==="server_max_window_bits"){let f=+a;if(!Number.isInteger(f)||f<8||f>15)throw new TypeError(`Invalid value for parameter "${s}": ${a}`);a=f}else if(s==="client_no_context_takeover"||s==="server_no_context_takeover"){if(a!==!0)throw new TypeError(`Invalid value for parameter "${s}": ${a}`)}else throw new Error(`Unknown parameter "${s}"`);i[s]=a})}),r}decompress(r,i,s){ws.add(a=>{this._decompress(r,i,(f,l)=>{a(),s(f,l)})})}compress(r,i,s){ws.add(a=>{this._compress(r,i,(f,l)=>{a(),s(f,l)})})}_decompress(r,i,s){let a=this._isServer?"client":"server";if(!this._inflate){let f=`${a}_max_window_bits`,l=typeof this.params[f]!="number"?ri.Z_DEFAULT_WINDOWBITS:this.params[f];this._inflate=ri.createInflateRaw(Rr(St({},this._options.zlibInflateOptions),{windowBits:l})),this._inflate[_s]=this,this._inflate[Xt]=0,this._inflate[mr]=[],this._inflate.on("error",yE),this._inflate.on("data",oh)}this._inflate[ni]=s,this._inflate.write(r),i&&this._inflate.write(vE),this._inflate.flush(()=>{let f=this._inflate[ys];if(f){this._inflate.close(),this._inflate=null,s(f);return}let l=nh.concat(this._inflate[mr],this._inflate[Xt]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Xt]=0,this._inflate[mr]=[],i&&this.params[`${a}_no_context_takeover`]&&this._inflate.reset()),s(null,l)})}_compress(r,i,s){let a=this._isServer?"server":"client";if(!this._deflate){let f=`${a}_max_window_bits`,l=typeof this.params[f]!="number"?ri.Z_DEFAULT_WINDOWBITS:this.params[f];this._deflate=ri.createDeflateRaw(Rr(St({},this._options.zlibDeflateOptions),{windowBits:l})),this._deflate[Xt]=0,this._deflate[mr]=[],this._deflate.on("data",_E)}this._deflate[ni]=s,this._deflate.write(r),this._deflate.flush(ri.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let f=nh.concat(this._deflate[mr],this._deflate[Xt]);i&&(f=f.slice(0,f.length-4)),this._deflate[ni]=null,this._deflate[Xt]=0,this._deflate[mr]=[],i&&this.params[`${a}_no_context_takeover`]&&this._deflate.reset(),s(null,f)})}};ah.exports=sh;function _E(t){this[mr].push(t),this[Xt]+=t.length}function oh(t){if(this[Xt]+=t.length,this[_s]._maxPayload<1||this[Xt]<=this[_s]._maxPayload){this[mr].push(t);return}this[ys]=new RangeError("Max payload size exceeded"),this[ys].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[ys][ih]=1009,this.removeListener("data",oh),this.reset()}function yE(t){this[_s]._inflate=null,t[ih]=1007,this[ni](t)}});var si=U((eT,ka)=>{"use strict";var uh=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function fh(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function ch(t){let r=t.length,i=0;for(;i<r;)if((t[i]&128)==0)i++;else if((t[i]&224)==192){if(i+1===r||(t[i+1]&192)!=128||(t[i]&254)==192)return!1;i+=2}else if((t[i]&240)==224){if(i+2>=r||(t[i+1]&192)!=128||(t[i+2]&192)!=128||t[i]===224&&(t[i+1]&224)==128||t[i]===237&&(t[i+1]&224)==160)return!1;i+=3}else if((t[i]&248)==240){if(i+3>=r||(t[i+1]&192)!=128||(t[i+2]&192)!=128||(t[i+3]&192)!=128||t[i]===240&&(t[i+1]&240)==128||t[i]===244&&t[i+1]>143||t[i]>244)return!1;i+=4}else return!1;return!0}try{let t=require("utf-8-validate");ka.exports={isValidStatusCode:fh,isValidUTF8(r){return r.length<150?ch(r):t(r)},tokenChars:uh}}catch{ka.exports={isValidStatusCode:fh,isValidUTF8:ch,tokenChars:uh}}});var Ra=U((tT,_h)=>{"use strict";var{Writable:wE}=require("stream"),lh=ii(),{BINARY_TYPES:bE,EMPTY_BUFFER:hh,kStatusCode:EE,kWebSocket:SE}=pr(),{concat:Ia,toArrayBuffer:xE,unmask:CE}=ti(),{isValidStatusCode:TE,isValidUTF8:dh}=si(),oi=0,gh=1,ph=2,mh=3,La=4,OE=5,vh=class extends wE{constructor(r={}){super();this._binaryType=r.binaryType||bE[0],this._extensions=r.extensions||{},this._isServer=!!r.isServer,this._maxPayload=r.maxPayload|0,this._skipUTF8Validation=!!r.skipUTF8Validation,this[SE]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=oi,this._loop=!1}_write(r,i,s){if(this._opcode===8&&this._state==oi)return s();this._bufferedBytes+=r.length,this._buffers.push(r),this.startLoop(s)}consume(r){if(this._bufferedBytes-=r,r===this._buffers[0].length)return this._buffers.shift();if(r<this._buffers[0].length){let s=this._buffers[0];return this._buffers[0]=s.slice(r),s.slice(0,r)}let i=Buffer.allocUnsafe(r);do{let s=this._buffers[0],a=i.length-r;r>=s.length?i.set(this._buffers.shift(),a):(i.set(new Uint8Array(s.buffer,s.byteOffset,r),a),this._buffers[0]=s.slice(r)),r-=s.length}while(r>0);return i}startLoop(r){let i;this._loop=!0;do switch(this._state){case oi:i=this.getInfo();break;case gh:i=this.getPayloadLength16();break;case ph:i=this.getPayloadLength64();break;case mh:this.getMask();break;case La:i=this.getData(r);break;default:this._loop=!1;return}while(this._loop);r(i)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!=0)return this._loop=!1,Le(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let i=(r[0]&64)==64;if(i&&!this._extensions[lh.extensionName])return this._loop=!1,Le(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(r[0]&128)==128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(i)return this._loop=!1,Le(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Le(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Le(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=i}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Le(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(i)return this._loop=!1,Le(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,Le(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Le(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)==128,this._isServer){if(!this._masked)return this._loop=!1,Le(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Le(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=gh;else if(this._payloadLength===127)this._state=ph;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),i=r.readUInt32BE(0);return i>Math.pow(2,53-32)-1?(this._loop=!1,Le(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=i*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Le(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=mh:this._state=La}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=La}getData(r){let i=hh;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}i=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&CE(i,this._mask)}if(this._opcode>7)return this.controlMessage(i);if(this._compressed){this._state=OE,this.decompress(i,r);return}return i.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(i)),this.dataMessage()}decompress(r,i){this._extensions[lh.extensionName].decompress(r,this._fin,(a,f)=>{if(a)return i(a);if(f.length){if(this._messageLength+=f.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return i(Le(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(f)}let l=this.dataMessage();if(l)return i(l);this.startLoop(i)})}dataMessage(){if(this._fin){let r=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let s;this._binaryType==="nodebuffer"?s=Ia(i,r):this._binaryType==="arraybuffer"?s=xE(Ia(i,r)):s=i,this.emit("message",s,!0)}else{let s=Ia(i,r);if(!this._skipUTF8Validation&&!dh(s))return this._loop=!1,Le(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",s,!1)}}this._state=oi}controlMessage(r){if(this._opcode===8)if(this._loop=!1,r.length===0)this.emit("conclude",1005,hh),this.end();else{if(r.length===1)return Le(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let i=r.readUInt16BE(0);if(!TE(i))return Le(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let s=r.slice(2);if(!this._skipUTF8Validation&&!dh(s))return Le(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",i,s),this.end()}}else this._opcode===9?this.emit("ping",r):this.emit("pong",r);this._state=oi}};_h.exports=vh;function Le(t,r,i,s,a){let f=new t(i?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(f,Le),f.code=a,f[EE]=s,f}});var Fa=U((iT,bh)=>{"use strict";var rT=require("net"),nT=require("tls"),{randomFillSync:AE}=require("crypto"),yh=ii(),{EMPTY_BUFFER:$E}=pr(),{isValidStatusCode:kE}=si(),{mask:wh,toBuffer:Zt}=ti(),IE=Buffer.alloc(4),Qt=class{constructor(r,i,s){this._extensions=i||{},s&&(this._generateMask=s,this._maskBuffer=Buffer.alloc(4)),this._socket=r,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(r,i){let s,a=!1,f=2,l=!1;i.mask&&(s=i.maskBuffer||IE,i.generateMask?i.generateMask(s):AE(s,0,4),l=(s[0]|s[1]|s[2]|s[3])==0,i.readOnly&&!l&&(a=!0),f=6);let g=r.length;r.length>=65536?(f+=8,g=127):r.length>125&&(f+=2,g=126);let p=Buffer.allocUnsafe(a?r.length+f:f);return p[0]=i.fin?i.opcode|128:i.opcode,i.rsv1&&(p[0]|=64),p[1]=g,g===126?p.writeUInt16BE(r.length,2):g===127&&(p[2]=p[3]=0,p.writeUIntBE(r.length,4,6)),i.mask?(p[1]|=128,p[f-4]=s[0],p[f-3]=s[1],p[f-2]=s[2],p[f-1]=s[3],l?[p,r]:a?(wh(r,s,p,f,r.length),[p]):(wh(r,s,r,0,r.length),[p,r])):[p,r]}close(r,i,s,a){let f;if(r===void 0)f=$E;else{if(typeof r!="number"||!kE(r))throw new TypeError("First argument must be a valid error code number");if(i===void 0||!i.length)f=Buffer.allocUnsafe(2),f.writeUInt16BE(r,0);else{let l=Buffer.byteLength(i);if(l>123)throw new RangeError("The message must not be greater than 123 bytes");f=Buffer.allocUnsafe(2+l),f.writeUInt16BE(r,0),typeof i=="string"?f.write(i,2):f.set(i,2)}}this._deflating?this.enqueue([this.doClose,f,s,a]):this.doClose(f,s,a)}doClose(r,i,s){this.sendFrame(Qt.frame(r,{fin:!0,rsv1:!1,opcode:8,mask:i,maskBuffer:this._maskBuffer,generateMask:this._generateMask,readOnly:!1}),s)}ping(r,i,s){let a=Zt(r);if(a.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,a,i,Zt.readOnly,s]):this.doPing(a,i,Zt.readOnly,s)}doPing(r,i,s,a){this.sendFrame(Qt.frame(r,{fin:!0,rsv1:!1,opcode:9,mask:i,maskBuffer:this._maskBuffer,generateMask:this._generateMask,readOnly:s}),a)}pong(r,i,s){let a=Zt(r);if(a.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,a,i,Zt.readOnly,s]):this.doPong(a,i,Zt.readOnly,s)}doPong(r,i,s,a){this.sendFrame(Qt.frame(r,{fin:!0,rsv1:!1,opcode:10,mask:i,maskBuffer:this._maskBuffer,generateMask:this._generateMask,readOnly:s}),a)}send(r,i,s){let a=Zt(r),f=this._extensions[yh.extensionName],l=i.binary?2:1,g=i.compress;if(this._firstFragment?(this._firstFragment=!1,g&&f&&f.params[f._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(g=a.length>=f._threshold),this._compress=g):(g=!1,l=0),i.fin&&(this._firstFragment=!0),f){let p={fin:i.fin,rsv1:g,opcode:l,mask:i.mask,maskBuffer:this._maskBuffer,generateMask:this._generateMask,readOnly:Zt.readOnly};this._deflating?this.enqueue([this.dispatch,a,this._compress,p,s]):this.dispatch(a,this._compress,p,s)}else this.sendFrame(Qt.frame(a,{fin:i.fin,rsv1:!1,opcode:l,mask:i.mask,maskBuffer:this._maskBuffer,generateMask:this._generateMask,readOnly:Zt.readOnly}),s)}dispatch(r,i,s,a){if(!i){this.sendFrame(Qt.frame(r,s),a);return}let f=this._extensions[yh.extensionName];this._bufferedBytes+=r.length,this._deflating=!0,f.compress(r,s.fin,(l,g)=>{if(this._socket.destroyed){let p=new Error("The socket was closed while data was being compressed");typeof a=="function"&&a(p);for(let v=0;v<this._queue.length;v++){let y=this._queue[v][4];typeof y=="function"&&y(p)}return}this._bufferedBytes-=r.length,this._deflating=!1,s.readOnly=!1,this.sendFrame(Qt.frame(g,s),a),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let r=this._queue.shift();this._bufferedBytes-=r[1].length,Reflect.apply(r[0],this,r.slice(1))}}enqueue(r){this._bufferedBytes+=r[1].length,this._queue.push(r)}sendFrame(r,i){r.length===2?(this._socket.cork(),this._socket.write(r[0]),this._socket.write(r[1],i),this._socket.uncork()):this._socket.write(r[0],i)}};bh.exports=Qt});var Ih=U((sT,kh)=>{"use strict";var{kForOnEventAttribute:Pa,kListener:Eh}=pr(),Sh=Symbol("kCode"),xh=Symbol("kData"),Ch=Symbol("kError"),Th=Symbol("kMessage"),Oh=Symbol("kReason"),hn=Symbol("kTarget"),Ah=Symbol("kType"),$h=Symbol("kWasClean"),vr=class{constructor(r){this[hn]=null,this[Ah]=r}get target(){return this[hn]}get type(){return this[Ah]}};Object.defineProperty(vr.prototype,"target",{enumerable:!0});Object.defineProperty(vr.prototype,"type",{enumerable:!0});var dn=class extends vr{constructor(r,i={}){super(r);this[Sh]=i.code===void 0?0:i.code,this[Oh]=i.reason===void 0?"":i.reason,this[$h]=i.wasClean===void 0?!1:i.wasClean}get code(){return this[Sh]}get reason(){return this[Oh]}get wasClean(){return this[$h]}};Object.defineProperty(dn.prototype,"code",{enumerable:!0});Object.defineProperty(dn.prototype,"reason",{enumerable:!0});Object.defineProperty(dn.prototype,"wasClean",{enumerable:!0});var ai=class extends vr{constructor(r,i={}){super(r);this[Ch]=i.error===void 0?null:i.error,this[Th]=i.message===void 0?"":i.message}get error(){return this[Ch]}get message(){return this[Th]}};Object.defineProperty(ai.prototype,"error",{enumerable:!0});Object.defineProperty(ai.prototype,"message",{enumerable:!0});var bs=class extends vr{constructor(r,i={}){super(r);this[xh]=i.data===void 0?null:i.data}get data(){return this[xh]}};Object.defineProperty(bs.prototype,"data",{enumerable:!0});var LE={addEventListener(t,r,i={}){let s;if(t==="message")s=function(f,l){let g=new bs("message",{data:l?f:f.toString()});g[hn]=this,r.call(this,g)};else if(t==="close")s=function(f,l){let g=new dn("close",{code:f,reason:l.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});g[hn]=this,r.call(this,g)};else if(t==="error")s=function(f){let l=new ai("error",{error:f,message:f.message});l[hn]=this,r.call(this,l)};else if(t==="open")s=function(){let f=new vr("open");f[hn]=this,r.call(this,f)};else return;s[Pa]=!!i[Pa],s[Eh]=r,i.once?this.once(t,s):this.on(t,s)},removeEventListener(t,r){for(let i of this.listeners(t))if(i[Eh]===r&&!i[Pa]){this.removeListener(t,i);break}}};kh.exports={CloseEvent:dn,ErrorEvent:ai,Event:vr,EventTarget:LE,MessageEvent:bs}});var Da=U((oT,Lh)=>{"use strict";var{tokenChars:ui}=si();function qt(t,r,i){t[r]===void 0?t[r]=[i]:t[r].push(i)}function RE(t){let r=Object.create(null),i=Object.create(null),s=!1,a=!1,f=!1,l,g,p=-1,v=-1,y=-1,E=0;for(;E<t.length;E++)if(v=t.charCodeAt(E),l===void 0)if(y===-1&&ui[v]===1)p===-1&&(p=E);else if(E!==0&&(v===32||v===9))y===-1&&p!==-1&&(y=E);else if(v===59||v===44){if(p===-1)throw new SyntaxError(`Unexpected character at index ${E}`);y===-1&&(y=E);let C=t.slice(p,y);v===44?(qt(r,C,i),i=Object.create(null)):l=C,p=y=-1}else throw new SyntaxError(`Unexpected character at index ${E}`);else if(g===void 0)if(y===-1&&ui[v]===1)p===-1&&(p=E);else if(v===32||v===9)y===-1&&p!==-1&&(y=E);else if(v===59||v===44){if(p===-1)throw new SyntaxError(`Unexpected character at index ${E}`);y===-1&&(y=E),qt(i,t.slice(p,y),!0),v===44&&(qt(r,l,i),i=Object.create(null),l=void 0),p=y=-1}else if(v===61&&p!==-1&&y===-1)g=t.slice(p,E),p=y=-1;else throw new SyntaxError(`Unexpected character at index ${E}`);else if(a){if(ui[v]!==1)throw new SyntaxError(`Unexpected character at index ${E}`);p===-1?p=E:s||(s=!0),a=!1}else if(f)if(ui[v]===1)p===-1&&(p=E);else if(v===34&&p!==-1)f=!1,y=E;else if(v===92)a=!0;else throw new SyntaxError(`Unexpected character at index ${E}`);else if(v===34&&t.charCodeAt(E-1)===61)f=!0;else if(y===-1&&ui[v]===1)p===-1&&(p=E);else if(p!==-1&&(v===32||v===9))y===-1&&(y=E);else if(v===59||v===44){if(p===-1)throw new SyntaxError(`Unexpected character at index ${E}`);y===-1&&(y=E);let C=t.slice(p,y);s&&(C=C.replace(/\\/g,""),s=!1),qt(i,g,C),v===44&&(qt(r,l,i),i=Object.create(null),l=void 0),g=void 0,p=y=-1}else throw new SyntaxError(`Unexpected character at index ${E}`);if(p===-1||f||v===32||v===9)throw new SyntaxError("Unexpected end of input");y===-1&&(y=E);let S=t.slice(p,y);return l===void 0?qt(r,S,i):(g===void 0?qt(i,S,!0):s?qt(i,g,S.replace(/\\/g,"")):qt(i,g,S),qt(r,l,i)),r}function FE(t){return Object.keys(t).map(r=>{let i=t[r];return Array.isArray(i)||(i=[i]),i.map(s=>[r].concat(Object.keys(s).map(a=>{let f=s[a];return Array.isArray(f)||(f=[f]),f.map(l=>l===!0?a:`${a}=${l}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Lh.exports={format:FE,parse:RE}});var Wa=U((uT,Wh)=>{"use strict";var PE=require("events"),DE=require("https"),NE=require("http"),Rh=require("net"),ME=require("tls"),{randomBytes:BE,createHash:qE}=require("crypto"),{Readable:aT}=require("stream"),{URL:Na}=require("url"),_r=ii(),UE=Ra(),WE=Fa(),{BINARY_TYPES:Fh,EMPTY_BUFFER:Es,GUID:GE,kForOnEventAttribute:Ma,kListener:jE,kStatusCode:HE,kWebSocket:ze,NOOP:Ph}=pr(),{EventTarget:{addEventListener:zE,removeEventListener:KE}}=Ih(),{format:YE,parse:VE}=Da(),{toBuffer:JE}=ti(),er=["CONNECTING","OPEN","CLOSING","CLOSED"],XE=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Ba=[8,13],ZE=30*1e3,Z=class extends PE{constructor(r,i,s){super();this._binaryType=Fh[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Es,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=Z.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,r!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,i===void 0?i=[]:Array.isArray(i)||(typeof i=="object"&&i!==null?(s=i,i=[]):i=[i]),Dh(this,r,i,s)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(r){!Fh.includes(r)||(this._binaryType=r,this._receiver&&(this._receiver._binaryType=r))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(r,i,s){let a=new UE({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation});this._sender=new WE(r,this._extensions,s.generateMask),this._receiver=a,this._socket=r,a[ze]=this,r[ze]=this,a.on("conclude",tS),a.on("drain",rS),a.on("error",nS),a.on("message",iS),a.on("ping",sS),a.on("pong",oS),r.setTimeout(0),r.setNoDelay(),i.length>0&&r.unshift(i),r.on("close",Bh),r.on("data",Ss),r.on("end",qh),r.on("error",Uh),this._readyState=Z.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=Z.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[_r.extensionName]&&this._extensions[_r.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=Z.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(r,i){if(this.readyState!==Z.CLOSED){if(this.readyState===Z.CONNECTING){let s="WebSocket was closed before the connection was established";return xt(this,this._req,s)}if(this.readyState===Z.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=Z.CLOSING,this._sender.close(r,i,!this._isServer,s=>{s||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),ZE)}}pause(){this.readyState===Z.CONNECTING||this.readyState===Z.CLOSED||(this._paused=!0,this._socket.pause())}ping(r,i,s){if(this.readyState===Z.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"?(s=r,r=i=void 0):typeof i=="function"&&(s=i,i=void 0),typeof r=="number"&&(r=r.toString()),this.readyState!==Z.OPEN){Ua(this,r,s);return}i===void 0&&(i=!this._isServer),this._sender.ping(r||Es,i,s)}pong(r,i,s){if(this.readyState===Z.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"?(s=r,r=i=void 0):typeof i=="function"&&(s=i,i=void 0),typeof r=="number"&&(r=r.toString()),this.readyState!==Z.OPEN){Ua(this,r,s);return}i===void 0&&(i=!this._isServer),this._sender.pong(r||Es,i,s)}resume(){this.readyState===Z.CONNECTING||this.readyState===Z.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(r,i,s){if(this.readyState===Z.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof i=="function"&&(s=i,i={}),typeof r=="number"&&(r=r.toString()),this.readyState!==Z.OPEN){Ua(this,r,s);return}let a=St({binary:typeof r!="string",mask:!this._isServer,compress:!0,fin:!0},i);this._extensions[_r.extensionName]||(a.compress=!1),this._sender.send(r||Es,a,s)}terminate(){if(this.readyState!==Z.CLOSED){if(this.readyState===Z.CONNECTING){let r="WebSocket was closed before the connection was established";return xt(this,this._req,r)}this._socket&&(this._readyState=Z.CLOSING,this._socket.destroy())}}};Object.defineProperty(Z,"CONNECTING",{enumerable:!0,value:er.indexOf("CONNECTING")});Object.defineProperty(Z.prototype,"CONNECTING",{enumerable:!0,value:er.indexOf("CONNECTING")});Object.defineProperty(Z,"OPEN",{enumerable:!0,value:er.indexOf("OPEN")});Object.defineProperty(Z.prototype,"OPEN",{enumerable:!0,value:er.indexOf("OPEN")});Object.defineProperty(Z,"CLOSING",{enumerable:!0,value:er.indexOf("CLOSING")});Object.defineProperty(Z.prototype,"CLOSING",{enumerable:!0,value:er.indexOf("CLOSING")});Object.defineProperty(Z,"CLOSED",{enumerable:!0,value:er.indexOf("CLOSED")});Object.defineProperty(Z.prototype,"CLOSED",{enumerable:!0,value:er.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(Z.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(Z.prototype,`on${t}`,{enumerable:!0,get(){for(let r of this.listeners(t))if(r[Ma])return r[jE];return null},set(r){for(let i of this.listeners(t))if(i[Ma]){this.removeListener(t,i);break}typeof r=="function"&&this.addEventListener(t,r,{[Ma]:!0})}})});Z.prototype.addEventListener=zE;Z.prototype.removeEventListener=KE;Wh.exports=Z;function Dh(t,r,i,s){let a=Rr(St({protocolVersion:Ba[1],maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},s),{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0});if(!Ba.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${Ba.join(", ")})`);let f;if(r instanceof Na)f=r,t._url=r.href;else{try{f=new Na(r)}catch{throw new SyntaxError(`Invalid URL: ${r}`)}t._url=r}let l=f.protocol==="wss:",g=f.protocol==="ws+unix:",p;if(f.protocol!=="ws:"&&!l&&!g?p=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:g&&!f.pathname?p="The URL's pathname is empty":f.hash&&(p="The URL contains a fragment identifier"),p){let L=new SyntaxError(p);if(t._redirects===0)throw L;qa(t,L);return}let v=l?443:80,y=BE(16).toString("base64"),E=l?DE.get:NE.get,S=new Set,C;if(a.createConnection=l?eS:QE,a.defaultPort=a.defaultPort||v,a.port=f.port||v,a.host=f.hostname.startsWith("[")?f.hostname.slice(1,-1):f.hostname,a.headers=St({"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":y,Connection:"Upgrade",Upgrade:"websocket"},a.headers),a.path=f.pathname+f.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(C=new _r(a.perMessageDeflate!==!0?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=YE({[_r.extensionName]:C.offer()})),i.length){for(let L of i){if(typeof L!="string"||!XE.test(L)||S.has(L))throw new SyntaxError("An invalid or duplicated subprotocol was specified");S.add(L)}a.headers["Sec-WebSocket-Protocol"]=i.join(",")}if(a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin),(f.username||f.password)&&(a.auth=`${f.username}:${f.password}`),g){let L=a.path.split(":");a.socketPath=L[0],a.path=L[1]}let O=t._req=E(a);a.timeout&&O.on("timeout",()=>{xt(t,O,"Opening handshake has timed out")}),O.on("error",L=>{O===null||O.aborted||(O=t._req=null,qa(t,L))}),O.on("response",L=>{let k=L.headers.location,D=L.statusCode;if(k&&a.followRedirects&&D>=300&&D<400){if(++t._redirects>a.maxRedirects){xt(t,O,"Maximum redirects exceeded");return}O.abort();let N;try{N=new Na(k,r)}catch{let W=new SyntaxError(`Invalid URL: ${k}`);qa(t,W);return}Dh(t,N,i,s)}else t.emit("unexpected-response",O,L)||xt(t,O,`Unexpected server response: ${L.statusCode}`)}),O.on("upgrade",(L,k,D)=>{if(t.emit("upgrade",L),t.readyState!==Z.CONNECTING)return;O=t._req=null;let N=qE("sha1").update(y+GE).digest("base64");if(L.headers["sec-websocket-accept"]!==N){xt(t,k,"Invalid Sec-WebSocket-Accept header");return}let M=L.headers["sec-websocket-protocol"],W;if(M!==void 0?S.size?S.has(M)||(W="Server sent an invalid subprotocol"):W="Server sent a subprotocol but none was requested":S.size&&(W="Server sent no subprotocol"),W){xt(t,k,W);return}M&&(t._protocol=M);let V=L.headers["sec-websocket-extensions"];if(V!==void 0){if(!C){xt(t,k,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let oe;try{oe=VE(V)}catch{xt(t,k,"Invalid Sec-WebSocket-Extensions header");return}let ue=Object.keys(oe);if(ue.length!==1||ue[0]!==_r.extensionName){xt(t,k,"Server indicated an extension that was not requested");return}try{C.accept(oe[_r.extensionName])}catch{xt(t,k,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[_r.extensionName]=C}t.setSocket(k,D,{generateMask:a.generateMask,maxPayload:a.maxPayload,skipUTF8Validation:a.skipUTF8Validation})})}function qa(t,r){t._readyState=Z.CLOSING,t.emit("error",r),t.emitClose()}function QE(t){return t.path=t.socketPath,Rh.connect(t)}function eS(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=Rh.isIP(t.host)?"":t.host),ME.connect(t)}function xt(t,r,i){t._readyState=Z.CLOSING;let s=new Error(i);Error.captureStackTrace(s,xt),r.setHeader?(r.abort(),r.socket&&!r.socket.destroyed&&r.socket.destroy(),r.once("abort",t.emitClose.bind(t)),t.emit("error",s)):(r.destroy(s),r.once("error",t.emit.bind(t,"error")),r.once("close",t.emitClose.bind(t)))}function Ua(t,r,i){if(r){let s=JE(r).length;t._socket?t._sender._bufferedBytes+=s:t._bufferedAmount+=s}if(i){let s=new Error(`WebSocket is not open: readyState ${t.readyState} (${er[t.readyState]})`);i(s)}}function tS(t,r){let i=this[ze];i._closeFrameReceived=!0,i._closeMessage=r,i._closeCode=t,i._socket[ze]!==void 0&&(i._socket.removeListener("data",Ss),process.nextTick(Mh,i._socket),t===1005?i.close():i.close(t,r))}function rS(){let t=this[ze];t.isPaused||t._socket.resume()}function nS(t){let r=this[ze];r._socket[ze]!==void 0&&(r._socket.removeListener("data",Ss),process.nextTick(Mh,r._socket),r.close(t[HE])),r.emit("error",t)}function Nh(){this[ze].emitClose()}function iS(t,r){this[ze].emit("message",t,r)}function sS(t){let r=this[ze];r.pong(t,!r._isServer,Ph),r.emit("ping",t)}function oS(t){this[ze].emit("pong",t)}function Mh(t){t.resume()}function Bh(){let t=this[ze];this.removeListener("close",Bh),this.removeListener("data",Ss),this.removeListener("end",qh),t._readyState=Z.CLOSING;let r;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(r=t._socket.read())!==null&&t._receiver.write(r),t._receiver.end(),this[ze]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",Nh),t._receiver.on("finish",Nh))}function Ss(t){this[ze]._receiver.write(t)||this.pause()}function qh(){let t=this[ze];t._readyState=Z.CLOSING,t._receiver.end(),this.end()}function Uh(){let t=this[ze];this.removeListener("error",Uh),this.on("error",Ph),t&&(t._readyState=Z.CLOSING,this.destroy())}});var zh=U((fT,Hh)=>{"use strict";var{Duplex:aS}=require("stream");function Gh(t){t.emit("close")}function uS(){!this.destroyed&&this._writableState.finished&&this.destroy()}function jh(t){this.removeListener("error",jh),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function fS(t,r){let i=!0,s=new aS(Rr(St({},r),{autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1}));return t.on("message",function(f,l){let g=!l&&s._readableState.objectMode?f.toString():f;s.push(g)||t.pause()}),t.once("error",function(f){s.destroyed||(i=!1,s.destroy(f))}),t.once("close",function(){s.destroyed||s.push(null)}),s._destroy=function(a,f){if(t.readyState===t.CLOSED){f(a),process.nextTick(Gh,s);return}let l=!1;t.once("error",function(p){l=!0,f(p)}),t.once("close",function(){l||f(a),process.nextTick(Gh,s)}),i&&t.terminate()},s._final=function(a){if(t.readyState===t.CONNECTING){t.once("open",function(){s._final(a)});return}t._socket!==null&&(t._socket._writableState.finished?(a(),s._readableState.endEmitted&&s.destroy()):(t._socket.once("finish",function(){a()}),t.close()))},s._read=function(){t.isPaused&&t.resume()},s._write=function(a,f,l){if(t.readyState===t.CONNECTING){t.once("open",function(){s._write(a,f,l)});return}t.send(a,l)},s.on("end",uS),s.on("error",jh),s}Hh.exports=fS});var Yh=U((cT,Kh)=>{"use strict";var{tokenChars:cS}=si();function lS(t){let r=new Set,i=-1,s=-1,a=0;for(a;a<t.length;a++){let l=t.charCodeAt(a);if(s===-1&&cS[l]===1)i===-1&&(i=a);else if(a!==0&&(l===32||l===9))s===-1&&i!==-1&&(s=a);else if(l===44){if(i===-1)throw new SyntaxError(`Unexpected character at index ${a}`);s===-1&&(s=a);let g=t.slice(i,s);if(r.has(g))throw new SyntaxError(`The "${g}" subprotocol is duplicated`);r.add(g),i=s=-1}else throw new SyntaxError(`Unexpected character at index ${a}`)}if(i===-1||s!==-1)throw new SyntaxError("Unexpected end of input");let f=t.slice(i,a);if(r.has(f))throw new SyntaxError(`The "${f}" subprotocol is duplicated`);return r.add(f),r}Kh.exports={parse:lS}});var td=U((gT,ed)=>{"use strict";var hS=require("events"),xs=require("http"),lT=require("https"),hT=require("net"),dT=require("tls"),{createHash:dS}=require("crypto"),Vh=Da(),Nr=ii(),gS=Yh(),pS=Wa(),{GUID:mS,kWebSocket:vS}=pr(),_S=/^[+/0-9A-Za-z]{22}==$/,Jh=0,Xh=1,Zh=2,Qh=class extends hS{constructor(r,i){super();if(r=St({maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},r),r.port==null&&!r.server&&!r.noServer||r.port!=null&&(r.server||r.noServer)||r.server&&r.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(r.port!=null?(this._server=xs.createServer((s,a)=>{let f=xs.STATUS_CODES[426];a.writeHead(426,{"Content-Length":f.length,"Content-Type":"text/plain"}),a.end(f)}),this._server.listen(r.port,r.host,r.backlog,i)):r.server&&(this._server=r.server),this._server){let s=this.emit.bind(this,"connection");this._removeListeners=yS(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(a,f,l)=>{this.handleUpgrade(a,f,l,s)}})}r.perMessageDeflate===!0&&(r.perMessageDeflate={}),r.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=r,this._state=Jh}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(r){if(this._state===Zh){r&&this.once("close",()=>{r(new Error("The server is not running"))}),process.nextTick(fi,this);return}if(r&&this.once("close",r),this._state!==Xh)if(this._state=Xh,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(fi,this):process.nextTick(fi,this);else{let i=this._server;this._removeListeners(),this._removeListeners=this._server=null,i.close(()=>{fi(this)})}}shouldHandle(r){if(this.options.path){let i=r.url.indexOf("?");if((i!==-1?r.url.slice(0,i):r.url)!==this.options.path)return!1}return!0}handleUpgrade(r,i,s,a){i.on("error",Ga);let f=r.headers["sec-websocket-key"]!==void 0?r.headers["sec-websocket-key"]:!1,l=+r.headers["sec-websocket-version"];if(r.method!=="GET"||r.headers.upgrade.toLowerCase()!=="websocket"||!f||!_S.test(f)||l!==8&&l!==13||!this.shouldHandle(r))return gn(i,400);let g=r.headers["sec-websocket-protocol"],p=new Set;if(g!==void 0)try{p=gS.parse(g)}catch{return gn(i,400)}let v=r.headers["sec-websocket-extensions"],y={};if(this.options.perMessageDeflate&&v!==void 0){let E=new Nr(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let S=Vh.parse(v);S[Nr.extensionName]&&(E.accept(S[Nr.extensionName]),y[Nr.extensionName]=E)}catch{return gn(i,400)}}if(this.options.verifyClient){let E={origin:r.headers[`${l===8?"sec-websocket-origin":"origin"}`],secure:!!(r.socket.authorized||r.socket.encrypted),req:r};if(this.options.verifyClient.length===2){this.options.verifyClient(E,(S,C,O,L)=>{if(!S)return gn(i,C||401,O,L);this.completeUpgrade(y,f,p,r,i,s,a)});return}if(!this.options.verifyClient(E))return gn(i,401)}this.completeUpgrade(y,f,p,r,i,s,a)}completeUpgrade(r,i,s,a,f,l,g){if(!f.readable||!f.writable)return f.destroy();if(f[vS])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Jh)return gn(f,503);let p=dS("sha1").update(i+mS).digest("base64"),v=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${p}`],y=new pS(null);if(s.size){let E=this.options.handleProtocols?this.options.handleProtocols(s,a):s.values().next().value;E&&(v.push(`Sec-WebSocket-Protocol: ${E}`),y._protocol=E)}if(r[Nr.extensionName]){let E=r[Nr.extensionName].params,S=Vh.format({[Nr.extensionName]:[E]});v.push(`Sec-WebSocket-Extensions: ${S}`),y._extensions=r}this.emit("headers",v,a),f.write(v.concat(`\r
`).join(`\r
`)),f.removeListener("error",Ga),y.setSocket(f,l,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(y),y.on("close",()=>{this.clients.delete(y),this._shouldEmitClose&&!this.clients.size&&process.nextTick(fi,this)})),g(y,a)}};ed.exports=Qh;function yS(t,r){for(let i of Object.keys(r))t.on(i,r[i]);return function(){for(let s of Object.keys(r))t.removeListener(s,r[s])}}function fi(t){t._state=Zh,t.emit("close")}function Ga(){this.destroy()}function gn(t,r,i,s){t.writable&&(i=i||xs.STATUS_CODES[r],s=St({Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i)},s),t.write(`HTTP/1.1 ${r} ${xs.STATUS_CODES[r]}\r
`+Object.keys(s).map(a=>`${a}: ${s[a]}`).join(`\r
`)+`\r
\r
`+i)),t.removeListener("error",Ga),t.destroy()}});var ja=U((pT,rd)=>{"use strict";var tr=Wa();tr.createWebSocketStream=zh();tr.Server=td();tr.Receiver=Ra();tr.Sender=Fa();tr.WebSocket=tr;tr.WebSocketServer=tr.Server;rd.exports=tr});var od=U((mT,sd)=>{"use strict";var nd=require("querystring"),wS=require("crypto"),Ha=ps(),bS=ba(),pn=Ta()("lambda"),id=Oa(),ES=Kl(),SS=ja();function xS(t,r){let i=wS.createHmac("sha256",r).update(t,"utf8").digest();return Buffer.from(i,"binary").toString("base64")}function Xe(t,r){return r?`${t}.${r}`:t}var ci=class{constructor(r,i){if(!r)throw new TypeError('"accountid" must be passed in');if(this.accountid=r,!i)throw new TypeError('"config" must be passed in');let s=i.accessKeyID;if(!s)throw new TypeError('"config.accessKeyID" must be passed in');if(this.accessKeyID=s,this.accessKeyID.startsWith("STS")&&(this.securityToken=i.securityToken,!this.securityToken))throw new TypeError('"config.securityToken" must be passed in for STS');let a=i.accessKeySecret;if(!a)throw new TypeError('"config.accessKeySecret" must be passed in');this.accessKeySecret=a;let f=i.region;if(!f)throw new TypeError('"config.region" must be passed in');let l=i.secure?"https":"http",g=i.internal?"-internal":"";if(this.endpoint=i.endpoint||`${l}://${r}.${f}${g}.fc.aliyuncs.com`,this.host=`${r}.${f}${g}.fc.aliyuncs.com`,i.endpoint){var p=new URL(i.endpoint);this.host=p.hostname}this.version="2016-08-15",this.timeout=Number.isFinite(i.timeout)?i.timeout:6e4,this.headers=i.headers||{}}buildHeaders(){var r=new Date;let i={accept:"application/json",date:r.toUTCString(),host:this.host,"user-agent":`Node.js(${process.version}) OS(${process.platform}/${process.arch}) SDK(${id.name}@v${id.version})`,"x-fc-account-id":this.accountid};return this.securityToken&&(i["x-fc-security-token"]=this.securityToken),i}async request(r,i,s,a,f={},l={}){var g=`${this.endpoint}/${this.version}${i}`;s&&Object.keys(s).length>0&&(g=`${g}?${nd.stringify(s)}`),f=Object.assign(this.buildHeaders(),this.headers,f);var p;if(a){pn("request body: %s",a);var v=null;if(Buffer.isBuffer(a)?(v=a,f["content-type"]="application/octet-stream"):typeof a=="string"?(v=Buffer.from(a,"utf8"),f["content-type"]="application/octet-stream"):typeof a.pipe=="function"?(v=a,f["content-type"]="application/octet-stream"):(v=Buffer.from(JSON.stringify(a),"utf8"),f["content-type"]="application/json"),typeof a.pipe!="function"){let k=bS.md5(v,"hex"),D=Buffer.from(k,"utf8").toString("base64");f["content-length"]=v.length,f["content-md5"]=D}p=v}var y=null;i.startsWith("/proxy/")&&(y=s||{});var E=ci.getSignature(this.accessKeyID,this.accessKeySecret,r,`/${this.version}${i}`,f,y);f.authorization=E,pn("request headers: %j",f);let S=await Ha.request(g,{method:r,timeout:this.timeout,headers:f,data:p});pn("response status: %s",S.statusCode),pn("response headers: %j",S.headers);var C;if(!l.rawBuf||S.headers["x-fc-error-type"]?C=await Ha.read(S,"utf8"):C=await Ha.read(S),pn("response body: %s",C),(S.headers["content-type"]||"").startsWith("application/json")&&(C=JSON.parse(C)),S.statusCode<200||S.statusCode>=300){let k=S.statusCode,D=S.headers["x-fc-request-id"];var L;C.ErrorMessage?L=C.ErrorMessage:L=C.errorMessage;let N=new Error(`${r} ${i} failed with ${k}. requestid: ${D}, message: ${L}.`);throw N.name=`FC${C.ErrorCode}Error`,N.code=C.ErrorCode,N}return{headers:S.headers,data:C}}get(r,i,s){return this.request("GET",r,i,null,s)}post(r,i,s,a,f={}){return this.request("POST",r,a,i,s,f)}put(r,i,s){return this.request("PUT",r,null,i,s)}delete(r,i,s){return this.request("DELETE",r,i,null,s)}websocket(r,i,s={}){var a=`${this.endpoint.replace(/^http/,"ws")}/${this.version}${r}`;i&&Object.keys(i).length>0&&(a=`${a}?${nd.stringify(i)}`),s=Object.assign(this.buildHeaders(),this.headers,s);var f=null;r.startsWith("/proxy/")&&(f=i||{});var l=ci.getSignature(this.accessKeyID,this.accessKeySecret,"GET",`/${this.version}${r}`,s,f);return s.authorization=l,new SS(a,{headers:s})}createService(r,i={},s){return this.post("/services",Object.assign({serviceName:r},i),s)}listServices(r={},i){if(r.tags!==void 0){for(var s in r.tags)Object.prototype.hasOwnProperty.call(r.tags,s)&&(r[`tag_${s}`]=r.tags[s]);delete r.tags}return this.get("/services",r,i)}getService(r,i={},s){return this.get(`/services/${Xe(r,s)}`,null,i)}updateService(r,i={},s){return this.put(`/services/${r}`,i,s)}deleteService(r,i={},s){return this.delete(`/services/${r}`,null,i,s)}createFunction(r,i,s){return this.normalizeParams(i),this.post(`/services/${r}/functions`,i,s)}normalizeParams(r){r.functionName&&(r.functionName=String(r.functionName)),r.runtime&&(r.runtime=String(r.runtime)),r.handler&&(r.handler=String(r.handler)),r.initializer&&(r.initializer=String(r.initializer)),r.memorySize&&(r.memorySize=parseInt(r.memorySize,10)),r.timeout&&(r.timeout=parseInt(r.timeout,10)),r.initializationTimeout&&(r.initializationTimeout=parseInt(r.initializationTimeout,10))}listFunctions(r,i={},s={},a){return this.get(`/services/${Xe(r,a)}/functions`,i,s)}getFunction(r,i,s={},a){return this.get(`/services/${Xe(r,a)}/functions/${i}`,null,s)}getFunctionCode(r,i,s={},a){return this.get(`/services/${Xe(r,a)}/functions/${i}/code`,s)}updateFunction(r,i,s,a){this.normalizeParams(s);let f=`/services/${r}/functions/${i}`;return this.put(f,s,a)}deleteFunction(r,i,s={},a){let f=`/services/${r}/functions/${i}`;return this.delete(f,s,a)}invokeFunction(r,i,s,a={},f,l={}){if(s&&typeof s!="string"&&!Buffer.isBuffer(s))throw new TypeError('"event" must be String or Buffer');let g=`/services/${Xe(r,f)}/functions/${i}/invocations`;return this.post(g,s,a,null,l)}createTrigger(r,i,s,a={}){let f=`/services/${r}/functions/${i}/triggers`;return this.post(f,s,a)}listTriggers(r,i,s={},a){let f=`/services/${r}/functions/${i}/triggers`;return this.get(f,s,a)}getTrigger(r,i,s,a){let f=`/services/${r}/functions/${i}/triggers/${s}`;return this.get(f,null,a)}updateTrigger(r,i,s,a={},f={}){let l=`/services/${r}/functions/${i}/triggers/${s}`;return this.put(l,a,f)}deleteTrigger(r,i,s,a,f){let l=`/services/${r}/functions/${i}/triggers/${s}`;return this.delete(l,a,f)}createCustomDomain(r,i={},s){return this.post("/custom-domains",Object.assign({domainName:r},i),s)}listCustomDomains(r={},i){return this.get("/custom-domains",r,i)}getCustomDomain(r,i){return this.get(`/custom-domains/${r}`,null,i)}updateCustomDomain(r,i={},s){return this.put(`/custom-domains/${r}`,i,s)}deleteCustomDomain(r,i={},s){return this.delete(`/custom-domains/${r}`,null,i,s)}publishVersion(r,i,s){var a={};return i&&(a.description=i),this.post(`/services/${r}/versions`,a,s||{})}listVersions(r,i={},s={}){return this.get(`/services/${r}/versions`,i,s)}deleteVersion(r,i,s={}){return this.delete(`/services/${r}/versions/${i}`,null,s)}createAlias(r,i,s,a={},f={}){return a.aliasName=i,a.versionId=s,this.post(`/services/${r}/aliases`,a,f)}deleteAlias(r,i,s={}){return this.delete(`/services/${r}/aliases/${i}`,null,s)}listAliases(r,i={},s={}){return this.get(`/services/${r}/aliases`,i,s)}getAlias(r,i,s={}){return this.get(`/services/${r}/aliases/${i}`,null,s)}updateAlias(r,i,s,a={},f={}){return s&&(a.versionId=s),this.put(`/services/${r}/aliases/${i}`,a,f)}tagResource(r,i,s={},a={}){return s.resourceArn=r,s.tags=i,this.post("/tag",s,a)}untagResource(r,i,s=!1,a={},f={}){return a.resourceArn=r,a.tagKeys=i,a.all=s,this.request("DELETE","/tag",null,a,f)}getResourceTags(r={},i={}){return this.get("/tag",r,i)}listReservedCapacities(r={},i){return this.get("/reservedCapacities",r,i)}listProvisionConfigs(r={},i){return this.get("/provision-configs",r,i)}getProvisionConfig(r,i,s,a={}){return this.get(`/services/${Xe(r,s)}/functions/${i}/provision-config`,null,a)}putProvisionConfig(r,i,s,a={},f={}){return this.put(`/services/${Xe(r,s)}/functions/${i}/provision-config`,a,f)}deleteFunctionAsyncConfig(r,i,s,a={}){return this.delete(`/services/${Xe(r,s)}/functions/${i}/async-invoke-config`,null,a)}listFunctionAsyncConfigs(r,i,s={},a={}){return this.get(`/services/${r}/functions/${i}/async-invoke-configs`,s,a)}getFunctionAsyncConfig(r,i,s,a={}){return this.get(`/services/${Xe(r,s)}/functions/${i}/async-invoke-config`,null,a)}putFunctionAsyncConfig(r,i,s,a={},f={}){return this.put(`/services/${Xe(r,s)}/functions/${i}/async-invoke-config`,a,f)}getAccountSettings(r={},i={}){return this.get("/account-settings",r,i)}listLayers(r={},i={}){return this.get("/layers",r,i)}listLayerVersions(r,i={},s={}){return this.get(`/layers/${r}/versions`,i,s)}getLayerVersion(r,i,s={},a={}){return this.get(`/layers/${r}/versions/${i}`,s,a)}publishLayerVersion(r,i={},s={}){return this.post(`/layers/${r}/versions`,i,s)}deleteLayerVersion(r,i,s={}){return this.delete(`/layers/${r}/versions/${i}`,null,s)}listOnDemandConfigs(r={},i={}){return this.get("/on-demand-configs",r,i)}getOnDemandConfig(r,i,s,a={},f={}){return this.get(`/services/${Xe(r,s)}/functions/${i}/on-demand-config`,a,f)}putOnDemandConfig(r,i,s,a={},f={}){return this.put(`/services/${Xe(r,s)}/functions/${i}/on-demand-config`,a,f)}deleteOnDemandConfig(r,i,s,a={},f={}){return this.delete(`/services/${Xe(r,s)}/functions/${i}/on-demand-config`,a,f)}listInstances(r,i,s,a={},f={}){return this.get(`/services/${Xe(r,s)}/functions/${i}/instances`,a,f)}async instanceExec(r,i,s="",a,f={},l={}){let g=0,p=1,v=2;var y={command:"/bin/bash",tty:!0,stdin:!0,stdout:!0,stderr:!1,idleTimeout:120};for(var E of Object.keys(y))typeof f[E]!="undefined"&&(y[E]=f[E]);let{onClose:S=()=>{},onError:C=()=>{},onStdout:O=()=>{},onStderr:L=()=>{}}=l,k=this.websocket(`/services/${Xe(r,s)}/functions/${i}/instances/${a}/exec`,y),D=setInterval(function(){try{k.ping()}catch{k.close()}},5e3);return k.on("unexpected-response",function(N,M){var W=[];M.on("data",function(V){W=W.concat(V)}),M.on("end",function(){let V=JSON.parse(W.toString()),oe=new Error(V.ErrorMessage);C(oe),k.close()})}),k.on("close",N=>{clearInterval(D),S(N)}),k.on("error",(N,M)=>C(N,M)),k.on("ping",N=>k.pong(N)),k.on("message",N=>{if(!!N&&N.length>=2){let M=N[0],W=N.slice(1);M===p&&O?O(W):M===v&&L&&L(W)}}),await(async()=>{new Promise(N=>k.onopen=N)}),{websocket:k,close:()=>k.close(),sendMessage:N=>{if(!(N instanceof Uint8Array))throw new Error("data must be Uint8Array");let M=new Uint8Array(N.length+1);M.set([g]),M.set(N,1),k.send(M)}}}static getSignature(r,i,s,a,f,l){var g=ES.composeStringToSign(s,a,f,l);pn("stringToSign: %s",g);var p=xS(g,i);return`FC ${r}:${p}`}};sd.exports=ci});var ad=U((vT,Cs)=>{(function(t){"use strict";var r=Object.prototype,i=r.hasOwnProperty,s,a=typeof Symbol=="function"?Symbol:{},f=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",g=a.toStringTag||"@@toStringTag",p=typeof Cs=="object",v=t.regeneratorRuntime;if(v){p&&(Cs.exports=v);return}v=t.regeneratorRuntime=p?Cs.exports:{};function y(R,I,P,H){var j=I&&I.prototype instanceof D?I:D,ye=Object.create(j.prototype),xe=new Pt(H||[]);return ye._invoke=dt(R,P,xe),ye}v.wrap=y;function E(R,I,P){try{return{type:"normal",arg:R.call(I,P)}}catch(H){return{type:"throw",arg:H}}}var S="suspendedStart",C="suspendedYield",O="executing",L="completed",k={};function D(){}function N(){}function M(){}var W={};W[f]=function(){return this};var V=Object.getPrototypeOf,oe=V&&V(V(Ge([])));oe&&oe!==r&&i.call(oe,f)&&(W=oe);var ue=M.prototype=D.prototype=Object.create(W);N.prototype=ue.constructor=M,M.constructor=N,M[g]=N.displayName="GeneratorFunction";function be(R){["next","throw","return"].forEach(function(I){R[I]=function(P){return this._invoke(I,P)}})}v.isGeneratorFunction=function(R){var I=typeof R=="function"&&R.constructor;return I?I===N||(I.displayName||I.name)==="GeneratorFunction":!1},v.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,M):(R.__proto__=M,g in R||(R[g]="GeneratorFunction")),R.prototype=Object.create(ue),R},v.awrap=function(R){return{__await:R}};function re(R){function I(j,ye,xe,Be){var it=E(R[j],R,ye);if(it.type==="throw")Be(it.arg);else{var Fe=it.arg,Ot=Fe.value;return Ot&&typeof Ot=="object"&&i.call(Ot,"__await")?Promise.resolve(Ot.__await).then(function(Sr){I("next",Sr,xe,Be)},function(Sr){I("throw",Sr,xe,Be)}):Promise.resolve(Ot).then(function(Sr){Fe.value=Sr,xe(Fe)},Be)}}var P;function H(j,ye){function xe(){return new Promise(function(Be,it){I(j,ye,Be,it)})}return P=P?P.then(xe,xe):xe()}this._invoke=H}be(re.prototype),re.prototype[l]=function(){return this},v.AsyncIterator=re,v.async=function(R,I,P,H){var j=new re(y(R,I,P,H));return v.isGeneratorFunction(I)?j:j.next().then(function(ye){return ye.done?ye.value:j.next()})};function dt(R,I,P){var H=S;return function(ye,xe){if(H===O)throw new Error("Generator is already running");if(H===L){if(ye==="throw")throw xe;return ae()}for(P.method=ye,P.arg=xe;;){var Be=P.delegate;if(Be){var it=gt(Be,P);if(it){if(it===k)continue;return it}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(H===S)throw H=L,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);H=O;var Fe=E(R,I,P);if(Fe.type==="normal"){if(H=P.done?L:C,Fe.arg===k)continue;return{value:Fe.arg,done:P.done}}else Fe.type==="throw"&&(H=L,P.method="throw",P.arg=Fe.arg)}}}function gt(R,I){var P=R.iterator[I.method];if(P===s){if(I.delegate=null,I.method==="throw"){if(R.iterator.return&&(I.method="return",I.arg=s,gt(R,I),I.method==="throw"))return k;I.method="throw",I.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var H=E(P,R.iterator,I.arg);if(H.type==="throw")return I.method="throw",I.arg=H.arg,I.delegate=null,k;var j=H.arg;if(!j)return I.method="throw",I.arg=new TypeError("iterator result is not an object"),I.delegate=null,k;if(j.done)I[R.resultName]=j.value,I.next=R.nextLoc,I.method!=="return"&&(I.method="next",I.arg=s);else return j;return I.delegate=null,k}be(ue),ue[g]="Generator",ue[f]=function(){return this},ue.toString=function(){return"[object Generator]"};function Tt(R){var I={tryLoc:R[0]};1 in R&&(I.catchLoc=R[1]),2 in R&&(I.finallyLoc=R[2],I.afterLoc=R[3]),this.tryEntries.push(I)}function ve(R){var I=R.completion||{};I.type="normal",delete I.arg,R.completion=I}function Pt(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(Tt,this),this.reset(!0)}v.keys=function(R){var I=[];for(var P in R)I.push(P);return I.reverse(),function H(){for(;I.length;){var j=I.pop();if(j in R)return H.value=j,H.done=!1,H}return H.done=!0,H}};function Ge(R){if(R){var I=R[f];if(I)return I.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var P=-1,H=function j(){for(;++P<R.length;)if(i.call(R,P))return j.value=R[P],j.done=!1,j;return j.value=s,j.done=!0,j};return H.next=H}}return{next:ae}}v.values=Ge;function ae(){return{value:s,done:!0}}Pt.prototype={constructor:Pt,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(ve),!R)for(var I in this)I.charAt(0)==="t"&&i.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=s)},stop:function(){this.done=!0;var R=this.tryEntries[0],I=R.completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var I=this;function P(it,Fe){return ye.type="throw",ye.arg=R,I.next=it,Fe&&(I.method="next",I.arg=s),!!Fe}for(var H=this.tryEntries.length-1;H>=0;--H){var j=this.tryEntries[H],ye=j.completion;if(j.tryLoc==="root")return P("end");if(j.tryLoc<=this.prev){var xe=i.call(j,"catchLoc"),Be=i.call(j,"finallyLoc");if(xe&&Be){if(this.prev<j.catchLoc)return P(j.catchLoc,!0);if(this.prev<j.finallyLoc)return P(j.finallyLoc)}else if(xe){if(this.prev<j.catchLoc)return P(j.catchLoc,!0)}else if(Be){if(this.prev<j.finallyLoc)return P(j.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(R,I){for(var P=this.tryEntries.length-1;P>=0;--P){var H=this.tryEntries[P];if(H.tryLoc<=this.prev&&i.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var j=H;break}}j&&(R==="break"||R==="continue")&&j.tryLoc<=I&&I<=j.finallyLoc&&(j=null);var ye=j?j.completion:{};return ye.type=R,ye.arg=I,j?(this.method="next",this.next=j.finallyLoc,k):this.complete(ye)},complete:function(R,I){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&I&&(this.next=I),k},finish:function(R){for(var I=this.tryEntries.length-1;I>=0;--I){var P=this.tryEntries[I];if(P.finallyLoc===R)return this.complete(P.completion,P.afterLoc),ve(P),k}},catch:function(R){for(var I=this.tryEntries.length-1;I>=0;--I){var P=this.tryEntries[I];if(P.tryLoc===R){var H=P.completion;if(H.type==="throw"){var j=H.arg;ve(P)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(R,I,P){return this.delegate={iterator:Ge(R),resultName:I,nextLoc:P},this.method==="next"&&(this.arg=s),k}}})(function(){return this}()||Function("return this")())});var cd=U((_T,fd)=>{var Mr=function(){return this}()||Function("return this")(),ud=Mr.regeneratorRuntime&&Object.getOwnPropertyNames(Mr).indexOf("regeneratorRuntime")>=0,CS=ud&&Mr.regeneratorRuntime;Mr.regeneratorRuntime=void 0;fd.exports=ad();if(ud)Mr.regeneratorRuntime=CS;else try{delete Mr.regeneratorRuntime}catch{Mr.regeneratorRuntime=void 0}});var hd=U((yT,ld)=>{ld.exports=cd()});var gd=U((wT,dd)=>{"use strict";var TS=require("url");function OS(t,r){for(var i=[],s=Object.keys(t),a={},f=0;f<s.length;f++){var l=s[f],g=l.toLowerCase().trim();g.startsWith(r)&&(i.push(g),a[g]=t[l])}i.sort();for(var p="",v=0;v<i.length;v++){var y=i[v];p+=`${y}:${a[y]}
`}return p}function AS(t,r,i,s){var a=i["content-md5"]||"",f=i["content-type"]||"",l=i.date,g=OS(i,"x-fc-"),p=TS.parse(r),v=decodeURIComponent(p.pathname),y=`${t}
${a}
${f}
${l}
${g}${v}`;if(s){var E=[];Object.keys(s).forEach(function(S){var C=s[S],O=typeof C;if(O==="string"){E.push(`${S}=${C}`);return}Array.isArray(C)&&s[S].forEach(function(L){E.push(`${S}=${L}`)})}),E.sort(),y+=`
`+E.join(`
`)}return y}dd.exports={composeStringToSign:AS}});var _d=U((bT,vd)=>{"use strict";var $S=hd(),mn=IS($S),kS=function(){function t(r,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}return function(r,i,s){return i&&t(r.prototype,i),s&&t(r,s),r}}();function IS(t){return t&&t.__esModule?t:{default:t}}function za(t){return function(){var r=t.apply(this,arguments);return new Promise(function(i,s){function a(f,l){try{var g=r[f](l),p=g.value}catch(v){s(v);return}if(g.done)i(p);else return Promise.resolve(p).then(function(v){a("next",v)},function(v){a("throw",v)})}return a("next")})}}function LS(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var pd=require("querystring"),RS=require("crypto"),Ka=ps(),FS=ba(),vn=Ta()("lambda"),md=Oa(),PS=gd(),DS=ja();function NS(t,r){var i=RS.createHmac("sha256",r).update(t,"utf8").digest();return Buffer.from(i,"binary").toString("base64")}function Ze(t,r){return r?`${t}.${r}`:t}var MS=function(){function t(r,i){if(LS(this,t),!r)throw new TypeError('"accountid" must be passed in');if(this.accountid=r,!i)throw new TypeError('"config" must be passed in');var s=i.accessKeyID;if(!s)throw new TypeError('"config.accessKeyID" must be passed in');if(this.accessKeyID=s,this.accessKeyID.startsWith("STS")&&(this.securityToken=i.securityToken,!this.securityToken))throw new TypeError('"config.securityToken" must be passed in for STS');var a=i.accessKeySecret;if(!a)throw new TypeError('"config.accessKeySecret" must be passed in');this.accessKeySecret=a;var f=i.region;if(!f)throw new TypeError('"config.region" must be passed in');var l=i.secure?"https":"http",g=i.internal?"-internal":"";if(this.endpoint=i.endpoint||`${l}://${r}.${f}${g}.fc.aliyuncs.com`,this.host=`${r}.${f}${g}.fc.aliyuncs.com`,i.endpoint){var p=new URL(i.endpoint);this.host=p.hostname}this.version="2016-08-15",this.timeout=Number.isFinite(i.timeout)?i.timeout:6e4,this.headers=i.headers||{}}return kS(t,[{key:"buildHeaders",value:function(){var i=new Date,s={accept:"application/json",date:i.toUTCString(),host:this.host,"user-agent":`Node.js(${process.version}) OS(${process.platform}/${process.arch}) SDK(${md.name}@v${md.version})`,"x-fc-account-id":this.accountid};return this.securityToken&&(s["x-fc-security-token"]=this.securityToken),s}},{key:"request",value:function(){var r=za(mn.default.mark(function s(a,f,l,g){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},y,E,S,C,O,L,k,D,N,M,W,V,oe,ue;return mn.default.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return y=`${this.endpoint}/${this.version}${f}`,l&&Object.keys(l).length>0&&(y=`${y}?${pd.stringify(l)}`),p=Object.assign(this.buildHeaders(),this.headers,p),g&&(vn("request body: %s",g),S=null,Buffer.isBuffer(g)?(S=g,p["content-type"]="application/octet-stream"):typeof g=="string"?(S=Buffer.from(g,"utf8"),p["content-type"]="application/octet-stream"):typeof g.pipe=="function"?(S=g,p["content-type"]="application/octet-stream"):(S=Buffer.from(JSON.stringify(g),"utf8"),p["content-type"]="application/json"),typeof g.pipe!="function"&&(C=FS.md5(S,"hex"),O=Buffer.from(C,"utf8").toString("base64"),p["content-length"]=S.length,p["content-md5"]=O),E=S),L=null,f.startsWith("/proxy/")&&(L=l||{}),k=t.getSignature(this.accessKeyID,this.accessKeySecret,a,`/${this.version}${f}`,p,L),p.authorization=k,vn("request headers: %j",p),re.next=11,Ka.request(y,{method:a,timeout:this.timeout,headers:p,data:E});case 11:if(D=re.sent,vn("response status: %s",D.statusCode),vn("response headers: %j",D.headers),!(!v.rawBuf||D.headers["x-fc-error-type"])){re.next=20;break}return re.next=17,Ka.read(D,"utf8");case 17:N=re.sent,re.next=23;break;case 20:return re.next=22,Ka.read(D);case 22:N=re.sent;case 23:if(vn("response body: %s",N),M=D.headers["content-type"]||"",M.startsWith("application/json")&&(N=JSON.parse(N)),!(D.statusCode<200||D.statusCode>=300)){re.next=34;break}throw W=D.statusCode,V=D.headers["x-fc-request-id"],N.ErrorMessage?oe=N.ErrorMessage:oe=N.errorMessage,ue=new Error(`${a} ${f} failed with ${W}. requestid: ${V}, message: ${oe}.`),ue.name=`FC${N.ErrorCode}Error`,ue.code=N.ErrorCode,ue;case 34:return re.abrupt("return",{headers:D.headers,data:N});case 35:case"end":return re.stop()}},s,this)}));function i(s,a,f,l){return r.apply(this,arguments)}return i}()},{key:"get",value:function(i,s,a){return this.request("GET",i,s,null,a)}},{key:"post",value:function(i,s,a,f){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.request("POST",i,f,s,a,l)}},{key:"put",value:function(i,s,a){return this.request("PUT",i,null,s,a)}},{key:"delete",value:function(i,s,a){return this.request("DELETE",i,s,null,a)}},{key:"websocket",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=`${this.endpoint.replace(/^http/,"ws")}/${this.version}${i}`;s&&Object.keys(s).length>0&&(f=`${f}?${pd.stringify(s)}`),a=Object.assign(this.buildHeaders(),this.headers,a);var l=null;i.startsWith("/proxy/")&&(l=s||{});var g=t.getSignature(this.accessKeyID,this.accessKeySecret,"GET",`/${this.version}${i}`,a,l);return a.authorization=g,new DS(f,{headers:a})}},{key:"createService",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.post("/services",Object.assign({serviceName:i},s),a)}},{key:"listServices",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments[1];if(i.tags!==void 0){for(var a in i.tags)Object.prototype.hasOwnProperty.call(i.tags,a)&&(i[`tag_${a}`]=i.tags[a]);delete i.tags}return this.get("/services",i,s)}},{key:"getService",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.get(`/services/${Ze(i,a)}`,null,s)}},{key:"updateService",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.put(`/services/${i}`,s,a)}},{key:"deleteService",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.delete(`/services/${i}`,null,s,a)}},{key:"createFunction",value:function(i,s,a){return this.normalizeParams(s),this.post(`/services/${i}/functions`,s,a)}},{key:"normalizeParams",value:function(i){i.functionName&&(i.functionName=String(i.functionName)),i.runtime&&(i.runtime=String(i.runtime)),i.handler&&(i.handler=String(i.handler)),i.initializer&&(i.initializer=String(i.initializer)),i.memorySize&&(i.memorySize=parseInt(i.memorySize,10)),i.timeout&&(i.timeout=parseInt(i.timeout,10)),i.initializationTimeout&&(i.initializationTimeout=parseInt(i.initializationTimeout,10))}},{key:"listFunctions",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments[3];return this.get(`/services/${Ze(i,f)}/functions`,s,a)}},{key:"getFunction",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments[3];return this.get(`/services/${Ze(i,f)}/functions/${s}`,null,a)}},{key:"getFunctionCode",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments[3];return this.get(`/services/${Ze(i,f)}/functions/${s}/code`,a)}},{key:"updateFunction",value:function(i,s,a,f){this.normalizeParams(a);var l=`/services/${i}/functions/${s}`;return this.put(l,a,f)}},{key:"deleteFunction",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments[3],l=`/services/${i}/functions/${s}`;return this.delete(l,a,f)}},{key:"invokeFunction",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments[4],g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(a&&typeof a!="string"&&!Buffer.isBuffer(a))throw new TypeError('"event" must be String or Buffer');var p=`/services/${Ze(i,l)}/functions/${s}/invocations`;return this.post(p,a,f,null,g)}},{key:"createTrigger",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=`/services/${i}/functions/${s}/triggers`;return this.post(l,a,f)}},{key:"listTriggers",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments[3],l=`/services/${i}/functions/${s}/triggers`;return this.get(l,a,f)}},{key:"getTrigger",value:function(i,s,a,f){var l=`/services/${i}/functions/${s}/triggers/${a}`;return this.get(l,null,f)}},{key:"updateTrigger",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},g=`/services/${i}/functions/${s}/triggers/${a}`;return this.put(g,f,l)}},{key:"deleteTrigger",value:function(i,s,a,f,l){var g=`/services/${i}/functions/${s}/triggers/${a}`;return this.delete(g,f,l)}},{key:"createCustomDomain",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.post("/custom-domains",Object.assign({domainName:i},s),a)}},{key:"listCustomDomains",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments[1];return this.get("/custom-domains",i,s)}},{key:"getCustomDomain",value:function(i,s){return this.get(`/custom-domains/${i}`,null,s)}},{key:"updateCustomDomain",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.put(`/custom-domains/${i}`,s,a)}},{key:"deleteCustomDomain",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.delete(`/custom-domains/${i}`,null,s,a)}},{key:"publishVersion",value:function(i,s,a){var f={};return s&&(f.description=s),this.post(`/services/${i}/versions`,f,a||{})}},{key:"listVersions",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.get(`/services/${i}/versions`,s,a)}},{key:"deleteVersion",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.delete(`/services/${i}/versions/${s}`,null,a)}},{key:"createAlias",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return f.aliasName=s,f.versionId=a,this.post(`/services/${i}/aliases`,f,l)}},{key:"deleteAlias",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.delete(`/services/${i}/aliases/${s}`,null,a)}},{key:"listAliases",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.get(`/services/${i}/aliases`,s,a)}},{key:"getAlias",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.get(`/services/${i}/aliases/${s}`,null,a)}},{key:"updateAlias",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return a&&(f.versionId=a),this.put(`/services/${i}/aliases/${s}`,f,l)}},{key:"tagResource",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return a.resourceArn=i,a.tags=s,this.post("/tag",a,f)}},{key:"untagResource",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return f.resourceArn=i,f.tagKeys=s,f.all=a,this.request("DELETE","/tag",null,f,l)}},{key:"getResourceTags",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.get("/tag",i,s)}},{key:"listReservedCapacities",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments[1];return this.get("/reservedCapacities",i,s)}},{key:"listProvisionConfigs",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments[1];return this.get("/provision-configs",i,s)}},{key:"getProvisionConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.get(`/services/${Ze(i,a)}/functions/${s}/provision-config`,null,f)}},{key:"putProvisionConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.put(`/services/${Ze(i,a)}/functions/${s}/provision-config`,f,l)}},{key:"deleteFunctionAsyncConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.delete(`/services/${Ze(i,a)}/functions/${s}/async-invoke-config`,null,f)}},{key:"listFunctionAsyncConfigs",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.get(`/services/${i}/functions/${s}/async-invoke-configs`,a,f)}},{key:"getFunctionAsyncConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.get(`/services/${Ze(i,a)}/functions/${s}/async-invoke-config`,null,f)}},{key:"putFunctionAsyncConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.put(`/services/${Ze(i,a)}/functions/${s}/async-invoke-config`,f,l)}},{key:"getAccountSettings",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.get("/account-settings",i,s)}},{key:"listLayers",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.get("/layers",i,s)}},{key:"listLayerVersions",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.get(`/layers/${i}/versions`,s,a)}},{key:"getLayerVersion",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.get(`/layers/${i}/versions/${s}`,a,f)}},{key:"publishLayerVersion",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.post(`/layers/${i}/versions`,s,a)}},{key:"deleteLayerVersion",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.delete(`/layers/${i}/versions/${s}`,null,a)}},{key:"listOnDemandConfigs",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.get("/on-demand-configs",i,s)}},{key:"getOnDemandConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.get(`/services/${Ze(i,a)}/functions/${s}/on-demand-config`,f,l)}},{key:"putOnDemandConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.put(`/services/${Ze(i,a)}/functions/${s}/on-demand-config`,f,l)}},{key:"deleteOnDemandConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.delete(`/services/${Ze(i,a)}/functions/${s}/on-demand-config`,f,l)}},{key:"listInstances",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.get(`/services/${Ze(i,a)}/functions/${s}/instances`,f,l)}},{key:"instanceExec",value:function(){var r=za(mn.default.mark(function s(a,f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",g=arguments[3],p=this,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},E,S,C,O,L,k,D,N,M,W,V,oe,ue,be,re,dt,gt,Tt,ve,Pt;return mn.default.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:for(E=0,S=1,C=2,O={command:"/bin/bash",tty:!0,stdin:!0,stdout:!0,stderr:!1,idleTimeout:120},L=!0,k=!1,D=void 0,ae.prev=7,N=Object.keys(O)[Symbol.iterator]();!(L=(M=N.next()).done);L=!0)W=M.value,typeof v[W]!="undefined"&&(O[W]=v[W]);ae.next=15;break;case 11:ae.prev=11,ae.t0=ae.catch(7),k=!0,D=ae.t0;case 15:ae.prev=15,ae.prev=16,!L&&N.return&&N.return();case 18:if(ae.prev=18,!k){ae.next=21;break}throw D;case 21:return ae.finish(18);case 22:return ae.finish(15);case 23:return V=y.onClose,oe=V===void 0?function(){}:V,ue=y.onError,be=ue===void 0?function(){}:ue,re=y.onStdout,dt=re===void 0?function(){}:re,gt=y.onStderr,Tt=gt===void 0?function(){}:gt,ve=this.websocket(`/services/${Ze(a,l)}/functions/${f}/instances/${g}/exec`,O),Pt=setInterval(function(){try{ve.ping()}catch{ve.close()}},5e3),ve.on("unexpected-response",function(R,I){var P=[];I.on("data",function(H){P=P.concat(H)}),I.on("end",function(){var H=JSON.parse(P.toString()),j=new Error(H.ErrorMessage);be(j),ve.close()})}),ve.on("close",function(R){clearInterval(Pt),oe(R)}),ve.on("error",function(R,I){return be(R,I)}),ve.on("ping",function(R){return ve.pong(R)}),ve.on("message",function(R){if(!!R&&R.length>=2){var I=R[0],P=R.slice(1);I===S&&dt?dt(P):I===C&&Tt&&Tt(P)}}),ae.next=33,za(mn.default.mark(function R(){return mn.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:new Promise(function(H){return ve.onopen=H});case 1:case"end":return P.stop()}},R,p)}));case 33:return ae.abrupt("return",{websocket:ve,close:function(){return ve.close()},sendMessage:function(I){if(!(I instanceof Uint8Array))throw new Error("data must be Uint8Array");var P=new Uint8Array(I.length+1);P.set([E]),P.set(I,1),ve.send(P)}});case 34:case"end":return ae.stop()}},s,this,[[7,11,15,23],[16,,18,22]])}));function i(s,a){return r.apply(this,arguments)}return i}()}],[{key:"getSignature",value:function(i,s,a,f,l,g){var p=PS.composeStringToSign(a,f,l,g);vn("stringToSign: %s",p);var v=NS(p,s);return`FC ${i}:${v}`}}]),t}();vd.exports=MS});var wd=U((ET,yd)=>{"use strict";function BS(){try{return new Function("(async function () {})()"),!0}catch{return!1}}yd.exports=BS()?od():_d()});var jd=U((MT,eu)=>{"use strict";var Bd=require("child_process").exec,qd=require("child_process").execSync,Ts=require("fs"),Ud=require("path"),Wd=Ts.access,Gd=Ts.accessSync,_n=Ts.constants||Ts,Za=process.platform=="win32",KS=function(t,r){Wd(t,_n.F_OK,function(i){r(!i)})},YS=function(t){try{return Gd(t,_n.F_OK),!1}catch{return!0}},VS=function(t,r){Wd(t,_n.F_OK|_n.X_OK,function(i){r(null,!i)})},JS=function(t){try{return Gd(t,_n.F_OK|_n.X_OK),!0}catch{return!1}},XS=function(t,r,i){KS(t,function(s){if(!s){var a=Bd("command -v "+r+" 2>/dev/null && { echo >&1 "+r+"; exit 0; }",function(f,l,g){i(null,!!l)});return}VS(t,i)})},ZS=function(t,r,i){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(t)){i(null,!1);return}var s=Bd("where "+r,function(a){a!==null?i(null,!1):i(null,!0)})},QS=function(t,r){if(YS(t))try{var i=qd("command -v "+r+" 2>/dev/null && { echo >&1 "+r+"; exit 0; }");return!!i}catch{return!1}return JS(t)},ex=function(t,r,i){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(t))return!1;try{var s=qd("where "+r,{stdio:[]});return!!s}catch{return!1}},Qa=function(t){return/[^A-Za-z0-9_\/:=-]/.test(t)&&(t="'"+t.replace(/'/g,"'\\''")+"'",t=t.replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),t};Za&&(Qa=function(t){var r=/[\\]/.test(t);if(r){var i='"'+Ud.dirname(t)+'"',s='"'+Ud.basename(t)+'"';return i+":"+s}return'"'+t+'"'});eu.exports=function t(r,i){var s=Qa(r);if(!i&&typeof Promise!="undefined")return new Promise(function(a,f){t(r,function(l,g){g?a(r):f(l)})});Za?ZS(r,s,i):XS(r,s,i)};eu.exports.sync=function(t){var r=Qa(t);return Za?ex(t,r):QS(t,r)}});var tu=U((BT,Hd)=>{Hd.exports=jd()});var Os=U((qT,zd)=>{zd.exports={maximumLinesUp:30,canReWrite:!0,stdinAutoBind:!1}});var ru=U((UT,Kd)=>{var yn=Kd.exports={},As=yn.ESC="";yn.save=function(){return"7"};yn.restore=function(){return"8"};yn.up=function(r){return r=typeof r=="number"?r:1,r>0?As+"["+r+"A":""};yn.down=function(r){return r=typeof r=="number"?r:1,r>0?As+"["+r+"B":""};yn.clearLine=function(){return As+"[2K"+As+"[1G"}});var nu=U((GT,Vd)=>{"use strict";var WT=require("util"),Yd=Os(),$s=ru();Vd.exports=wn;function wn(t,r){this._stream=t._stdout,this._styleFn=t[r],this.valid=!0,this.saveLine()}wn.prototype.update=function(){var r=this.linesUp();if(this.isOffScreen())if(Yd.canReWrite)this.saveLine(-1);else{this.valid=!1;return}this._stream.stopLineCount(),this._stream.write($s.save()),this._stream.write($s.up(r)),this._stream.write($s.clearLine()),this.write.apply(this,arguments),this._stream.write($s.restore()),this._stream.resumeLineCount()};wn.prototype.isOffScreen=function(){var r=this._stream.rows()||Yd.maximumLinesUp;return this._stream.rows()<=this.linesUp()};wn.prototype.linesUp=function(){return this._stream.line()-this._line};wn.prototype.write=function(){this.valid&&this._styleFn.apply(this._styleFn,arguments)};wn.prototype.saveLine=function(r){r=r||0,this._line=this._stream.line()+r}});var iu=U((jT,Xd)=>{"use strict";var tx=require("util"),rx=require("stream"),Jd=rx.PassThrough;Xd.exports=nt;function nt(t){if(t instanceof nt)return t;if(!(this instanceof nt))return new nt(t);Jd.call(this),this._outStream=t,this._line=1,this._logs=0,this._editing=!1,t&&this.pipe(t)}tx.inherits(nt,Jd);nt.prototype.line=function(){return this._line};nt.prototype.logs=function(){return this._logs};nt.prototype.write=function(r){this._editing||this.countLines(r),this.push(r)};nt.prototype.addLineListener=function(r){r.on("data",this.countLines.bind(this))};nt.prototype.countLines=function(r){var i=r.toString().split(`
`).length-1;this._logs++,this._line+=i||0};nt.prototype.stopLineCount=function(){this._editing=!0};nt.prototype.resumeLineCount=function(){this._editing=!1};nt.prototype.rows=function(){return this._outStream.rows};nt.prototype.columns=function(){return this._outStream.columns}});var Qd=U((HT,Zd)=>{"use strict";var nx=Os(),ix=nu(),sx=iu();Zd.exports=function(r,i){var s=i===!0;if(s){r.draft=function(){return r.log.apply(null,arguments),r.log.bind(r)};return}var a=sx(r._stdout);return r._stdout=a,nx.stdinAutoBind&&a.addLineListener(process.stdin),r.draft=r.draft||function(){var l=new ix(r,"log");return l.write.apply(l,arguments),l.update.bind(l)},a}});var tg=U((zT,eg)=>{"use strict";var qr=Qd();qr.into=qr;qr.defaults=Os();qr.CSIHelper=ru();qr.LogDraft=nu();qr.LineCountStream=iu();eg.exports=qr});var ng=U((KT,rg)=>{rg.exports=tg()});var cg=U(uu=>{var Wr=require("path"),yr=process.platform==="win32",wr=require("fs"),gx=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function px(){var t;if(gx){var r=new Error;t=i}else t=s;return t;function i(a){a&&(r.message=a.message,a=r,s(a))}function s(a){if(a){if(process.throwDeprecation)throw a;if(!process.noDeprecation){var f="fs: missing callback "+(a.stack||a.message);process.traceDeprecation?console.trace(f):console.error(f)}}}}function mx(t){return typeof t=="function"?t:px()}var cO=Wr.normalize;yr?rr=/(.*?)(?:[\/\\]+|$)/g:rr=/(.*?)(?:[\/]+|$)/g;var rr;yr?di=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:di=/^[\/]*/;var di;uu.realpathSync=function(r,i){if(r=Wr.resolve(r),i&&Object.prototype.hasOwnProperty.call(i,r))return i[r];var s=r,a={},f={},l,g,p,v;y();function y(){var k=di.exec(r);l=k[0].length,g=k[0],p=k[0],v="",yr&&!f[p]&&(wr.lstatSync(p),f[p]=!0)}for(;l<r.length;){rr.lastIndex=l;var E=rr.exec(r);if(v=g,g+=E[0],p=v+E[1],l=rr.lastIndex,!(f[p]||i&&i[p]===p)){var S;if(i&&Object.prototype.hasOwnProperty.call(i,p))S=i[p];else{var C=wr.lstatSync(p);if(!C.isSymbolicLink()){f[p]=!0,i&&(i[p]=p);continue}var O=null;if(!yr){var L=C.dev.toString(32)+":"+C.ino.toString(32);a.hasOwnProperty(L)&&(O=a[L])}O===null&&(wr.statSync(p),O=wr.readlinkSync(p)),S=Wr.resolve(v,O),i&&(i[p]=S),yr||(a[L]=O)}r=Wr.resolve(S,r.slice(l)),y()}}return i&&(i[s]=r),r};uu.realpath=function(r,i,s){if(typeof s!="function"&&(s=mx(i),i=null),r=Wr.resolve(r),i&&Object.prototype.hasOwnProperty.call(i,r))return process.nextTick(s.bind(null,null,i[r]));var a=r,f={},l={},g,p,v,y;E();function E(){var k=di.exec(r);g=k[0].length,p=k[0],v=k[0],y="",yr&&!l[v]?wr.lstat(v,function(D){if(D)return s(D);l[v]=!0,S()}):process.nextTick(S)}function S(){if(g>=r.length)return i&&(i[a]=r),s(null,r);rr.lastIndex=g;var k=rr.exec(r);return y=p,p+=k[0],v=y+k[1],g=rr.lastIndex,l[v]||i&&i[v]===v?process.nextTick(S):i&&Object.prototype.hasOwnProperty.call(i,v)?L(i[v]):wr.lstat(v,C)}function C(k,D){if(k)return s(k);if(!D.isSymbolicLink())return l[v]=!0,i&&(i[v]=v),process.nextTick(S);if(!yr){var N=D.dev.toString(32)+":"+D.ino.toString(32);if(f.hasOwnProperty(N))return O(null,f[N],v)}wr.stat(v,function(M){if(M)return s(M);wr.readlink(v,function(W,V){yr||(f[N]=V),O(W,V)})})}function O(k,D,N){if(k)return s(k);var M=Wr.resolve(y,D);i&&(i[N]=M),L(M)}function L(k){r=Wr.resolve(k,r.slice(g)),E()}}});var hu=U((hO,gg)=>{gg.exports=br;br.realpath=br;br.sync=lu;br.realpathSync=lu;br.monkeypatch=_x;br.unmonkeypatch=yx;var Sn=require("fs"),fu=Sn.realpath,cu=Sn.realpathSync,vx=process.version,lg=/^v[0-5]\./.test(vx),hg=cg();function dg(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function br(t,r,i){if(lg)return fu(t,r,i);typeof r=="function"&&(i=r,r=null),fu(t,r,function(s,a){dg(s)?hg.realpath(t,r,i):i(s,a)})}function lu(t,r){if(lg)return cu(t,r);try{return cu(t,r)}catch(i){if(dg(i))return hg.realpathSync(t,r);throw i}}function _x(){Sn.realpath=br,Sn.realpathSync=lu}function yx(){Sn.realpath=fu,Sn.realpathSync=cu}});var mg=U((dO,pg)=>{pg.exports=function(t,r){for(var i=[],s=0;s<t.length;s++){var a=r(t[s],s);wx(a)?i.push.apply(i,a):i.push(a)}return i};var wx=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var bg=U((gO,wg)=>{"use strict";wg.exports=vg;function vg(t,r,i){t instanceof RegExp&&(t=_g(t,i)),r instanceof RegExp&&(r=_g(r,i));var s=yg(t,r,i);return s&&{start:s[0],end:s[1],pre:i.slice(0,s[0]),body:i.slice(s[0]+t.length,s[1]),post:i.slice(s[1]+r.length)}}function _g(t,r){var i=r.match(t);return i?i[0]:null}vg.range=yg;function yg(t,r,i){var s,a,f,l,g,p=i.indexOf(t),v=i.indexOf(r,p+1),y=p;if(p>=0&&v>0){if(t===r)return[p,v];for(s=[],f=i.length;y>=0&&!g;)y==p?(s.push(y),p=i.indexOf(t,y+1)):s.length==1?g=[s.pop(),v]:(a=s.pop(),a<f&&(f=a,l=v),v=i.indexOf(r,y+1)),y=p<v&&p>=0?p:v;s.length&&(g=[f,l])}return g}});var $g=U((pO,Ag)=>{var bx=mg(),Eg=bg();Ag.exports=xx;var Sg="\0SLASH"+Math.random()+"\0",xg="\0OPEN"+Math.random()+"\0",du="\0CLOSE"+Math.random()+"\0",Cg="\0COMMA"+Math.random()+"\0",Tg="\0PERIOD"+Math.random()+"\0";function gu(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Ex(t){return t.split("\\\\").join(Sg).split("\\{").join(xg).split("\\}").join(du).split("\\,").join(Cg).split("\\.").join(Tg)}function Sx(t){return t.split(Sg).join("\\").split(xg).join("{").split(du).join("}").split(Cg).join(",").split(Tg).join(".")}function Og(t){if(!t)return[""];var r=[],i=Eg("{","}",t);if(!i)return t.split(",");var s=i.pre,a=i.body,f=i.post,l=s.split(",");l[l.length-1]+="{"+a+"}";var g=Og(f);return f.length&&(l[l.length-1]+=g.shift(),l.push.apply(l,g)),r.push.apply(r,l),r}function xx(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),xn(Ex(t),!0).map(Sx)):[]}function Cx(t){return"{"+t+"}"}function Tx(t){return/^-?0\d/.test(t)}function Ox(t,r){return t<=r}function Ax(t,r){return t>=r}function xn(t,r){var i=[],s=Eg("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),l=a||f,g=s.body.indexOf(",")>=0;if(!l&&!g)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+du+s.post,xn(t)):[t];var p;if(l)p=s.body.split(/\.\./);else if(p=Og(s.body),p.length===1&&(p=xn(p[0],!1).map(Cx),p.length===1)){var y=s.post.length?xn(s.post,!1):[""];return y.map(function(gt){return s.pre+p[0]+gt})}var v=s.pre,y=s.post.length?xn(s.post,!1):[""],E;if(l){var S=gu(p[0]),C=gu(p[1]),O=Math.max(p[0].length,p[1].length),L=p.length==3?Math.abs(gu(p[2])):1,k=Ox,D=C<S;D&&(L*=-1,k=Ax);var N=p.some(Tx);E=[];for(var M=S;k(M,C);M+=L){var W;if(f)W=String.fromCharCode(M),W==="\\"&&(W="");else if(W=String(M),N){var V=O-W.length;if(V>0){var oe=new Array(V+1).join("0");M<0?W="-"+oe+W.slice(1):W=oe+W}}E.push(W)}}else E=bx(p,function(dt){return xn(dt,!1)});for(var ue=0;ue<E.length;ue++)for(var be=0;be<y.length;be++){var re=v+E[ue]+y[be];(!r||l||re)&&i.push(re)}return i}});var Ls=U((mO,Pg)=>{Pg.exports=Ct;Ct.Minimatch=Me;var gi={sep:"/"};try{gi=require("path")}catch{}var pu=Ct.GLOBSTAR=Me.GLOBSTAR={},$x=$g(),kg={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},mu="[^/]",vu=mu+"*?",kx="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Ix="(?:(?!(?:\\/|^)\\.).)*?",Ig=Lx("().*{}+?[]^$\\!");function Lx(t){return t.split("").reduce(function(r,i){return r[i]=!0,r},{})}var Lg=/\/+/;Ct.filter=Rx;function Rx(t,r){return r=r||{},function(i,s,a){return Ct(i,t,r)}}function Rg(t,r){t=t||{},r=r||{};var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),Object.keys(t).forEach(function(s){i[s]=t[s]}),i}Ct.defaults=function(t){if(!t||!Object.keys(t).length)return Ct;var r=Ct,i=function(a,f,l){return r.minimatch(a,f,Rg(t,l))};return i.Minimatch=function(a,f){return new r.Minimatch(a,Rg(t,f))},i};Me.defaults=function(t){return!t||!Object.keys(t).length?Me:Ct.defaults(t).Minimatch};function Ct(t,r,i){if(typeof r!="string")throw new TypeError("glob pattern string required");return i||(i={}),!i.nocomment&&r.charAt(0)==="#"?!1:r.trim()===""?t==="":new Me(r,i).match(t)}function Me(t,r){if(!(this instanceof Me))return new Me(t,r);if(typeof t!="string")throw new TypeError("glob pattern string required");r||(r={}),t=t.trim(),gi.sep!=="/"&&(t=t.split(gi.sep).join("/")),this.options=r,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}Me.prototype.debug=function(){};Me.prototype.make=Fx;function Fx(){if(!this._made){var t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var i=this.globSet=this.braceExpand();r.debug&&(this.debug=console.error),this.debug(this.pattern,i),i=this.globParts=i.map(function(s){return s.split(Lg)}),this.debug(this.pattern,i),i=i.map(function(s,a,f){return s.map(this.parse,this)},this),this.debug(this.pattern,i),i=i.filter(function(s){return s.indexOf(!1)===-1}),this.debug(this.pattern,i),this.set=i}}Me.prototype.parseNegate=Px;function Px(){var t=this.pattern,r=!1,i=this.options,s=0;if(!i.nonegate){for(var a=0,f=t.length;a<f&&t.charAt(a)==="!";a++)r=!r,s++;s&&(this.pattern=t.substr(s)),this.negate=r}}Ct.braceExpand=function(t,r){return Fg(t,r)};Me.prototype.braceExpand=Fg;function Fg(t,r){if(r||(this instanceof Me?r=this.options:r={}),t=typeof t=="undefined"?this.pattern:t,typeof t=="undefined")throw new TypeError("undefined pattern");return r.nobrace||!t.match(/\{.*\}/)?[t]:$x(t)}Me.prototype.parse=Dx;var Is={};function Dx(t,r){if(t.length>1024*64)throw new TypeError("pattern is too long");var i=this.options;if(!i.noglobstar&&t==="**")return pu;if(t==="")return"";var s="",a=!!i.nocase,f=!1,l=[],g=[],p,v=!1,y=-1,E=-1,S=t.charAt(0)==="."?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",C=this;function O(){if(p){switch(p){case"*":s+=vu,a=!0;break;case"?":s+=mu,a=!0;break;default:s+="\\"+p;break}C.debug("clearStateChar %j %j",p,s),p=!1}}for(var L=0,k=t.length,D;L<k&&(D=t.charAt(L));L++){if(this.debug("%s	%s %s %j",t,L,s,D),f&&Ig[D]){s+="\\"+D,f=!1;continue}switch(D){case"/":return!1;case"\\":O(),f=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,L,s,D),v){this.debug("  in class"),D==="!"&&L===E+1&&(D="^"),s+=D;continue}C.debug("call clearStateChar %j",p),O(),p=D,i.noext&&O();continue;case"(":if(v){s+="(";continue}if(!p){s+="\\(";continue}l.push({type:p,start:L-1,reStart:s.length,open:kg[p].open,close:kg[p].close}),s+=p==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",p,s),p=!1;continue;case")":if(v||!l.length){s+="\\)";continue}O(),a=!0;var N=l.pop();s+=N.close,N.type==="!"&&g.push(N),N.reEnd=s.length;continue;case"|":if(v||!l.length||f){s+="\\|",f=!1;continue}O(),s+="|";continue;case"[":if(O(),v){s+="\\"+D;continue}v=!0,E=L,y=s.length,s+=D;continue;case"]":if(L===E+1||!v){s+="\\"+D,f=!1;continue}if(v){var M=t.substring(E+1,L);try{RegExp("["+M+"]")}catch{var W=this.parse(M,Is);s=s.substr(0,y)+"\\["+W[0]+"\\]",a=a||W[1],v=!1;continue}}a=!0,v=!1,s+=D;continue;default:O(),f?f=!1:Ig[D]&&!(D==="^"&&v)&&(s+="\\"),s+=D}}for(v&&(M=t.substr(E+1),W=this.parse(M,Is),s=s.substr(0,y)+"\\["+W[0],a=a||W[1]),N=l.pop();N;N=l.pop()){var V=s.slice(N.reStart+N.open.length);this.debug("setting tail",s,N),V=V.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(H,j,ye){return ye||(ye="\\"),j+j+ye+"|"}),this.debug(`tail=%j
   %s`,V,V,N,s);var oe=N.type==="*"?vu:N.type==="?"?mu:"\\"+N.type;a=!0,s=s.slice(0,N.reStart)+oe+"\\("+V}O(),f&&(s+="\\\\");var ue=!1;switch(s.charAt(0)){case".":case"[":case"(":ue=!0}for(var be=g.length-1;be>-1;be--){var re=g[be],dt=s.slice(0,re.reStart),gt=s.slice(re.reStart,re.reEnd-8),Tt=s.slice(re.reEnd-8,re.reEnd),ve=s.slice(re.reEnd);Tt+=ve;var Pt=dt.split("(").length-1,Ge=ve;for(L=0;L<Pt;L++)Ge=Ge.replace(/\)[+*?]?/,"");ve=Ge;var ae="";ve===""&&r!==Is&&(ae="$");var R=dt+gt+ve+ae+Tt;s=R}if(s!==""&&a&&(s="(?=.)"+s),ue&&(s=S+s),r===Is)return[s,a];if(!a)return Bx(t);var I=i.nocase?"i":"";try{var P=new RegExp("^"+s+"$",I)}catch{return new RegExp("$.")}return P._glob=t,P._src=s,P}Ct.makeRe=function(t,r){return new Me(t,r||{}).makeRe()};Me.prototype.makeRe=Nx;function Nx(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var r=this.options,i=r.noglobstar?vu:r.dot?kx:Ix,s=r.nocase?"i":"",a=t.map(function(f){return f.map(function(l){return l===pu?i:typeof l=="string"?qx(l):l._src}).join("\\/")}).join("|");a="^(?:"+a+")$",this.negate&&(a="^(?!"+a+").*$");try{this.regexp=new RegExp(a,s)}catch{this.regexp=!1}return this.regexp}Ct.match=function(t,r,i){i=i||{};var s=new Me(r,i);return t=t.filter(function(a){return s.match(a)}),s.options.nonull&&!t.length&&t.push(r),t};Me.prototype.match=Mx;function Mx(t,r){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;var i=this.options;gi.sep!=="/"&&(t=t.split(gi.sep).join("/")),t=t.split(Lg),this.debug(this.pattern,"split",t);var s=this.set;this.debug(this.pattern,"set",s);var a,f;for(f=t.length-1;f>=0&&(a=t[f],!a);f--);for(f=0;f<s.length;f++){var l=s[f],g=t;i.matchBase&&l.length===1&&(g=[a]);var p=this.matchOne(g,l,r);if(p)return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}Me.prototype.matchOne=function(t,r,i){var s=this.options;this.debug("matchOne",{this:this,file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,f=0,l=t.length,g=r.length;a<l&&f<g;a++,f++){this.debug("matchOne loop");var p=r[f],v=t[a];if(this.debug(r,p,v),p===!1)return!1;if(p===pu){this.debug("GLOBSTAR",[r,p,v]);var y=a,E=f+1;if(E===g){for(this.debug("** at the end");a<l;a++)if(t[a]==="."||t[a]===".."||!s.dot&&t[a].charAt(0)===".")return!1;return!0}for(;y<l;){var S=t[y];if(this.debug(`
globstar while`,t,y,r,E,S),this.matchOne(t.slice(y),r.slice(E),i))return this.debug("globstar found match!",y,l,S),!0;if(S==="."||S===".."||!s.dot&&S.charAt(0)==="."){this.debug("dot detected!",t,y,r,E);break}this.debug("globstar swallow a segment, and continue"),y++}return!!(i&&(this.debug(`
>>> no match, partial?`,t,y,r,E),y===l))}var C;if(typeof p=="string"?(s.nocase?C=v.toLowerCase()===p.toLowerCase():C=v===p,this.debug("string match",p,v,C)):(C=v.match(p),this.debug("pattern match",p,v,C)),!C)return!1}if(a===l&&f===g)return!0;if(a===l)return i;if(f===g){var O=a===l-1&&t[a]==="";return O}throw new Error("wtf?")};function Bx(t){return t.replace(/\\(.)/g,"$1")}function qx(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Dg=U((vO,_u)=>{typeof Object.create=="function"?_u.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:_u.exports=function(r,i){if(i){r.super_=i;var s=function(){};s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}}});var Ng=U((_O,wu)=>{try{if(yu=require("util"),typeof yu.inherits!="function")throw"";wu.exports=yu.inherits}catch{wu.exports=Dg()}var yu});var Fs=U((yO,Rs)=>{"use strict";function Mg(t){return t.charAt(0)==="/"}function Bg(t){var r=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,i=r.exec(t),s=i[1]||"",a=Boolean(s&&s.charAt(1)!==":");return Boolean(i[2]||a)}Rs.exports=process.platform==="win32"?Bg:Mg;Rs.exports.posix=Mg;Rs.exports.win32=Bg});var Eu=U(Er=>{Er.setopts=zx;Er.ownProp=qg;Er.makeAbs=pi;Er.finish=Kx;Er.mark=Yx;Er.isIgnored=Wg;Er.childrenIgnored=Vx;function qg(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var Ux=require("fs"),Cn=require("path"),Wx=Ls(),Ug=Fs(),bu=Wx.Minimatch;function Gx(t,r){return t.localeCompare(r,"en")}function jx(t,r){t.ignore=r.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Hx))}function Hx(t){var r=null;if(t.slice(-3)==="/**"){var i=t.replace(/(\/\*\*)+$/,"");r=new bu(i,{dot:!0})}return{matcher:new bu(t,{dot:!0}),gmatcher:r}}function zx(t,r,i){if(i||(i={}),i.matchBase&&r.indexOf("/")===-1){if(i.noglobstar)throw new Error("base matching requires globstar");r="**/"+r}t.silent=!!i.silent,t.pattern=r,t.strict=i.strict!==!1,t.realpath=!!i.realpath,t.realpathCache=i.realpathCache||Object.create(null),t.follow=!!i.follow,t.dot=!!i.dot,t.mark=!!i.mark,t.nodir=!!i.nodir,t.nodir&&(t.mark=!0),t.sync=!!i.sync,t.nounique=!!i.nounique,t.nonull=!!i.nonull,t.nosort=!!i.nosort,t.nocase=!!i.nocase,t.stat=!!i.stat,t.noprocess=!!i.noprocess,t.absolute=!!i.absolute,t.fs=i.fs||Ux,t.maxLength=i.maxLength||1/0,t.cache=i.cache||Object.create(null),t.statCache=i.statCache||Object.create(null),t.symlinks=i.symlinks||Object.create(null),jx(t,i),t.changedCwd=!1;var s=process.cwd();qg(i,"cwd")?(t.cwd=Cn.resolve(i.cwd),t.changedCwd=t.cwd!==s):t.cwd=s,t.root=i.root||Cn.resolve(t.cwd,"/"),t.root=Cn.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=Ug(t.cwd)?t.cwd:pi(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!i.nomount,i.nonegate=!0,i.nocomment=!0,t.minimatch=new bu(r,i),t.options=t.minimatch.options}function Kx(t){for(var r=t.nounique,i=r?[]:Object.create(null),s=0,a=t.matches.length;s<a;s++){var f=t.matches[s];if(!f||Object.keys(f).length===0){if(t.nonull){var l=t.minimatch.globSet[s];r?i.push(l):i[l]=!0}}else{var g=Object.keys(f);r?i.push.apply(i,g):g.forEach(function(p){i[p]=!0})}}if(r||(i=Object.keys(i)),t.nosort||(i=i.sort(Gx)),t.mark){for(var s=0;s<i.length;s++)i[s]=t._mark(i[s]);t.nodir&&(i=i.filter(function(p){var v=!/\/$/.test(p),y=t.cache[p]||t.cache[pi(t,p)];return v&&y&&(v=y!=="DIR"&&!Array.isArray(y)),v}))}t.ignore.length&&(i=i.filter(function(p){return!Wg(t,p)})),t.found=i}function Yx(t,r){var i=pi(t,r),s=t.cache[i],a=r;if(s){var f=s==="DIR"||Array.isArray(s),l=r.slice(-1)==="/";if(f&&!l?a+="/":!f&&l&&(a=a.slice(0,-1)),a!==r){var g=pi(t,a);t.statCache[g]=t.statCache[i],t.cache[g]=t.cache[i]}}return a}function pi(t,r){var i=r;return r.charAt(0)==="/"?i=Cn.join(t.root,r):Ug(r)||r===""?i=r:t.changedCwd?i=Cn.resolve(t.cwd,r):i=Cn.resolve(r),process.platform==="win32"&&(i=i.replace(/\\/g,"/")),i}function Wg(t,r){return t.ignore.length?t.ignore.some(function(i){return i.matcher.match(r)||!!(i.gmatcher&&i.gmatcher.match(r))}):!1}function Vx(t,r){return t.ignore.length?t.ignore.some(function(i){return!!(i.gmatcher&&i.gmatcher.match(r))}):!1}});var Kg=U((xO,zg)=>{zg.exports=Hg;Hg.GlobSync=Re;var Jx=hu(),Gg=Ls(),bO=Gg.Minimatch,EO=Cu().Glob,SO=require("util"),Su=require("path"),jg=require("assert"),Ps=Fs(),Gr=Eu(),Xx=Gr.setopts,xu=Gr.ownProp,Zx=Gr.childrenIgnored,Qx=Gr.isIgnored;function Hg(t,r){if(typeof r=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Re(t,r).found}function Re(t,r){if(!t)throw new Error("must provide pattern");if(typeof r=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Re))return new Re(t,r);if(Xx(this,t,r),this.noprocess)return this;var i=this.minimatch.set.length;this.matches=new Array(i);for(var s=0;s<i;s++)this._process(this.minimatch.set[s],s,!1);this._finish()}Re.prototype._finish=function(){if(jg(this instanceof Re),this.realpath){var t=this;this.matches.forEach(function(r,i){var s=t.matches[i]=Object.create(null);for(var a in r)try{a=t._makeAbs(a);var f=Jx.realpathSync(a,t.realpathCache);s[f]=!0}catch(l){if(l.syscall==="stat")s[t._makeAbs(a)]=!0;else throw l}})}Gr.finish(this)};Re.prototype._process=function(t,r,i){jg(this instanceof Re);for(var s=0;typeof t[s]=="string";)s++;var a;switch(s){case t.length:this._processSimple(t.join("/"),r);return;case 0:a=null;break;default:a=t.slice(0,s).join("/");break}var f=t.slice(s),l;a===null?l=".":((Ps(a)||Ps(t.join("/")))&&(!a||!Ps(a))&&(a="/"+a),l=a);var g=this._makeAbs(l);if(!Zx(this,l)){var p=f[0]===Gg.GLOBSTAR;p?this._processGlobStar(a,l,g,f,r,i):this._processReaddir(a,l,g,f,r,i)}};Re.prototype._processReaddir=function(t,r,i,s,a,f){var l=this._readdir(i,f);if(!!l){for(var g=s[0],p=!!this.minimatch.negate,v=g._glob,y=this.dot||v.charAt(0)===".",E=[],S=0;S<l.length;S++){var C=l[S];if(C.charAt(0)!=="."||y){var O;p&&!t?O=!C.match(g):O=C.match(g),O&&E.push(C)}}var L=E.length;if(L!==0){if(s.length===1&&!this.mark&&!this.stat){this.matches[a]||(this.matches[a]=Object.create(null));for(var S=0;S<L;S++){var C=E[S];t&&(t.slice(-1)!=="/"?C=t+"/"+C:C=t+C),C.charAt(0)==="/"&&!this.nomount&&(C=Su.join(this.root,C)),this._emitMatch(a,C)}return}s.shift();for(var S=0;S<L;S++){var C=E[S],k;t?k=[t,C]:k=[C],this._process(k.concat(s),a,f)}}}};Re.prototype._emitMatch=function(t,r){if(!Qx(this,r)){var i=this._makeAbs(r);if(this.mark&&(r=this._mark(r)),this.absolute&&(r=i),!this.matches[t][r]){if(this.nodir){var s=this.cache[i];if(s==="DIR"||Array.isArray(s))return}this.matches[t][r]=!0,this.stat&&this._stat(r)}}};Re.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var r,i,s;try{i=this.fs.lstatSync(t)}catch(f){if(f.code==="ENOENT")return null}var a=i&&i.isSymbolicLink();return this.symlinks[t]=a,!a&&i&&!i.isDirectory()?this.cache[t]="FILE":r=this._readdir(t,!1),r};Re.prototype._readdir=function(t,r){var i;if(r&&!xu(this.symlinks,t))return this._readdirInGlobStar(t);if(xu(this.cache,t)){var s=this.cache[t];if(!s||s==="FILE")return null;if(Array.isArray(s))return s}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(a){return this._readdirError(t,a),null}};Re.prototype._readdirEntries=function(t,r){if(!this.mark&&!this.stat)for(var i=0;i<r.length;i++){var s=r[i];t==="/"?s=t+s:s=t+"/"+s,this.cache[s]=!0}return this.cache[t]=r,r};Re.prototype._readdirError=function(t,r){switch(r.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var s=new Error(r.code+" invalid cwd "+this.cwd);throw s.path=this.cwd,s.code=r.code,s}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw r;this.silent||console.error("glob error",r);break}};Re.prototype._processGlobStar=function(t,r,i,s,a,f){var l=this._readdir(i,f);if(!!l){var g=s.slice(1),p=t?[t]:[],v=p.concat(g);this._process(v,a,!1);var y=l.length,E=this.symlinks[i];if(!(E&&f))for(var S=0;S<y;S++){var C=l[S];if(!(C.charAt(0)==="."&&!this.dot)){var O=p.concat(l[S],g);this._process(O,a,!0);var L=p.concat(l[S],s);this._process(L,a,!0)}}}};Re.prototype._processSimple=function(t,r){var i=this._stat(t);if(this.matches[r]||(this.matches[r]=Object.create(null)),!!i){if(t&&Ps(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Su.join(this.root,t):(t=Su.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(r,t)}};Re.prototype._stat=function(t){var r=this._makeAbs(t),i=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&xu(this.cache,r)){var l=this.cache[r];if(Array.isArray(l)&&(l="DIR"),!i||l==="DIR")return l;if(i&&l==="FILE")return!1}var s,a=this.statCache[r];if(!a){var f;try{f=this.fs.lstatSync(r)}catch(g){if(g&&(g.code==="ENOENT"||g.code==="ENOTDIR"))return this.statCache[r]=!1,!1}if(f&&f.isSymbolicLink())try{a=this.fs.statSync(r)}catch{a=f}else a=f}this.statCache[r]=a;var l=!0;return a&&(l=a.isDirectory()?"DIR":"FILE"),this.cache[r]=this.cache[r]||l,i&&l==="FILE"?!1:l};Re.prototype._mark=function(t){return Gr.mark(this,t)};Re.prototype._makeAbs=function(t){return Gr.makeAbs(this,t)}});var Tu=U((CO,Vg)=>{Vg.exports=Yg;function Yg(t,r){if(t&&r)return Yg(t)(r);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(s){i[s]=t[s]}),i;function i(){for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];var f=t.apply(this,s),l=s[s.length-1];return typeof f=="function"&&f!==l&&Object.keys(l).forEach(function(g){f[g]=l[g]}),f}}});var Au=U((TO,Ou)=>{var Jg=Tu();Ou.exports=Jg(Ds);Ou.exports.strict=Jg(Xg);Ds.proto=Ds(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ds(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Xg(this)},configurable:!0})});function Ds(t){var r=function(){return r.called?r.value:(r.called=!0,r.value=t.apply(this,arguments))};return r.called=!1,r}function Xg(t){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=t.apply(this,arguments)},i=t.name||"Function wrapped with `once`";return r.onceError=i+" shouldn't be called more than once",r.called=!1,r}});var Qg=U((OO,Zg)=>{var eC=Tu(),mi=Object.create(null),tC=Au();Zg.exports=eC(rC);function rC(t,r){return mi[t]?(mi[t].push(r),null):(mi[t]=[r],nC(t))}function nC(t){return tC(function r(){var i=mi[t],s=i.length,a=iC(arguments);try{for(var f=0;f<s;f++)i[f].apply(null,a)}finally{i.length>s?(i.splice(0,s),process.nextTick(function(){r.apply(null,a)})):delete mi[t]}})}function iC(t){for(var r=t.length,i=[],s=0;s<r;s++)i[s]=t[s];return i}});var Cu=U((kO,tp)=>{tp.exports=Hr;var sC=hu(),ep=Ls(),AO=ep.Minimatch,oC=Ng(),aC=require("events").EventEmitter,$u=require("path"),ku=require("assert"),vi=Fs(),Iu=Kg(),jr=Eu(),uC=jr.setopts,Lu=jr.ownProp,Ru=Qg(),$O=require("util"),fC=jr.childrenIgnored,cC=jr.isIgnored,lC=Au();function Hr(t,r,i){if(typeof r=="function"&&(i=r,r={}),r||(r={}),r.sync){if(i)throw new TypeError("callback provided to sync glob");return Iu(t,r)}return new he(t,r,i)}Hr.sync=Iu;var hC=Hr.GlobSync=Iu.GlobSync;Hr.glob=Hr;function dC(t,r){if(r===null||typeof r!="object")return t;for(var i=Object.keys(r),s=i.length;s--;)t[i[s]]=r[i[s]];return t}Hr.hasMagic=function(t,r){var i=dC({},r);i.noprocess=!0;var s=new he(t,i),a=s.minimatch.set;if(!t)return!1;if(a.length>1)return!0;for(var f=0;f<a[0].length;f++)if(typeof a[0][f]!="string")return!0;return!1};Hr.Glob=he;oC(he,aC);function he(t,r,i){if(typeof r=="function"&&(i=r,r=null),r&&r.sync){if(i)throw new TypeError("callback provided to sync glob");return new hC(t,r)}if(!(this instanceof he))return new he(t,r,i);uC(this,t,r),this._didRealPath=!1;var s=this.minimatch.set.length;this.matches=new Array(s),typeof i=="function"&&(i=lC(i),this.on("error",i),this.on("end",function(p){i(null,p)}));var a=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(s===0)return g();for(var f=!0,l=0;l<s;l++)this._process(this.minimatch.set[l],l,!1,g);f=!1;function g(){--a._processing,a._processing<=0&&(f?process.nextTick(function(){a._finish()}):a._finish())}}he.prototype._finish=function(){if(ku(this instanceof he),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();jr.finish(this),this.emit("end",this.found)}};he.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var r=this,i=0;i<this.matches.length;i++)this._realpathSet(i,s);function s(){--t==0&&r._finish()}};he.prototype._realpathSet=function(t,r){var i=this.matches[t];if(!i)return r();var s=Object.keys(i),a=this,f=s.length;if(f===0)return r();var l=this.matches[t]=Object.create(null);s.forEach(function(g,p){g=a._makeAbs(g),sC.realpath(g,a.realpathCache,function(v,y){v?v.syscall==="stat"?l[g]=!0:a.emit("error",v):l[y]=!0,--f==0&&(a.matches[t]=l,r())})})};he.prototype._mark=function(t){return jr.mark(this,t)};he.prototype._makeAbs=function(t){return jr.makeAbs(this,t)};he.prototype.abort=function(){this.aborted=!0,this.emit("abort")};he.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};he.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var r=0;r<t.length;r++){var i=t[r];this._emitMatch(i[0],i[1])}}if(this._processQueue.length){var s=this._processQueue.slice(0);this._processQueue.length=0;for(var r=0;r<s.length;r++){var a=s[r];this._processing--,this._process(a[0],a[1],a[2],a[3])}}}};he.prototype._process=function(t,r,i,s){if(ku(this instanceof he),ku(typeof s=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,r,i,s]);return}for(var a=0;typeof t[a]=="string";)a++;var f;switch(a){case t.length:this._processSimple(t.join("/"),r,s);return;case 0:f=null;break;default:f=t.slice(0,a).join("/");break}var l=t.slice(a),g;f===null?g=".":((vi(f)||vi(t.join("/")))&&(!f||!vi(f))&&(f="/"+f),g=f);var p=this._makeAbs(g);if(fC(this,g))return s();var v=l[0]===ep.GLOBSTAR;v?this._processGlobStar(f,g,p,l,r,i,s):this._processReaddir(f,g,p,l,r,i,s)}};he.prototype._processReaddir=function(t,r,i,s,a,f,l){var g=this;this._readdir(i,f,function(p,v){return g._processReaddir2(t,r,i,s,a,f,v,l)})};he.prototype._processReaddir2=function(t,r,i,s,a,f,l,g){if(!l)return g();for(var p=s[0],v=!!this.minimatch.negate,y=p._glob,E=this.dot||y.charAt(0)===".",S=[],C=0;C<l.length;C++){var O=l[C];if(O.charAt(0)!=="."||E){var L;v&&!t?L=!O.match(p):L=O.match(p),L&&S.push(O)}}var k=S.length;if(k===0)return g();if(s.length===1&&!this.mark&&!this.stat){this.matches[a]||(this.matches[a]=Object.create(null));for(var C=0;C<k;C++){var O=S[C];t&&(t!=="/"?O=t+"/"+O:O=t+O),O.charAt(0)==="/"&&!this.nomount&&(O=$u.join(this.root,O)),this._emitMatch(a,O)}return g()}s.shift();for(var C=0;C<k;C++){var O=S[C],D;t&&(t!=="/"?O=t+"/"+O:O=t+O),this._process([O].concat(s),a,f,g)}g()};he.prototype._emitMatch=function(t,r){if(!this.aborted&&!cC(this,r)){if(this.paused){this._emitQueue.push([t,r]);return}var i=vi(r)?r:this._makeAbs(r);if(this.mark&&(r=this._mark(r)),this.absolute&&(r=i),!this.matches[t][r]){if(this.nodir){var s=this.cache[i];if(s==="DIR"||Array.isArray(s))return}this.matches[t][r]=!0;var a=this.statCache[i];a&&this.emit("stat",r,a),this.emit("match",r)}}};he.prototype._readdirInGlobStar=function(t,r){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,r);var i="lstat\0"+t,s=this,a=Ru(i,f);a&&s.fs.lstat(t,a);function f(l,g){if(l&&l.code==="ENOENT")return r();var p=g&&g.isSymbolicLink();s.symlinks[t]=p,!p&&g&&!g.isDirectory()?(s.cache[t]="FILE",r()):s._readdir(t,!1,r)}};he.prototype._readdir=function(t,r,i){if(!this.aborted&&(i=Ru("readdir\0"+t+"\0"+r,i),!!i)){if(r&&!Lu(this.symlinks,t))return this._readdirInGlobStar(t,i);if(Lu(this.cache,t)){var s=this.cache[t];if(!s||s==="FILE")return i();if(Array.isArray(s))return i(null,s)}var a=this;a.fs.readdir(t,gC(this,t,i))}};function gC(t,r,i){return function(s,a){s?t._readdirError(r,s,i):t._readdirEntries(r,a,i)}}he.prototype._readdirEntries=function(t,r,i){if(!this.aborted){if(!this.mark&&!this.stat)for(var s=0;s<r.length;s++){var a=r[s];t==="/"?a=t+a:a=t+"/"+a,this.cache[a]=!0}return this.cache[t]=r,i(null,r)}};he.prototype._readdirError=function(t,r,i){if(!this.aborted){switch(r.code){case"ENOTSUP":case"ENOTDIR":var s=this._makeAbs(t);if(this.cache[s]="FILE",s===this.cwdAbs){var a=new Error(r.code+" invalid cwd "+this.cwd);a.path=this.cwd,a.code=r.code,this.emit("error",a),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",r),this.abort()),this.silent||console.error("glob error",r);break}return i()}};he.prototype._processGlobStar=function(t,r,i,s,a,f,l){var g=this;this._readdir(i,f,function(p,v){g._processGlobStar2(t,r,i,s,a,f,v,l)})};he.prototype._processGlobStar2=function(t,r,i,s,a,f,l,g){if(!l)return g();var p=s.slice(1),v=t?[t]:[],y=v.concat(p);this._process(y,a,!1,g);var E=this.symlinks[i],S=l.length;if(E&&f)return g();for(var C=0;C<S;C++){var O=l[C];if(!(O.charAt(0)==="."&&!this.dot)){var L=v.concat(l[C],p);this._process(L,a,!0,g);var k=v.concat(l[C],s);this._process(k,a,!0,g)}}g()};he.prototype._processSimple=function(t,r,i){var s=this;this._stat(t,function(a,f){s._processSimple2(t,r,a,f,i)})};he.prototype._processSimple2=function(t,r,i,s,a){if(this.matches[r]||(this.matches[r]=Object.create(null)),!s)return a();if(t&&vi(t)&&!this.nomount){var f=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=$u.join(this.root,t):(t=$u.resolve(this.root,t),f&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(r,t),a()};he.prototype._stat=function(t,r){var i=this._makeAbs(t),s=t.slice(-1)==="/";if(t.length>this.maxLength)return r();if(!this.stat&&Lu(this.cache,i)){var a=this.cache[i];if(Array.isArray(a)&&(a="DIR"),!s||a==="DIR")return r(null,a);if(s&&a==="FILE")return r()}var f,l=this.statCache[i];if(l!==void 0){if(l===!1)return r(null,l);var g=l.isDirectory()?"DIR":"FILE";return s&&g==="FILE"?r():r(null,g,l)}var p=this,v=Ru("stat\0"+i,y);v&&p.fs.lstat(i,v);function y(E,S){if(S&&S.isSymbolicLink())return p.fs.stat(i,function(C,O){C?p._stat2(t,i,null,S,r):p._stat2(t,i,C,O,r)});p._stat2(t,i,E,S,r)}};he.prototype._stat2=function(t,r,i,s,a){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return this.statCache[r]=!1,a();var f=t.slice(-1)==="/";if(this.statCache[r]=s,r.slice(-1)==="/"&&s&&!s.isDirectory())return a(null,!1,s);var l=!0;return s&&(l=s.isDirectory()?"DIR":"FILE"),this.cache[r]=this.cache[r]||l,f&&l==="FILE"?a():a(null,l,s)}});var fp=U((IO,up)=>{var me=require("assert"),rp=require("path"),np=require("fs"),Tn;try{Tn=Cu()}catch{}var pC={nosort:!0,silent:!0},Fu=0,_i=process.platform==="win32",ip=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(i=>{t[i]=t[i]||np[i],i=i+"Sync",t[i]=t[i]||np[i]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&Tn===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||pC},Pu=(t,r,i)=>{typeof r=="function"&&(i=r,r={}),me(t,"rimraf: missing path"),me.equal(typeof t,"string","rimraf: path should be a string"),me.equal(typeof i,"function","rimraf: callback function required"),me(r,"rimraf: invalid options argument provided"),me.equal(typeof r,"object","rimraf: options should be object"),ip(r);let s=0,a=null,f=0,l=p=>{a=a||p,--f==0&&i(a)},g=(p,v)=>{if(p)return i(p);if(f=v.length,f===0)return i();v.forEach(y=>{let E=S=>{if(S){if((S.code==="EBUSY"||S.code==="ENOTEMPTY"||S.code==="EPERM")&&s<r.maxBusyTries)return s++,setTimeout(()=>Du(y,r,E),s*100);if(S.code==="EMFILE"&&Fu<r.emfileWait)return setTimeout(()=>Du(y,r,E),Fu++);S.code==="ENOENT"&&(S=null)}Fu=0,l(S)};Du(y,r,E)})};if(r.disableGlob||!Tn.hasMagic(t))return g(null,[t]);r.lstat(t,(p,v)=>{if(!p)return g(null,[t]);Tn(t,r.glob,g)})},Du=(t,r,i)=>{me(t),me(r),me(typeof i=="function"),r.lstat(t,(s,a)=>{if(s&&s.code==="ENOENT")return i(null);if(s&&s.code==="EPERM"&&_i&&sp(t,r,s,i),a&&a.isDirectory())return Ns(t,r,s,i);r.unlink(t,f=>{if(f){if(f.code==="ENOENT")return i(null);if(f.code==="EPERM")return _i?sp(t,r,f,i):Ns(t,r,f,i);if(f.code==="EISDIR")return Ns(t,r,f,i)}return i(f)})})},sp=(t,r,i,s)=>{me(t),me(r),me(typeof s=="function"),r.chmod(t,438,a=>{a?s(a.code==="ENOENT"?null:i):r.stat(t,(f,l)=>{f?s(f.code==="ENOENT"?null:i):l.isDirectory()?Ns(t,r,i,s):r.unlink(t,s)})})},op=(t,r,i)=>{me(t),me(r);try{r.chmodSync(t,438)}catch(a){if(a.code==="ENOENT")return;throw i}let s;try{s=r.statSync(t)}catch(a){if(a.code==="ENOENT")return;throw i}s.isDirectory()?Ms(t,r,i):r.unlinkSync(t)},Ns=(t,r,i,s)=>{me(t),me(r),me(typeof s=="function"),r.rmdir(t,a=>{a&&(a.code==="ENOTEMPTY"||a.code==="EEXIST"||a.code==="EPERM")?mC(t,r,s):a&&a.code==="ENOTDIR"?s(i):s(a)})},mC=(t,r,i)=>{me(t),me(r),me(typeof i=="function"),r.readdir(t,(s,a)=>{if(s)return i(s);let f=a.length;if(f===0)return r.rmdir(t,i);let l;a.forEach(g=>{Pu(rp.join(t,g),r,p=>{if(!l){if(p)return i(l=p);--f==0&&r.rmdir(t,i)}})})})},ap=(t,r)=>{r=r||{},ip(r),me(t,"rimraf: missing path"),me.equal(typeof t,"string","rimraf: path should be a string"),me(r,"rimraf: missing options"),me.equal(typeof r,"object","rimraf: options should be object");let i;if(r.disableGlob||!Tn.hasMagic(t))i=[t];else try{r.lstatSync(t),i=[t]}catch{i=Tn.sync(t,r.glob)}if(!!i.length)for(let s=0;s<i.length;s++){let a=i[s],f;try{f=r.lstatSync(a)}catch(l){if(l.code==="ENOENT")return;l.code==="EPERM"&&_i&&op(a,r,l)}try{f&&f.isDirectory()?Ms(a,r,null):r.unlinkSync(a)}catch(l){if(l.code==="ENOENT")return;if(l.code==="EPERM")return _i?op(a,r,l):Ms(a,r,l);if(l.code!=="EISDIR")throw l;Ms(a,r,l)}}},Ms=(t,r,i)=>{me(t),me(r);try{r.rmdirSync(t)}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR")throw i;(s.code==="ENOTEMPTY"||s.code==="EEXIST"||s.code==="EPERM")&&vC(t,r)}},vC=(t,r)=>{me(t),me(r),r.readdirSync(t).forEach(a=>ap(rp.join(t,a),r));let i=_i?100:1,s=0;do{let a=!0;try{let f=r.rmdirSync(t,r);return a=!1,f}finally{if(++s<i&&a)continue}}while(!0)};up.exports=Pu;Pu.sync=ap});var lp=U((LO,cp)=>{"use strict";function _C(t){return/\\\s+$/.test(t)?t.replace(/\\(\s+)$/,"$1"):t.replace(/\s+$/,"")}function yC(t){let r=t;return r.charAt(0)==="/"&&(r=r.substr(1)),r.charAt(r.length-1)==="/"&&(r=r.substr(0,r.length-1)),r}function wC(t){return/^\s*$/.test(t)}function bC(t,r){return new RegExp(`^${r}+.*$`).test(t)}cp.exports={trimSlashes:yC,removeTrailingWhitespace:_C,isWhitespace:wC,startsWithChar:bC}});var dp=U((RO,hp)=>{"use strict";var Bs=lp();hp.exports=function(r){let i=[];return r.split(/\n/).forEach(a=>{let f;Bs.isWhitespace(a)||Bs.startsWithChar(a,"#")||(f=Bs.removeTrailingWhitespace(a),f=Bs.trimSlashes(f),i.includes(f)||i.push(f))}),i}});var xp=U((FO,Sp)=>{function gp(t){return Array.isArray(t)?t:[t]}var pp="",mp=" ",Nu="\\",EC=/^\s+$/,SC=/^\\!/,xC=/^\\#/,CC=/\r?\n/g,TC=/^\.*\/|^\.+$/,Mu="/",vp=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",OC=(t,r,i)=>Object.defineProperty(t,r,{value:i}),AC=/([0-z])-([0-z])/g,_p=()=>!1,$C=t=>t.replace(AC,(r,i,s)=>i.charCodeAt(0)<=s.charCodeAt(0)?r:pp),kC=t=>{let{length:r}=t;return t.slice(0,r-r%2)},IC=[[/\\?\s+$/,t=>t.indexOf("\\")===0?mp:pp],[/\\\s/g,()=>mp],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,r,i)=>r+6<i.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(t,r)=>`${r}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>Nu],[/\\\\/g,()=>Nu],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,r,i,s,a)=>r===Nu?`\\[${i}${kC(s)}${a}`:a==="]"&&s.length%2==0?`[${$C(i)}${s}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,r)=>`${r?`${r}[^/]+`:"[^/]*"}(?=$|\\/$)`]],yp=Object.create(null),LC=(t,r)=>{let i=yp[t];return i||(i=IC.reduce((s,a)=>s.replace(a[0],a[1].bind(t)),t),yp[t]=i),r?new RegExp(i,"i"):new RegExp(i)},Bu=t=>typeof t=="string",RC=t=>t&&Bu(t)&&!EC.test(t)&&t.indexOf("#")!==0,FC=t=>t.split(CC),wp=class{constructor(r,i,s,a){this.origin=r,this.pattern=i,this.negative=s,this.regex=a}},PC=(t,r)=>{let i=t,s=!1;t.indexOf("!")===0&&(s=!0,t=t.substr(1)),t=t.replace(SC,"!").replace(xC,"#");let a=LC(t,r);return new wp(i,t,s,a)},DC=(t,r)=>{throw new r(t)},nr=(t,r,i)=>Bu(t)?t?nr.isNotRelative(t)?i(`path should be a \`path.relative()\`d string, but got "${r}"`,RangeError):!0:i("path must not be empty",TypeError):i(`path must be a string, but got \`${r}\``,TypeError),bp=t=>TC.test(t);nr.isNotRelative=bp;nr.convert=t=>t;var Ep=class{constructor({ignorecase:r=!0,ignoreCase:i=r,allowRelativePaths:s=!1}={}){OC(this,vp,!0),this._rules=[],this._ignoreCase=i,this._allowRelativePaths=s,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(r){if(r&&r[vp]){this._rules=this._rules.concat(r._rules),this._added=!0;return}if(RC(r)){let i=PC(r,this._ignoreCase);this._added=!0,this._rules.push(i)}}add(r){return this._added=!1,gp(Bu(r)?FC(r):r).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(r){return this.add(r)}_testOne(r,i){let s=!1,a=!1;return this._rules.forEach(f=>{let{negative:l}=f;if(a===l&&s!==a||l&&!s&&!a&&!i)return;f.regex.test(r)&&(s=!l,a=l)}),{ignored:s,unignored:a}}_test(r,i,s,a){let f=r&&nr.convert(r);return nr(f,r,this._allowRelativePaths?_p:DC),this._t(f,i,s,a)}_t(r,i,s,a){if(r in i)return i[r];if(a||(a=r.split(Mu)),a.pop(),!a.length)return i[r]=this._testOne(r,s);let f=this._t(a.join(Mu)+Mu,i,s,a);return i[r]=f.ignored?f:this._testOne(r,s)}ignores(r){return this._test(r,this._ignoreCache,!1).ignored}createFilter(){return r=>!this.ignores(r)}filter(r){return gp(r).filter(this.createFilter())}test(r){return this._test(r,this._testCache,!0)}},qs=t=>new Ep(t),NC=t=>nr(t&&nr.convert(t),t,_p);qs.isPathValid=NC;qs.default=qs;Sp.exports=qs;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=i=>/^\\\\\?\\/.test(i)||/["<>|\u0000-\u001F]+/u.test(i)?i:i.replace(/\\/g,"/");nr.convert=t;let r=/^[a-z]:\//i;nr.isNotRelative=i=>r.test(i)||bp(i)}});vb(exports,{CatchableError:()=>Oe,IMAGE_VERSION:()=>Br,buildLink:()=>BC,checkDocker:()=>ou,checkLanguage:()=>ux,cleanUselessImagesByTag:()=>su,formatterOutput:()=>fg,genBuildLinkFilesListJSONPath:()=>js,genContainerResourcesLimitConfig:()=>ox,genDomainName:()=>hx,getBuildArtifactPath:()=>Hs,getConfigFromFile:()=>Ya,isAuto:()=>lx,isCustomContainerRuntime:()=>fx,isCustomRuntime:()=>cx,isDockerToolBox:()=>ax,makeFcClient:()=>jS,preExecute:()=>ag,pullImageIfNeed:()=>Dd,resolveRuntimeToDockerImage:()=>Md});var Ad=ge(Fr()),$d=ge(wd()),kd=ge(require("@serverless-devs/core"));var Oe=class extends Error{constructor(r,i){super(JSON.stringify({message:i,tips:r}));this.name="CatchableError"}};var bd=ge(require("@serverless-devs/core")),Ed=ge(require("path")),Sd=ge(Fr()),xd=ge(require("os"));async function Ya(){let t=Ed.join(xd.default.homedir(),".s",".fc.default.yaml"),r;try{r=await(0,bd.getYamlContent)(t)}catch{}return Sd.default.isEmpty(r)&&(r={"deploy-type":"sdk"}),r["deploy-type"]=process.env["s-default-deploy-type"]||process.env.s_default_deploy_type||r["deploy-type"],r["fc-endpoint"]=process.env["s-default-fc-endpoint"]||process.env.s_default_fc_endpoint||r["fc-endpoint"],r["enable-fc-endpoint"]=process.env["s-default-enable-fc-endpoint"]||process.env.s_default_enable_fc_endpoint||r["enable-fc-endpoint"],r["fc-cluster-ip"]=process.env["s-default-fc-cluster-ip"]||process.env.s_default_fc_cluster_ip||r["fc-cluster-ip"],r}async function Cd(){let t=await Ya(),r=t["fc-endpoint"],i=t["enable-fc-endpoint"];return r&&(i===!0||i==="true")?r:null}function Va(t,r,i){if(i.endsWith("-internal.fc.aliyuncs.com")){let s=qS(i),a=US(i);if(s!==r)throw new Oe(`Please make accountId: ${s} in custom endpoint equal to accountId: ${r} you provided.`);if(!a.startsWith(t))throw new Oe(`Please make region: ${a} in custom endpoint equal to accountId: ${t} you provided.`)}return!0}function qS(t){return Td(/^https?:\/\/([^.]+)\..+$/,t)}function US(t){return Td(/^https?:\/\/[^.]+\.([^.]+)\..+$/,t)}function Td(t,r){let i=r.match(t);return i?i[1]:null}var Od=ge(require("@serverless-devs/core")),WS="FC-CORE",GS=new Od.Logger(WS),We=GS;var Id=600;async function jS(t){We.debug(`input: ${JSON.stringify(t)}`);let r=t.region,i=(t.timeout||Id)*1e3;if(!r)throw new Oe("Please provide region in your props.");let s;if(Ad.default.isEmpty(t.credentials)){let g=await(0,kd.getCredential)(t.access);s={AccountID:g==null?void 0:g.AccountID,AccessKeyID:g==null?void 0:g.AccessKeyID,AccessKeySecret:g==null?void 0:g.AccessKeySecret,SecurityToken:g==null?void 0:g.SecurityToken,endpoint:g==null?void 0:g.endpoing}}else s=t.credentials;let a=s.endpoint,f=await Cd(),l=null;if(a){if(!Va(r,s==null?void 0:s.AccountID,a))return;l=a}else if(f){if(!Va(r,s==null?void 0:s.AccountID,f))return;l=f}return l&&We.debug(`Using endpoint ${l}`),new $d.default(s.AccountID,{accessKeyID:s.AccessKeyID,accessKeySecret:s.AccessKeySecret,securityToken:s.SecurityToken,region:r,timeout:i*1e3||Id,endpoint:l})}var au=ge(Fr());var Ld=ge(require("child_process"));function li(){let t=(0,Ld.execSync)('docker info --format "{{json .}}"');return JSON.parse(t.toString())}function Rd(t){let r="";t<.1*1024?r=`${t.toFixed(2)}B`:t<.1*1024*1024?r=`${(t/1024).toFixed(2)}KB`:t<.1*1024*1024*1024?r=`${(t/(1024*1024)).toFixed(2)}MB`:r=`${(t/(1024*1024*1024)).toFixed(2)}GB`;let i=`${r}`,s=i.indexOf(".");return i.substr(s+1,2)=="00"?i.substring(0,s)+i.substr(s+3,2):r}var Br=process.env.FC_DOCKER_VERSION||"1.10.0",Ja="registry.hub.docker.com",Fd=["registry.cn-beijing.aliyuncs.com","registry.hub.docker.com"];var Xa=ge(Fr()),Pd=ge(ps());var hi=null;async function HS(t){if(hi)return hi;let r=Fd.map(i=>Pd.request(`https://${i}/v2/aliyunfc/runtime-nodejs8/tags/list`,{timeout:2500}).then(()=>i));try{hi=await Promise.race(r)}catch{hi=Ja}if(hi)return t}async function zS(t,r){let i=await HS(r),s=await t.pull(i);return await new Promise((a,f)=>{We.debug(`Begin pulling image ${r}, you can also use docker pull ${r} to pull image by yourself.`);let l=async v=>{if(v)return f(v);a(Ja)},g={},p=v=>{let y=v.status;if(v.progress&&(y=`${v.status} ${v.progress}`),v.id){let E=v.id;g[E]||(g[E]=console.draft()),g[E](E+": "+y)}else{Xa.default.has(v,"aux.ID")&&(v.stream=v.aux.ID+`
`);let E=v.status?v.status+`
`:v.stream;process.stdout.write(E)}};t.modem.followProgress(s,l,p)})}async function Dd(t,r){let i=await t.listImages({filters:{reference:[r]}});Xa.default.size(i)===0?await zS(t,r):We.debug(`Skip pulling image ${r}...`)}var Nd={nodejs6:"nodejs6",nodejs8:"nodejs8",nodejs10:"nodejs10",nodejs12:"nodejs12",nodejs14:"nodejs14","python2.7":"python2.7",python3:"python3.6",java8:"java8",java11:"java11","php7.2":"php7.2","dotnetcore2.1":"dotnetcore2.1",custom:"custom"};async function Md(t,r){if(Nd[t]){let s=Nd[t];var i;return r?i=`aliyunfc/runtime-${s}:build-${Br}`:i=`aliyunfc/runtime-${s}:${Br}`,We.debug("imageName: "+i),i}throw new Oe(`invalid runtime name ${t}`)}var Ft=ge(Fr()),ig=ge(tu()),sg=ge(require("@serverless-devs/core")),og=ge(ng());og.default.into(console);var su=async t=>{let r=await t.listImages({filters:'{"label": ["maintainer=alibaba-serverless-fc"]}'}),i=Ft.default.map(Ft.default.filter(r,s=>{try{let a=Ft.default.last(Ft.default.split(Ft.default.first(s.RepoTags),":"));return sg.semver.lte(Ft.default.last(Ft.default.split(a,"-")),Br)}catch{return!1}}),s=>t.getImage(s.Id));Ft.default.each(i,s=>s.remove({force:!0}))};function ou(){if((0,ig.default)("docker")){let t=li();if(!Ft.default.isEmpty(Ft.default.get(t,"ServerErrors")))throw new Oe("Failed to start docker, Please ensure that docker is started on your computer.")}else throw new Oe("Failed to start docker, Please ensure that docker is installed on your computer.")}var ag=async t=>{ou(),await su(t)};async function ox(t){if(t<128)throw new Oe(`ContainerMemory is too small (min: 128, actual: '${t}').`);if(t<3072&&t%64!=0)throw new Oe(`ContainerMemory is set to an invalid value. The value must be a multiple of 64 MB. (actual: '${t}').`);if(t>3072&&![4096,8192,16384,32768].includes(t))throw new Oe(`Memory is set to an invalid value (allowed: 4096 | 8192 | 16384 | 32768, actual: '${t}').`);let r=li(),{NCPU:i,MemTotal:s}=r,a=process.platform==="win32",f=t>3072?1/2048:2/3072,l=6400,g=Math.ceil(l*f*t);g=Math.min(g,l*i),g=Math.max(g,l);let p=t*1024*1024;return p>s&&(p=s,We.debug(`The memory config exceeds the docker limit. The memory actually allocated: ${Rd(p)}.
Now the limit of RAM resource is ${s} bytes. To improve the limit, please refer: https://docs.docker.com/desktop/${a?"windows":"mac"}/#resources.`)),{CpuPeriod:l,CpuQuota:g,Memory:p,Ulimits:[{Name:"nofile",Soft:1024,Hard:1024},{Name:"nproc",Soft:1024,Hard:1024}]}}async function ax(){let t=li(),r=t.ServerVersion,i=r.split(".");if(Number.parseInt(i[0])===1&&Number.parseInt(i[1])<=13){let a=`We detected that your docker version is ${r}, for a better experience, please upgrade the docker version.`;throw new Oe(a)}let s=au.default.map(t.Labels||[],a=>au.default.split(a,"=",2)).filter(a=>a.length===2).reduce((a,f)=>(a[f[0]]=f[1],a),{});return process.platform==="win32"&&s.provider==="virtualbox"}var Ur=ge(require("fs")),bn=ge(require("child_process")),En=ge(tu()),ug=ge(require("os")),ks=ge(require("path"));async function ux(t){let r=!0,i="";if(t.includes("python")&&((0,En.default)("pip")?i+=`- ${(0,bn.execSync)("pip --version").toString()}`:(r=!1,i+=`- pip not installed.
`),(0,En.default)(t)?i+=`- python ${(0,bn.execSync)(`${t} -c 'import platform; print(platform.python_version())'`).toString().trim()}`:(r=!1,i+=`- ${t} not installed.
`)),t.includes("java"))if((0,En.default)("mvn")?i+=`- ${(0,bn.execSync)("mvn --version").toString().split(`
`)[0].replace(/\x1b|\[m|\[1m/g,"")}
`:(r=!1,i+=`- maven not installed.
`),!(0,En.default)("java"))r=!1,i+=`- ${t} not installed.
`;else{let s='class test {public static void main(String args[]) {System.out.print(Double.parseDouble(System.getProperty("java.specification.version")));}}',a=Ur.mkdtempSync(ks.default.join(ug.default.tmpdir(),"foo-")),f=ks.default.join(a,"test.java"),l=ks.default.join(a,"test.class");Ur.writeFileSync(f,s);let g=(0,bn.execSync)(`javac ${f} && java -classpath ${a} test`).toString();t.match(`java${g.split(".")[0]}`)?i+=`- java ${g}`:i+=`Required ${t}, found java ${g}`,Ur.unlinkSync(l),Ur.unlinkSync(f)}if(t.includes("node")){let s="";if(!(0,En.default)("node"))r=!1,i+=`${t} not installed.
`;else{s=(0,bn.execSync)("node -v").toString().trim();let a=t.replace("nodejs","");s.match(new RegExp(`v${a}.`))?i+=`- nodejs: ${s}`:(r=!1,i+=`Required ${t}, found ${s}
`)}}return[r,i]}function fx(t){return t==="custom-container"}function cx(t){return t==="custom"}function lx(t){return t==="Auto"||t==="auto"}function hx(t,r,i,s){return`${s}.${i}.${t}.${r}.fc.devsapp.net`.toLocaleLowerCase()}var dx=t=>t==null?void 0:t.toString().replace(/^( |^)[a-z]/g,r=>r.toUpperCase()),fg={get:(t,r)=>`Getting ${t}: ${r}`,set:(t,r)=>`Setting ${t}: ${r}`,create:(t,r)=>`Creating ${t}: ${r}`,update:(t,r)=>`Updating ${t}: ${r}`,remove:(t,r)=>`Removing ${t}: ${r}`,warn:(t,r,i)=>`Reminder ${t}: ${r}${i?`(${i})`:""}`,nextStep:t=>`
Tips for next step:${t.map(r=>`
* ${r}`)}
`,using:(t,r)=>`Using ${t}: ${r}`,check:(t,r)=>`Checking ${dx(t)} ${r} exists`,retry:(t,r,i,s)=>`Retrying ${t}: ${r} ${i}${s?`, retry ${s} time`:""}`};var Tp=ge(require("@serverless-devs/core"));var MC=ge(require("@serverless-devs/core")),Us=ge(fp()),Ws=ge(Fr()),ht=ge(require("path")),qu=ge(dp()),Cp=ge(xp());var{fse:ir}=MC,Gs=class{constructor(r,i,s,a,f){this.sourceDir=ht.default.resolve(i),this.buildDir=s,this.excludeFiles=f,this.buildFilesListJSONPath=a,this.initBuildArtifactDir(s);let l=ht.default.join(this.sourceDir,this.getIgnoreFileName());if(this.getFileType(l)==="file")We.debug(`CodeUri has ignore file: ${l}`),this.ign=this.ignores(this.sourceDir);else{let g=ht.default.resolve(r,i);We.debug(`ignore path: ${g}`),this.ign=this.ignores(ht.default.resolve(r),{ignoreRelativePath:g})}}async startGenerateLink(){let r=await this.getFileType(this.sourceDir);if(r)if(r!=="dir")We.error(`The code path ${this.sourceDir} does not point to a folder, skip generating soft links`);else{let i=this.readFileJSON(this.buildFilesListJSONPath),s=await this.walkDir(this.sourceDir,i);ir.outputFileSync(this.buildFilesListJSONPath,JSON.stringify(s,null,2))}else throw new Error(`Error: ENOENT: no such file or directory, lstat '${this.sourceDir}'`)}async walkDir(r,i){let s={},f=(await ir.readdir(r)).filter(g=>this.filter(ht.default.join(r,g)));We.debug(`readdir '${r}': ${f}`);let l=r.replace(this.sourceDir,this.buildDir);this.getFileType(l)!=="dir"&&(Us.default.sync(l),ir.mkdirpSync(l));for(let g of f){let p=ht.default.join(r,g),v=this.getFileType(p),y=i==null?void 0:i[g];y&&delete i[g];let E={sourceFileType:v,buildFileType:"link",buildFilePath:ht.default.join(l,g),sourcePath:p};if(v==="dir")E.buildFileType="dir",E.children=await this.walkDir(p,(y==null?void 0:y.children)||{});else if(Ws.default.isEmpty(y)||y.buildFileType!=="link"){let S=ht.default.join(l,g);Us.default.sync(S),ir.linkSync(p,S),E.buildFilePath=S}s[g]=E}return Object.keys(i).forEach(g=>Us.default.sync(ht.default.join(l,g))),s}filter(r){return!(this.ign&&this.ign(r)||this.excludeFiles&&Ws.default.some(this.excludeFiles,i=>r.endsWith(i)))}initBuildArtifactDir(r){if(We.debug(`Build save url: ${r}`),!this.getFileType(r))return ir.mkdirpSync(r)}getFileType(r){try{let i=ir.lstatSync(r);return i.isFile()?"file":i.isDirectory()?"dir":i.isSymbolicLink()?"symbolicLink":"other"}catch(i){if(i.code!=="ENOENT")throw i}}readFileJSON(r){try{return ir.readJSONSync(r)}catch(i){We.debug(`${i.code}, ${i.message}`)}return{}}getIgnoreFileName(){return process.env.IGNORE_FILE_NAME||".fcignore"}ignores(r,i){let s=process.env.TOOL_CACHE_PATH||".s",a=this.getIgnoreFileName(),f=[".git",".svn",".env",".DS_Store","node_modules","s.yaml","s.yml",a,s],l=ht.default.join(r,a),g="";ir.existsSync(l)&&(g=ir.readFileSync(l,"utf8"),Ws.default.isNil(i==null?void 0:i.ignoreRelativePath)||(g=(0,qu.default)(g).map(E=>ht.default.relative(i.ignoreRelativePath,E)).join(`
`)));let p=(0,qu.default)(`${f.join(`
`)}
${g}`);We.debug(`ignoredPaths: ${p}`);let v=(0,Cp.default)().add(p),y=(i==null?void 0:i.ignoreRelativePath)||r;return function(E){let S=ht.default.relative(y,E);return S===""?!1:v.ignores(S)}}};var Uu=ge(require("path"));function js(t,r,i){return Uu.default.join(t,".s","fc-build-link",`${r}-${i}-files_list.json`)}function Hs(t,r,i){return Uu.default.join(t,".s","build","artifacts",r,i)}async function BC({configDirPath:t,codeUri:r,serviceName:i,functionName:s,excludeFiles:a}){if(!r)throw new Oe("The required parameter codeUri was not found");if(!i)throw new Oe("The required parameter serviceName was not found");if(!s)throw new Oe("The required parameter functionName was not found");let f=Tp.spinner("Generate symbolic link...");try{let l=t||process.cwd(),g=Hs(l,i,s),p=js(l,i,s);await new Gs(l,r,g,p,a).startGenerateLink(),f.stop()}catch(l){throw f.fail(),l}}0&&(module.exports={CatchableError,IMAGE_VERSION,buildLink,checkDocker,checkLanguage,cleanUselessImagesByTag,formatterOutput,genBuildLinkFilesListJSONPath,genContainerResourcesLimitConfig,genDomainName,getBuildArtifactPath,getConfigFromFile,isAuto,isCustomContainerRuntime,isCustomRuntime,isDockerToolBox,makeFcClient,preExecute,pullImageIfNeed,resolveRuntimeToDockerImage});
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
