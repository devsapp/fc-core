var yb=Object.create;var Jn=Object.defineProperty,wb=Object.defineProperties,bb=Object.getOwnPropertyDescriptor,Sb=Object.getOwnPropertyDescriptors,Eb=Object.getOwnPropertyNames,Ol=Object.getOwnPropertySymbols,xb=Object.getPrototypeOf,Al=Object.prototype.hasOwnProperty,Cb=Object.prototype.propertyIsEnumerable;var $l=(t,r,i)=>r in t?Jn(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,We=(t,r)=>{for(var i in r||(r={}))Al.call(r,i)&&$l(t,i,r[i]);if(Ol)for(var i of Ol(r))Cb.call(r,i)&&$l(t,i,r[i]);return t},qt=(t,r)=>wb(t,Sb(r)),Il=t=>Jn(t,"__esModule",{value:!0});var U=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),Tb=(t,r)=>{Il(t);for(var i in r)Jn(t,i,{get:r[i],enumerable:!0})},Ob=(t,r,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Eb(r))!Al.call(t,s)&&s!=="default"&&Jn(t,s,{get:()=>r[s],enumerable:!(i=bb(r,s))||i.enumerable});return t},ae=t=>Ob(Il(Jn(t!=null?yb(xb(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var vr=U((fn,Xn)=>{(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",f="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",g=500,p="__lodash_placeholder__",m=1,y=2,b=4,E=1,C=2,O=1,L=2,I=4,N=8,P=16,M=32,W=64,V=128,oe=256,fe=512,Ee=30,re="...",gt=800,pt=16,Ot=1,_e=2,Nt=3,je=1/0,ue=9007199254740991,R=17976931348623157e292,k=0/0,D=4294967295,H=D-1,j=D>>>1,we=[["ary",V],["bind",O],["bindKey",L],["curry",N],["curryRight",P],["flip",fe],["partial",M],["partialRight",W],["rearg",oe]],Te="[object Arguments]",qe="[object Array]",st="[object AsyncFunction]",De="[object Boolean]",At="[object Date]",Tr="[object DOMException]",Ci="[object Error]",Ti="[object Function]",Vu="[object GeneratorFunction]",$t="[object Map]",In="[object Number]",Np="[object Null]",Gt="[object Object]",Ju="[object Promise]",Pp="[object Proxy]",kn="[object RegExp]",It="[object Set]",Ln="[object String]",Oi="[object Symbol]",Mp="[object Undefined]",Rn="[object WeakMap]",Bp="[object WeakSet]",Fn="[object ArrayBuffer]",Yr="[object DataView]",Qs="[object Float32Array]",eo="[object Float64Array]",to="[object Int8Array]",ro="[object Int16Array]",no="[object Int32Array]",io="[object Uint8Array]",so="[object Uint8ClampedArray]",oo="[object Uint16Array]",ao="[object Uint32Array]",qp=/\b__p \+= '';/g,Up=/\b(__p \+=) '' \+/g,Wp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xu=/&(?:amp|lt|gt|quot|#39);/g,Zu=/[&<>"']/g,Gp=RegExp(Xu.source),jp=RegExp(Zu.source),Hp=/<%-([\s\S]+?)%>/g,zp=/<%([\s\S]+?)%>/g,Qu=/<%=([\s\S]+?)%>/g,Kp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yp=/^\w*$/,Vp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uo=/[\\^$.*+?()[\]{}|]/g,Jp=RegExp(uo.source),fo=/^\s+/,Xp=/\s/,Zp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qp=/\{\n\/\* \[wrapped with (.+)\] \*/,em=/,? & /,tm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rm=/[()=,{}\[\]\/\s]/,nm=/\\(\\)?/g,im=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ef=/\w*$/,sm=/^[-+]0x[0-9a-f]+$/i,om=/^0b[01]+$/i,am=/^\[object .+?Constructor\]$/,um=/^0o[0-7]+$/i,fm=/^(?:0|[1-9]\d*)$/,cm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ai=/($^)/,lm=/['\n\r\u2028\u2029\\]/g,$i="\\ud800-\\udfff",hm="\\u0300-\\u036f",dm="\\ufe20-\\ufe2f",gm="\\u20d0-\\u20ff",tf=hm+dm+gm,rf="\\u2700-\\u27bf",nf="a-z\\xdf-\\xf6\\xf8-\\xff",pm="\\xac\\xb1\\xd7\\xf7",mm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vm="\\u2000-\\u206f",_m=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sf="A-Z\\xc0-\\xd6\\xd8-\\xde",of="\\ufe0e\\ufe0f",af=pm+mm+vm+_m,co="['\u2019]",ym="["+$i+"]",uf="["+af+"]",Ii="["+tf+"]",ff="\\d+",wm="["+rf+"]",cf="["+nf+"]",lf="[^"+$i+af+ff+rf+nf+sf+"]",lo="\\ud83c[\\udffb-\\udfff]",bm="(?:"+Ii+"|"+lo+")",hf="[^"+$i+"]",ho="(?:\\ud83c[\\udde6-\\uddff]){2}",go="[\\ud800-\\udbff][\\udc00-\\udfff]",Vr="["+sf+"]",df="\\u200d",gf="(?:"+cf+"|"+lf+")",Sm="(?:"+Vr+"|"+lf+")",pf="(?:"+co+"(?:d|ll|m|re|s|t|ve))?",mf="(?:"+co+"(?:D|LL|M|RE|S|T|VE))?",vf=bm+"?",_f="["+of+"]?",Em="(?:"+df+"(?:"+[hf,ho,go].join("|")+")"+_f+vf+")*",xm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yf=_f+vf+Em,Tm="(?:"+[wm,ho,go].join("|")+")"+yf,Om="(?:"+[hf+Ii+"?",Ii,ho,go,ym].join("|")+")",Am=RegExp(co,"g"),$m=RegExp(Ii,"g"),po=RegExp(lo+"(?="+lo+")|"+Om+yf,"g"),Im=RegExp([Vr+"?"+cf+"+"+pf+"(?="+[uf,Vr,"$"].join("|")+")",Sm+"+"+mf+"(?="+[uf,Vr+gf,"$"].join("|")+")",Vr+"?"+gf+"+"+pf,Vr+"+"+mf,Cm,xm,ff,Tm].join("|"),"g"),km=RegExp("["+df+$i+tf+of+"]"),Lm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fm=-1,be={};be[Qs]=be[eo]=be[to]=be[ro]=be[no]=be[io]=be[so]=be[oo]=be[ao]=!0,be[Te]=be[qe]=be[Fn]=be[De]=be[Yr]=be[At]=be[Ci]=be[Ti]=be[$t]=be[In]=be[Gt]=be[kn]=be[It]=be[Ln]=be[Rn]=!1;var ye={};ye[Te]=ye[qe]=ye[Fn]=ye[Yr]=ye[De]=ye[At]=ye[Qs]=ye[eo]=ye[to]=ye[ro]=ye[no]=ye[$t]=ye[In]=ye[Gt]=ye[kn]=ye[It]=ye[Ln]=ye[Oi]=ye[io]=ye[so]=ye[oo]=ye[ao]=!0,ye[Ci]=ye[Ti]=ye[Rn]=!1;var Dm={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Nm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bm=parseFloat,qm=parseInt,wf=typeof global=="object"&&global&&global.Object===Object&&global,Um=typeof self=="object"&&self&&self.Object===Object&&self,Ne=wf||Um||Function("return this")(),mo=typeof fn=="object"&&fn&&!fn.nodeType&&fn,Or=mo&&typeof Xn=="object"&&Xn&&!Xn.nodeType&&Xn,bf=Or&&Or.exports===mo,vo=bf&&wf.process,mt=function(){try{var w=Or&&Or.require&&Or.require("util").types;return w||vo&&vo.binding&&vo.binding("util")}catch{}}(),Sf=mt&&mt.isArrayBuffer,Ef=mt&&mt.isDate,xf=mt&&mt.isMap,Cf=mt&&mt.isRegExp,Tf=mt&&mt.isSet,Of=mt&&mt.isTypedArray;function ot(w,T,x){switch(x.length){case 0:return w.call(T);case 1:return w.call(T,x[0]);case 2:return w.call(T,x[0],x[1]);case 3:return w.call(T,x[0],x[1],x[2])}return w.apply(T,x)}function Wm(w,T,x,q){for(var J=-1,ce=w==null?0:w.length;++J<ce;){var ke=w[J];T(q,ke,x(ke),w)}return q}function vt(w,T){for(var x=-1,q=w==null?0:w.length;++x<q&&T(w[x],x,w)!==!1;);return w}function Gm(w,T){for(var x=w==null?0:w.length;x--&&T(w[x],x,w)!==!1;);return w}function Af(w,T){for(var x=-1,q=w==null?0:w.length;++x<q;)if(!T(w[x],x,w))return!1;return!0}function ar(w,T){for(var x=-1,q=w==null?0:w.length,J=0,ce=[];++x<q;){var ke=w[x];T(ke,x,w)&&(ce[J++]=ke)}return ce}function ki(w,T){var x=w==null?0:w.length;return!!x&&Jr(w,T,0)>-1}function _o(w,T,x){for(var q=-1,J=w==null?0:w.length;++q<J;)if(x(T,w[q]))return!0;return!1}function xe(w,T){for(var x=-1,q=w==null?0:w.length,J=Array(q);++x<q;)J[x]=T(w[x],x,w);return J}function ur(w,T){for(var x=-1,q=T.length,J=w.length;++x<q;)w[J+x]=T[x];return w}function yo(w,T,x,q){var J=-1,ce=w==null?0:w.length;for(q&&ce&&(x=w[++J]);++J<ce;)x=T(x,w[J],J,w);return x}function jm(w,T,x,q){var J=w==null?0:w.length;for(q&&J&&(x=w[--J]);J--;)x=T(x,w[J],J,w);return x}function wo(w,T){for(var x=-1,q=w==null?0:w.length;++x<q;)if(T(w[x],x,w))return!0;return!1}var Hm=bo("length");function zm(w){return w.split("")}function Km(w){return w.match(tm)||[]}function $f(w,T,x){var q;return x(w,function(J,ce,ke){if(T(J,ce,ke))return q=ce,!1}),q}function Li(w,T,x,q){for(var J=w.length,ce=x+(q?1:-1);q?ce--:++ce<J;)if(T(w[ce],ce,w))return ce;return-1}function Jr(w,T,x){return T===T?sv(w,T,x):Li(w,If,x)}function Ym(w,T,x,q){for(var J=x-1,ce=w.length;++J<ce;)if(q(w[J],T))return J;return-1}function If(w){return w!==w}function kf(w,T){var x=w==null?0:w.length;return x?Eo(w,T)/x:k}function bo(w){return function(T){return T==null?t:T[w]}}function So(w){return function(T){return w==null?t:w[T]}}function Lf(w,T,x,q,J){return J(w,function(ce,ke,me){x=q?(q=!1,ce):T(x,ce,ke,me)}),x}function Vm(w,T){var x=w.length;for(w.sort(T);x--;)w[x]=w[x].value;return w}function Eo(w,T){for(var x,q=-1,J=w.length;++q<J;){var ce=T(w[q]);ce!==t&&(x=x===t?ce:x+ce)}return x}function xo(w,T){for(var x=-1,q=Array(w);++x<w;)q[x]=T(x);return q}function Jm(w,T){return xe(T,function(x){return[x,w[x]]})}function Rf(w){return w&&w.slice(0,Pf(w)+1).replace(fo,"")}function at(w){return function(T){return w(T)}}function Co(w,T){return xe(T,function(x){return w[x]})}function Dn(w,T){return w.has(T)}function Ff(w,T){for(var x=-1,q=w.length;++x<q&&Jr(T,w[x],0)>-1;);return x}function Df(w,T){for(var x=w.length;x--&&Jr(T,w[x],0)>-1;);return x}function Xm(w,T){for(var x=w.length,q=0;x--;)w[x]===T&&++q;return q}var Zm=So(Dm),Qm=So(Nm);function ev(w){return"\\"+Mm[w]}function tv(w,T){return w==null?t:w[T]}function Xr(w){return km.test(w)}function rv(w){return Lm.test(w)}function nv(w){for(var T,x=[];!(T=w.next()).done;)x.push(T.value);return x}function To(w){var T=-1,x=Array(w.size);return w.forEach(function(q,J){x[++T]=[J,q]}),x}function Nf(w,T){return function(x){return w(T(x))}}function fr(w,T){for(var x=-1,q=w.length,J=0,ce=[];++x<q;){var ke=w[x];(ke===T||ke===p)&&(w[x]=p,ce[J++]=x)}return ce}function Ri(w){var T=-1,x=Array(w.size);return w.forEach(function(q){x[++T]=q}),x}function iv(w){var T=-1,x=Array(w.size);return w.forEach(function(q){x[++T]=[q,q]}),x}function sv(w,T,x){for(var q=x-1,J=w.length;++q<J;)if(w[q]===T)return q;return-1}function ov(w,T,x){for(var q=x+1;q--;)if(w[q]===T)return q;return q}function Zr(w){return Xr(w)?uv(w):Hm(w)}function kt(w){return Xr(w)?fv(w):zm(w)}function Pf(w){for(var T=w.length;T--&&Xp.test(w.charAt(T)););return T}var av=So(Pm);function uv(w){for(var T=po.lastIndex=0;po.test(w);)++T;return T}function fv(w){return w.match(po)||[]}function cv(w){return w.match(Im)||[]}var lv=function w(T){T=T==null?Ne:cr.defaults(Ne.Object(),T,cr.pick(Ne,Rm));var x=T.Array,q=T.Date,J=T.Error,ce=T.Function,ke=T.Math,me=T.Object,Oo=T.RegExp,hv=T.String,_t=T.TypeError,Fi=x.prototype,dv=ce.prototype,Qr=me.prototype,Di=T["__core-js_shared__"],Ni=dv.toString,ge=Qr.hasOwnProperty,gv=0,Mf=function(){var e=/[^.]+$/.exec(Di&&Di.keys&&Di.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Pi=Qr.toString,pv=Ni.call(me),mv=Ne._,vv=Oo("^"+Ni.call(ge).replace(uo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mi=bf?T.Buffer:t,lr=T.Symbol,Bi=T.Uint8Array,Bf=Mi?Mi.allocUnsafe:t,qi=Nf(me.getPrototypeOf,me),qf=me.create,Uf=Qr.propertyIsEnumerable,Ui=Fi.splice,Wf=lr?lr.isConcatSpreadable:t,Nn=lr?lr.iterator:t,Ar=lr?lr.toStringTag:t,Wi=function(){try{var e=Rr(me,"defineProperty");return e({},"",{}),e}catch{}}(),_v=T.clearTimeout!==Ne.clearTimeout&&T.clearTimeout,yv=q&&q.now!==Ne.Date.now&&q.now,wv=T.setTimeout!==Ne.setTimeout&&T.setTimeout,Gi=ke.ceil,ji=ke.floor,Ao=me.getOwnPropertySymbols,bv=Mi?Mi.isBuffer:t,Gf=T.isFinite,Sv=Fi.join,Ev=Nf(me.keys,me),Le=ke.max,He=ke.min,xv=q.now,Cv=T.parseInt,jf=ke.random,Tv=Fi.reverse,$o=Rr(T,"DataView"),Pn=Rr(T,"Map"),Io=Rr(T,"Promise"),en=Rr(T,"Set"),Mn=Rr(T,"WeakMap"),Bn=Rr(me,"create"),Hi=Mn&&new Mn,tn={},Ov=Fr($o),Av=Fr(Pn),$v=Fr(Io),Iv=Fr(en),kv=Fr(Mn),zi=lr?lr.prototype:t,qn=zi?zi.valueOf:t,Hf=zi?zi.toString:t;function h(e){if(Oe(e)&&!X(e)&&!(e instanceof ie)){if(e instanceof yt)return e;if(ge.call(e,"__wrapped__"))return zc(e)}return new yt(e)}var rn=function(){function e(){}return function(n){if(!Ce(n))return{};if(qf)return qf(n);e.prototype=n;var o=new e;return e.prototype=t,o}}();function Ki(){}function yt(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}h.templateSettings={escape:Hp,evaluate:zp,interpolate:Qu,variable:"",imports:{_:h}},h.prototype=Ki.prototype,h.prototype.constructor=h,yt.prototype=rn(Ki.prototype),yt.prototype.constructor=yt;function ie(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function Lv(){var e=new ie(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function Rv(){if(this.__filtered__){var e=new ie(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Fv(){var e=this.__wrapped__.value(),n=this.__dir__,o=X(e),u=n<0,c=o?e.length:0,d=z_(0,c,this.__views__),v=d.start,_=d.end,S=_-v,A=u?_:v-1,$=this.__iteratees__,F=$.length,B=0,G=He(S,this.__takeCount__);if(!o||!u&&c==S&&G==S)return pc(e,this.__actions__);var K=[];e:for(;S--&&B<G;){A+=n;for(var ee=-1,Y=e[A];++ee<F;){var ne=$[ee],se=ne.iteratee,ct=ne.type,Je=se(Y);if(ct==_e)Y=Je;else if(!Je){if(ct==Ot)continue e;break e}}K[B++]=Y}return K}ie.prototype=rn(Ki.prototype),ie.prototype.constructor=ie;function $r(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var u=e[n];this.set(u[0],u[1])}}function Dv(){this.__data__=Bn?Bn(null):{},this.size=0}function Nv(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Pv(e){var n=this.__data__;if(Bn){var o=n[e];return o===l?t:o}return ge.call(n,e)?n[e]:t}function Mv(e){var n=this.__data__;return Bn?n[e]!==t:ge.call(n,e)}function Bv(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Bn&&n===t?l:n,this}$r.prototype.clear=Dv,$r.prototype.delete=Nv,$r.prototype.get=Pv,$r.prototype.has=Mv,$r.prototype.set=Bv;function jt(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var u=e[n];this.set(u[0],u[1])}}function qv(){this.__data__=[],this.size=0}function Uv(e){var n=this.__data__,o=Yi(n,e);if(o<0)return!1;var u=n.length-1;return o==u?n.pop():Ui.call(n,o,1),--this.size,!0}function Wv(e){var n=this.__data__,o=Yi(n,e);return o<0?t:n[o][1]}function Gv(e){return Yi(this.__data__,e)>-1}function jv(e,n){var o=this.__data__,u=Yi(o,e);return u<0?(++this.size,o.push([e,n])):o[u][1]=n,this}jt.prototype.clear=qv,jt.prototype.delete=Uv,jt.prototype.get=Wv,jt.prototype.has=Gv,jt.prototype.set=jv;function Ht(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var u=e[n];this.set(u[0],u[1])}}function Hv(){this.size=0,this.__data__={hash:new $r,map:new(Pn||jt),string:new $r}}function zv(e){var n=os(this,e).delete(e);return this.size-=n?1:0,n}function Kv(e){return os(this,e).get(e)}function Yv(e){return os(this,e).has(e)}function Vv(e,n){var o=os(this,e),u=o.size;return o.set(e,n),this.size+=o.size==u?0:1,this}Ht.prototype.clear=Hv,Ht.prototype.delete=zv,Ht.prototype.get=Kv,Ht.prototype.has=Yv,Ht.prototype.set=Vv;function Ir(e){var n=-1,o=e==null?0:e.length;for(this.__data__=new Ht;++n<o;)this.add(e[n])}function Jv(e){return this.__data__.set(e,l),this}function Xv(e){return this.__data__.has(e)}Ir.prototype.add=Ir.prototype.push=Jv,Ir.prototype.has=Xv;function Lt(e){var n=this.__data__=new jt(e);this.size=n.size}function Zv(){this.__data__=new jt,this.size=0}function Qv(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o}function e_(e){return this.__data__.get(e)}function t_(e){return this.__data__.has(e)}function r_(e,n){var o=this.__data__;if(o instanceof jt){var u=o.__data__;if(!Pn||u.length<i-1)return u.push([e,n]),this.size=++o.size,this;o=this.__data__=new Ht(u)}return o.set(e,n),this.size=o.size,this}Lt.prototype.clear=Zv,Lt.prototype.delete=Qv,Lt.prototype.get=e_,Lt.prototype.has=t_,Lt.prototype.set=r_;function zf(e,n){var o=X(e),u=!o&&Dr(e),c=!o&&!u&&mr(e),d=!o&&!u&&!c&&an(e),v=o||u||c||d,_=v?xo(e.length,hv):[],S=_.length;for(var A in e)(n||ge.call(e,A))&&!(v&&(A=="length"||c&&(A=="offset"||A=="parent")||d&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Vt(A,S)))&&_.push(A);return _}function Kf(e){var n=e.length;return n?e[Uo(0,n-1)]:t}function n_(e,n){return as(et(e),kr(n,0,e.length))}function i_(e){return as(et(e))}function ko(e,n,o){(o!==t&&!Rt(e[n],o)||o===t&&!(n in e))&&zt(e,n,o)}function Un(e,n,o){var u=e[n];(!(ge.call(e,n)&&Rt(u,o))||o===t&&!(n in e))&&zt(e,n,o)}function Yi(e,n){for(var o=e.length;o--;)if(Rt(e[o][0],n))return o;return-1}function s_(e,n,o,u){return hr(e,function(c,d,v){n(u,c,o(c),v)}),u}function Yf(e,n){return e&&Mt(n,Pe(n),e)}function o_(e,n){return e&&Mt(n,rt(n),e)}function zt(e,n,o){n=="__proto__"&&Wi?Wi(e,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[n]=o}function Lo(e,n){for(var o=-1,u=n.length,c=x(u),d=e==null;++o<u;)c[o]=d?t:ha(e,n[o]);return c}function kr(e,n,o){return e===e&&(o!==t&&(e=e<=o?e:o),n!==t&&(e=e>=n?e:n)),e}function wt(e,n,o,u,c,d){var v,_=n&m,S=n&y,A=n&b;if(o&&(v=c?o(e,u,c,d):o(e)),v!==t)return v;if(!Ce(e))return e;var $=X(e);if($){if(v=Y_(e),!_)return et(e,v)}else{var F=ze(e),B=F==Ti||F==Vu;if(mr(e))return _c(e,_);if(F==Gt||F==Te||B&&!c){if(v=S||B?{}:Pc(e),!_)return S?P_(e,o_(v,e)):N_(e,Yf(v,e))}else{if(!ye[F])return c?e:{};v=V_(e,F,_)}}d||(d=new Lt);var G=d.get(e);if(G)return G;d.set(e,v),hl(e)?e.forEach(function(Y){v.add(wt(Y,n,o,Y,e,d))}):cl(e)&&e.forEach(function(Y,ne){v.set(ne,wt(Y,n,o,ne,e,d))});var K=A?S?Zo:Xo:S?rt:Pe,ee=$?t:K(e);return vt(ee||e,function(Y,ne){ee&&(ne=Y,Y=e[ne]),Un(v,ne,wt(Y,n,o,ne,e,d))}),v}function a_(e){var n=Pe(e);return function(o){return Vf(o,e,n)}}function Vf(e,n,o){var u=o.length;if(e==null)return!u;for(e=me(e);u--;){var c=o[u],d=n[c],v=e[c];if(v===t&&!(c in e)||!d(v))return!1}return!0}function Jf(e,n,o){if(typeof e!="function")throw new _t(a);return Yn(function(){e.apply(t,o)},n)}function Wn(e,n,o,u){var c=-1,d=ki,v=!0,_=e.length,S=[],A=n.length;if(!_)return S;o&&(n=xe(n,at(o))),u?(d=_o,v=!1):n.length>=i&&(d=Dn,v=!1,n=new Ir(n));e:for(;++c<_;){var $=e[c],F=o==null?$:o($);if($=u||$!==0?$:0,v&&F===F){for(var B=A;B--;)if(n[B]===F)continue e;S.push($)}else d(n,F,u)||S.push($)}return S}var hr=Ec(Pt),Xf=Ec(Fo,!0);function u_(e,n){var o=!0;return hr(e,function(u,c,d){return o=!!n(u,c,d),o}),o}function Vi(e,n,o){for(var u=-1,c=e.length;++u<c;){var d=e[u],v=n(d);if(v!=null&&(_===t?v===v&&!ft(v):o(v,_)))var _=v,S=d}return S}function f_(e,n,o,u){var c=e.length;for(o=Q(o),o<0&&(o=-o>c?0:c+o),u=u===t||u>c?c:Q(u),u<0&&(u+=c),u=o>u?0:gl(u);o<u;)e[o++]=n;return e}function Zf(e,n){var o=[];return hr(e,function(u,c,d){n(u,c,d)&&o.push(u)}),o}function Ue(e,n,o,u,c){var d=-1,v=e.length;for(o||(o=X_),c||(c=[]);++d<v;){var _=e[d];n>0&&o(_)?n>1?Ue(_,n-1,o,u,c):ur(c,_):u||(c[c.length]=_)}return c}var Ro=xc(),Qf=xc(!0);function Pt(e,n){return e&&Ro(e,n,Pe)}function Fo(e,n){return e&&Qf(e,n,Pe)}function Ji(e,n){return ar(n,function(o){return Jt(e[o])})}function Lr(e,n){n=gr(n,e);for(var o=0,u=n.length;e!=null&&o<u;)e=e[Bt(n[o++])];return o&&o==u?e:t}function ec(e,n,o){var u=n(e);return X(e)?u:ur(u,o(e))}function Ye(e){return e==null?e===t?Mp:Np:Ar&&Ar in me(e)?H_(e):i0(e)}function Do(e,n){return e>n}function c_(e,n){return e!=null&&ge.call(e,n)}function l_(e,n){return e!=null&&n in me(e)}function h_(e,n,o){return e>=He(n,o)&&e<Le(n,o)}function No(e,n,o){for(var u=o?_o:ki,c=e[0].length,d=e.length,v=d,_=x(d),S=1/0,A=[];v--;){var $=e[v];v&&n&&($=xe($,at(n))),S=He($.length,S),_[v]=!o&&(n||c>=120&&$.length>=120)?new Ir(v&&$):t}$=e[0];var F=-1,B=_[0];e:for(;++F<c&&A.length<S;){var G=$[F],K=n?n(G):G;if(G=o||G!==0?G:0,!(B?Dn(B,K):u(A,K,o))){for(v=d;--v;){var ee=_[v];if(!(ee?Dn(ee,K):u(e[v],K,o)))continue e}B&&B.push(K),A.push(G)}}return A}function d_(e,n,o,u){return Pt(e,function(c,d,v){n(u,o(c),d,v)}),u}function Gn(e,n,o){n=gr(n,e),e=Uc(e,n);var u=e==null?e:e[Bt(St(n))];return u==null?t:ot(u,e,o)}function tc(e){return Oe(e)&&Ye(e)==Te}function g_(e){return Oe(e)&&Ye(e)==Fn}function p_(e){return Oe(e)&&Ye(e)==At}function jn(e,n,o,u,c){return e===n?!0:e==null||n==null||!Oe(e)&&!Oe(n)?e!==e&&n!==n:m_(e,n,o,u,jn,c)}function m_(e,n,o,u,c,d){var v=X(e),_=X(n),S=v?qe:ze(e),A=_?qe:ze(n);S=S==Te?Gt:S,A=A==Te?Gt:A;var $=S==Gt,F=A==Gt,B=S==A;if(B&&mr(e)){if(!mr(n))return!1;v=!0,$=!1}if(B&&!$)return d||(d=new Lt),v||an(e)?Fc(e,n,o,u,c,d):G_(e,n,S,o,u,c,d);if(!(o&E)){var G=$&&ge.call(e,"__wrapped__"),K=F&&ge.call(n,"__wrapped__");if(G||K){var ee=G?e.value():e,Y=K?n.value():n;return d||(d=new Lt),c(ee,Y,o,u,d)}}return B?(d||(d=new Lt),j_(e,n,o,u,c,d)):!1}function v_(e){return Oe(e)&&ze(e)==$t}function Po(e,n,o,u){var c=o.length,d=c,v=!u;if(e==null)return!d;for(e=me(e);c--;){var _=o[c];if(v&&_[2]?_[1]!==e[_[0]]:!(_[0]in e))return!1}for(;++c<d;){_=o[c];var S=_[0],A=e[S],$=_[1];if(v&&_[2]){if(A===t&&!(S in e))return!1}else{var F=new Lt;if(u)var B=u(A,$,S,e,n,F);if(!(B===t?jn($,A,E|C,u,F):B))return!1}}return!0}function rc(e){if(!Ce(e)||Q_(e))return!1;var n=Jt(e)?vv:am;return n.test(Fr(e))}function __(e){return Oe(e)&&Ye(e)==kn}function y_(e){return Oe(e)&&ze(e)==It}function w_(e){return Oe(e)&&ds(e.length)&&!!be[Ye(e)]}function nc(e){return typeof e=="function"?e:e==null?nt:typeof e=="object"?X(e)?oc(e[0],e[1]):sc(e):Cl(e)}function Mo(e){if(!Kn(e))return Ev(e);var n=[];for(var o in me(e))ge.call(e,o)&&o!="constructor"&&n.push(o);return n}function b_(e){if(!Ce(e))return n0(e);var n=Kn(e),o=[];for(var u in e)u=="constructor"&&(n||!ge.call(e,u))||o.push(u);return o}function Bo(e,n){return e<n}function ic(e,n){var o=-1,u=tt(e)?x(e.length):[];return hr(e,function(c,d,v){u[++o]=n(c,d,v)}),u}function sc(e){var n=ea(e);return n.length==1&&n[0][2]?Bc(n[0][0],n[0][1]):function(o){return o===e||Po(o,e,n)}}function oc(e,n){return ra(e)&&Mc(n)?Bc(Bt(e),n):function(o){var u=ha(o,e);return u===t&&u===n?da(o,e):jn(n,u,E|C)}}function Xi(e,n,o,u,c){e!==n&&Ro(n,function(d,v){if(c||(c=new Lt),Ce(d))S_(e,n,v,o,Xi,u,c);else{var _=u?u(ia(e,v),d,v+"",e,n,c):t;_===t&&(_=d),ko(e,v,_)}},rt)}function S_(e,n,o,u,c,d,v){var _=ia(e,o),S=ia(n,o),A=v.get(S);if(A){ko(e,o,A);return}var $=d?d(_,S,o+"",e,n,v):t,F=$===t;if(F){var B=X(S),G=!B&&mr(S),K=!B&&!G&&an(S);$=S,B||G||K?X(_)?$=_:$e(_)?$=et(_):G?(F=!1,$=_c(S,!0)):K?(F=!1,$=yc(S,!0)):$=[]:Vn(S)||Dr(S)?($=_,Dr(_)?$=pl(_):(!Ce(_)||Jt(_))&&($=Pc(S))):F=!1}F&&(v.set(S,$),c($,S,u,d,v),v.delete(S)),ko(e,o,$)}function ac(e,n){var o=e.length;if(!!o)return n+=n<0?o:0,Vt(n,o)?e[n]:t}function uc(e,n,o){n.length?n=xe(n,function(d){return X(d)?function(v){return Lr(v,d.length===1?d[0]:d)}:d}):n=[nt];var u=-1;n=xe(n,at(z()));var c=ic(e,function(d,v,_){var S=xe(n,function(A){return A(d)});return{criteria:S,index:++u,value:d}});return Vm(c,function(d,v){return D_(d,v,o)})}function E_(e,n){return fc(e,n,function(o,u){return da(e,u)})}function fc(e,n,o){for(var u=-1,c=n.length,d={};++u<c;){var v=n[u],_=Lr(e,v);o(_,v)&&Hn(d,gr(v,e),_)}return d}function x_(e){return function(n){return Lr(n,e)}}function qo(e,n,o,u){var c=u?Ym:Jr,d=-1,v=n.length,_=e;for(e===n&&(n=et(n)),o&&(_=xe(e,at(o)));++d<v;)for(var S=0,A=n[d],$=o?o(A):A;(S=c(_,$,S,u))>-1;)_!==e&&Ui.call(_,S,1),Ui.call(e,S,1);return e}function cc(e,n){for(var o=e?n.length:0,u=o-1;o--;){var c=n[o];if(o==u||c!==d){var d=c;Vt(c)?Ui.call(e,c,1):jo(e,c)}}return e}function Uo(e,n){return e+ji(jf()*(n-e+1))}function C_(e,n,o,u){for(var c=-1,d=Le(Gi((n-e)/(o||1)),0),v=x(d);d--;)v[u?d:++c]=e,e+=o;return v}function Wo(e,n){var o="";if(!e||n<1||n>ue)return o;do n%2&&(o+=e),n=ji(n/2),n&&(e+=e);while(n);return o}function te(e,n){return sa(qc(e,n,nt),e+"")}function T_(e){return Kf(un(e))}function O_(e,n){var o=un(e);return as(o,kr(n,0,o.length))}function Hn(e,n,o,u){if(!Ce(e))return e;n=gr(n,e);for(var c=-1,d=n.length,v=d-1,_=e;_!=null&&++c<d;){var S=Bt(n[c]),A=o;if(S==="__proto__"||S==="constructor"||S==="prototype")return e;if(c!=v){var $=_[S];A=u?u($,S,_):t,A===t&&(A=Ce($)?$:Vt(n[c+1])?[]:{})}Un(_,S,A),_=_[S]}return e}var lc=Hi?function(e,n){return Hi.set(e,n),e}:nt,A_=Wi?function(e,n){return Wi(e,"toString",{configurable:!0,enumerable:!1,value:pa(n),writable:!0})}:nt;function $_(e){return as(un(e))}function bt(e,n,o){var u=-1,c=e.length;n<0&&(n=-n>c?0:c+n),o=o>c?c:o,o<0&&(o+=c),c=n>o?0:o-n>>>0,n>>>=0;for(var d=x(c);++u<c;)d[u]=e[u+n];return d}function I_(e,n){var o;return hr(e,function(u,c,d){return o=n(u,c,d),!o}),!!o}function Zi(e,n,o){var u=0,c=e==null?u:e.length;if(typeof n=="number"&&n===n&&c<=j){for(;u<c;){var d=u+c>>>1,v=e[d];v!==null&&!ft(v)&&(o?v<=n:v<n)?u=d+1:c=d}return c}return Go(e,n,nt,o)}function Go(e,n,o,u){var c=0,d=e==null?0:e.length;if(d===0)return 0;n=o(n);for(var v=n!==n,_=n===null,S=ft(n),A=n===t;c<d;){var $=ji((c+d)/2),F=o(e[$]),B=F!==t,G=F===null,K=F===F,ee=ft(F);if(v)var Y=u||K;else A?Y=K&&(u||B):_?Y=K&&B&&(u||!G):S?Y=K&&B&&!G&&(u||!ee):G||ee?Y=!1:Y=u?F<=n:F<n;Y?c=$+1:d=$}return He(d,H)}function hc(e,n){for(var o=-1,u=e.length,c=0,d=[];++o<u;){var v=e[o],_=n?n(v):v;if(!o||!Rt(_,S)){var S=_;d[c++]=v===0?0:v}}return d}function dc(e){return typeof e=="number"?e:ft(e)?k:+e}function ut(e){if(typeof e=="string")return e;if(X(e))return xe(e,ut)+"";if(ft(e))return Hf?Hf.call(e):"";var n=e+"";return n=="0"&&1/e==-je?"-0":n}function dr(e,n,o){var u=-1,c=ki,d=e.length,v=!0,_=[],S=_;if(o)v=!1,c=_o;else if(d>=i){var A=n?null:U_(e);if(A)return Ri(A);v=!1,c=Dn,S=new Ir}else S=n?[]:_;e:for(;++u<d;){var $=e[u],F=n?n($):$;if($=o||$!==0?$:0,v&&F===F){for(var B=S.length;B--;)if(S[B]===F)continue e;n&&S.push(F),_.push($)}else c(S,F,o)||(S!==_&&S.push(F),_.push($))}return _}function jo(e,n){return n=gr(n,e),e=Uc(e,n),e==null||delete e[Bt(St(n))]}function gc(e,n,o,u){return Hn(e,n,o(Lr(e,n)),u)}function Qi(e,n,o,u){for(var c=e.length,d=u?c:-1;(u?d--:++d<c)&&n(e[d],d,e););return o?bt(e,u?0:d,u?d+1:c):bt(e,u?d+1:0,u?c:d)}function pc(e,n){var o=e;return o instanceof ie&&(o=o.value()),yo(n,function(u,c){return c.func.apply(c.thisArg,ur([u],c.args))},o)}function Ho(e,n,o){var u=e.length;if(u<2)return u?dr(e[0]):[];for(var c=-1,d=x(u);++c<u;)for(var v=e[c],_=-1;++_<u;)_!=c&&(d[c]=Wn(d[c]||v,e[_],n,o));return dr(Ue(d,1),n,o)}function mc(e,n,o){for(var u=-1,c=e.length,d=n.length,v={};++u<c;){var _=u<d?n[u]:t;o(v,e[u],_)}return v}function zo(e){return $e(e)?e:[]}function Ko(e){return typeof e=="function"?e:nt}function gr(e,n){return X(e)?e:ra(e,n)?[e]:Hc(le(e))}var k_=te;function pr(e,n,o){var u=e.length;return o=o===t?u:o,!n&&o>=u?e:bt(e,n,o)}var vc=_v||function(e){return Ne.clearTimeout(e)};function _c(e,n){if(n)return e.slice();var o=e.length,u=Bf?Bf(o):new e.constructor(o);return e.copy(u),u}function Yo(e){var n=new e.constructor(e.byteLength);return new Bi(n).set(new Bi(e)),n}function L_(e,n){var o=n?Yo(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function R_(e){var n=new e.constructor(e.source,ef.exec(e));return n.lastIndex=e.lastIndex,n}function F_(e){return qn?me(qn.call(e)):{}}function yc(e,n){var o=n?Yo(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function wc(e,n){if(e!==n){var o=e!==t,u=e===null,c=e===e,d=ft(e),v=n!==t,_=n===null,S=n===n,A=ft(n);if(!_&&!A&&!d&&e>n||d&&v&&S&&!_&&!A||u&&v&&S||!o&&S||!c)return 1;if(!u&&!d&&!A&&e<n||A&&o&&c&&!u&&!d||_&&o&&c||!v&&c||!S)return-1}return 0}function D_(e,n,o){for(var u=-1,c=e.criteria,d=n.criteria,v=c.length,_=o.length;++u<v;){var S=wc(c[u],d[u]);if(S){if(u>=_)return S;var A=o[u];return S*(A=="desc"?-1:1)}}return e.index-n.index}function bc(e,n,o,u){for(var c=-1,d=e.length,v=o.length,_=-1,S=n.length,A=Le(d-v,0),$=x(S+A),F=!u;++_<S;)$[_]=n[_];for(;++c<v;)(F||c<d)&&($[o[c]]=e[c]);for(;A--;)$[_++]=e[c++];return $}function Sc(e,n,o,u){for(var c=-1,d=e.length,v=-1,_=o.length,S=-1,A=n.length,$=Le(d-_,0),F=x($+A),B=!u;++c<$;)F[c]=e[c];for(var G=c;++S<A;)F[G+S]=n[S];for(;++v<_;)(B||c<d)&&(F[G+o[v]]=e[c++]);return F}function et(e,n){var o=-1,u=e.length;for(n||(n=x(u));++o<u;)n[o]=e[o];return n}function Mt(e,n,o,u){var c=!o;o||(o={});for(var d=-1,v=n.length;++d<v;){var _=n[d],S=u?u(o[_],e[_],_,o,e):t;S===t&&(S=e[_]),c?zt(o,_,S):Un(o,_,S)}return o}function N_(e,n){return Mt(e,ta(e),n)}function P_(e,n){return Mt(e,Dc(e),n)}function es(e,n){return function(o,u){var c=X(o)?Wm:s_,d=n?n():{};return c(o,e,z(u,2),d)}}function nn(e){return te(function(n,o){var u=-1,c=o.length,d=c>1?o[c-1]:t,v=c>2?o[2]:t;for(d=e.length>3&&typeof d=="function"?(c--,d):t,v&&Ve(o[0],o[1],v)&&(d=c<3?t:d,c=1),n=me(n);++u<c;){var _=o[u];_&&e(n,_,u,d)}return n})}function Ec(e,n){return function(o,u){if(o==null)return o;if(!tt(o))return e(o,u);for(var c=o.length,d=n?c:-1,v=me(o);(n?d--:++d<c)&&u(v[d],d,v)!==!1;);return o}}function xc(e){return function(n,o,u){for(var c=-1,d=me(n),v=u(n),_=v.length;_--;){var S=v[e?_:++c];if(o(d[S],S,d)===!1)break}return n}}function M_(e,n,o){var u=n&O,c=zn(e);function d(){var v=this&&this!==Ne&&this instanceof d?c:e;return v.apply(u?o:this,arguments)}return d}function Cc(e){return function(n){n=le(n);var o=Xr(n)?kt(n):t,u=o?o[0]:n.charAt(0),c=o?pr(o,1).join(""):n.slice(1);return u[e]()+c}}function sn(e){return function(n){return yo(El(Sl(n).replace(Am,"")),e,"")}}function zn(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var o=rn(e.prototype),u=e.apply(o,n);return Ce(u)?u:o}}function B_(e,n,o){var u=zn(e);function c(){for(var d=arguments.length,v=x(d),_=d,S=on(c);_--;)v[_]=arguments[_];var A=d<3&&v[0]!==S&&v[d-1]!==S?[]:fr(v,S);if(d-=A.length,d<o)return Ic(e,n,ts,c.placeholder,t,v,A,t,t,o-d);var $=this&&this!==Ne&&this instanceof c?u:e;return ot($,this,v)}return c}function Tc(e){return function(n,o,u){var c=me(n);if(!tt(n)){var d=z(o,3);n=Pe(n),o=function(_){return d(c[_],_,c)}}var v=e(n,o,u);return v>-1?c[d?n[v]:v]:t}}function Oc(e){return Yt(function(n){var o=n.length,u=o,c=yt.prototype.thru;for(e&&n.reverse();u--;){var d=n[u];if(typeof d!="function")throw new _t(a);if(c&&!v&&ss(d)=="wrapper")var v=new yt([],!0)}for(u=v?u:o;++u<o;){d=n[u];var _=ss(d),S=_=="wrapper"?Qo(d):t;S&&na(S[0])&&S[1]==(V|N|M|oe)&&!S[4].length&&S[9]==1?v=v[ss(S[0])].apply(v,S[3]):v=d.length==1&&na(d)?v[_]():v.thru(d)}return function(){var A=arguments,$=A[0];if(v&&A.length==1&&X($))return v.plant($).value();for(var F=0,B=o?n[F].apply(this,A):$;++F<o;)B=n[F].call(this,B);return B}})}function ts(e,n,o,u,c,d,v,_,S,A){var $=n&V,F=n&O,B=n&L,G=n&(N|P),K=n&fe,ee=B?t:zn(e);function Y(){for(var ne=arguments.length,se=x(ne),ct=ne;ct--;)se[ct]=arguments[ct];if(G)var Je=on(Y),lt=Xm(se,Je);if(u&&(se=bc(se,u,c,G)),d&&(se=Sc(se,d,v,G)),ne-=lt,G&&ne<A){var Ie=fr(se,Je);return Ic(e,n,ts,Y.placeholder,o,se,Ie,_,S,A-ne)}var Ft=F?o:this,Zt=B?Ft[e]:e;return ne=se.length,_?se=s0(se,_):K&&ne>1&&se.reverse(),$&&S<ne&&(se.length=S),this&&this!==Ne&&this instanceof Y&&(Zt=ee||zn(Zt)),Zt.apply(Ft,se)}return Y}function Ac(e,n){return function(o,u){return d_(o,e,n(u),{})}}function rs(e,n){return function(o,u){var c;if(o===t&&u===t)return n;if(o!==t&&(c=o),u!==t){if(c===t)return u;typeof o=="string"||typeof u=="string"?(o=ut(o),u=ut(u)):(o=dc(o),u=dc(u)),c=e(o,u)}return c}}function Vo(e){return Yt(function(n){return n=xe(n,at(z())),te(function(o){var u=this;return e(n,function(c){return ot(c,u,o)})})})}function ns(e,n){n=n===t?" ":ut(n);var o=n.length;if(o<2)return o?Wo(n,e):n;var u=Wo(n,Gi(e/Zr(n)));return Xr(n)?pr(kt(u),0,e).join(""):u.slice(0,e)}function q_(e,n,o,u){var c=n&O,d=zn(e);function v(){for(var _=-1,S=arguments.length,A=-1,$=u.length,F=x($+S),B=this&&this!==Ne&&this instanceof v?d:e;++A<$;)F[A]=u[A];for(;S--;)F[A++]=arguments[++_];return ot(B,c?o:this,F)}return v}function $c(e){return function(n,o,u){return u&&typeof u!="number"&&Ve(n,o,u)&&(o=u=t),n=Xt(n),o===t?(o=n,n=0):o=Xt(o),u=u===t?n<o?1:-1:Xt(u),C_(n,o,u,e)}}function is(e){return function(n,o){return typeof n=="string"&&typeof o=="string"||(n=Et(n),o=Et(o)),e(n,o)}}function Ic(e,n,o,u,c,d,v,_,S,A){var $=n&N,F=$?v:t,B=$?t:v,G=$?d:t,K=$?t:d;n|=$?M:W,n&=~($?W:M),n&I||(n&=~(O|L));var ee=[e,n,c,G,F,K,B,_,S,A],Y=o.apply(t,ee);return na(e)&&Wc(Y,ee),Y.placeholder=u,Gc(Y,e,n)}function Jo(e){var n=ke[e];return function(o,u){if(o=Et(o),u=u==null?0:He(Q(u),292),u&&Gf(o)){var c=(le(o)+"e").split("e"),d=n(c[0]+"e"+(+c[1]+u));return c=(le(d)+"e").split("e"),+(c[0]+"e"+(+c[1]-u))}return n(o)}}var U_=en&&1/Ri(new en([,-0]))[1]==je?function(e){return new en(e)}:_a;function kc(e){return function(n){var o=ze(n);return o==$t?To(n):o==It?iv(n):Jm(n,e(n))}}function Kt(e,n,o,u,c,d,v,_){var S=n&L;if(!S&&typeof e!="function")throw new _t(a);var A=u?u.length:0;if(A||(n&=~(M|W),u=c=t),v=v===t?v:Le(Q(v),0),_=_===t?_:Q(_),A-=c?c.length:0,n&W){var $=u,F=c;u=c=t}var B=S?t:Qo(e),G=[e,n,o,u,c,$,F,d,v,_];if(B&&r0(G,B),e=G[0],n=G[1],o=G[2],u=G[3],c=G[4],_=G[9]=G[9]===t?S?0:e.length:Le(G[9]-A,0),!_&&n&(N|P)&&(n&=~(N|P)),!n||n==O)var K=M_(e,n,o);else n==N||n==P?K=B_(e,n,_):(n==M||n==(O|M))&&!c.length?K=q_(e,n,o,u):K=ts.apply(t,G);var ee=B?lc:Wc;return Gc(ee(K,G),e,n)}function Lc(e,n,o,u){return e===t||Rt(e,Qr[o])&&!ge.call(u,o)?n:e}function Rc(e,n,o,u,c,d){return Ce(e)&&Ce(n)&&(d.set(n,e),Xi(e,n,t,Rc,d),d.delete(n)),e}function W_(e){return Vn(e)?t:e}function Fc(e,n,o,u,c,d){var v=o&E,_=e.length,S=n.length;if(_!=S&&!(v&&S>_))return!1;var A=d.get(e),$=d.get(n);if(A&&$)return A==n&&$==e;var F=-1,B=!0,G=o&C?new Ir:t;for(d.set(e,n),d.set(n,e);++F<_;){var K=e[F],ee=n[F];if(u)var Y=v?u(ee,K,F,n,e,d):u(K,ee,F,e,n,d);if(Y!==t){if(Y)continue;B=!1;break}if(G){if(!wo(n,function(ne,se){if(!Dn(G,se)&&(K===ne||c(K,ne,o,u,d)))return G.push(se)})){B=!1;break}}else if(!(K===ee||c(K,ee,o,u,d))){B=!1;break}}return d.delete(e),d.delete(n),B}function G_(e,n,o,u,c,d,v){switch(o){case Yr:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Fn:return!(e.byteLength!=n.byteLength||!d(new Bi(e),new Bi(n)));case De:case At:case In:return Rt(+e,+n);case Ci:return e.name==n.name&&e.message==n.message;case kn:case Ln:return e==n+"";case $t:var _=To;case It:var S=u&E;if(_||(_=Ri),e.size!=n.size&&!S)return!1;var A=v.get(e);if(A)return A==n;u|=C,v.set(e,n);var $=Fc(_(e),_(n),u,c,d,v);return v.delete(e),$;case Oi:if(qn)return qn.call(e)==qn.call(n)}return!1}function j_(e,n,o,u,c,d){var v=o&E,_=Xo(e),S=_.length,A=Xo(n),$=A.length;if(S!=$&&!v)return!1;for(var F=S;F--;){var B=_[F];if(!(v?B in n:ge.call(n,B)))return!1}var G=d.get(e),K=d.get(n);if(G&&K)return G==n&&K==e;var ee=!0;d.set(e,n),d.set(n,e);for(var Y=v;++F<S;){B=_[F];var ne=e[B],se=n[B];if(u)var ct=v?u(se,ne,B,n,e,d):u(ne,se,B,e,n,d);if(!(ct===t?ne===se||c(ne,se,o,u,d):ct)){ee=!1;break}Y||(Y=B=="constructor")}if(ee&&!Y){var Je=e.constructor,lt=n.constructor;Je!=lt&&"constructor"in e&&"constructor"in n&&!(typeof Je=="function"&&Je instanceof Je&&typeof lt=="function"&&lt instanceof lt)&&(ee=!1)}return d.delete(e),d.delete(n),ee}function Yt(e){return sa(qc(e,t,Vc),e+"")}function Xo(e){return ec(e,Pe,ta)}function Zo(e){return ec(e,rt,Dc)}var Qo=Hi?function(e){return Hi.get(e)}:_a;function ss(e){for(var n=e.name+"",o=tn[n],u=ge.call(tn,n)?o.length:0;u--;){var c=o[u],d=c.func;if(d==null||d==e)return c.name}return n}function on(e){var n=ge.call(h,"placeholder")?h:e;return n.placeholder}function z(){var e=h.iteratee||ma;return e=e===ma?nc:e,arguments.length?e(arguments[0],arguments[1]):e}function os(e,n){var o=e.__data__;return Z_(n)?o[typeof n=="string"?"string":"hash"]:o.map}function ea(e){for(var n=Pe(e),o=n.length;o--;){var u=n[o],c=e[u];n[o]=[u,c,Mc(c)]}return n}function Rr(e,n){var o=tv(e,n);return rc(o)?o:t}function H_(e){var n=ge.call(e,Ar),o=e[Ar];try{e[Ar]=t;var u=!0}catch{}var c=Pi.call(e);return u&&(n?e[Ar]=o:delete e[Ar]),c}var ta=Ao?function(e){return e==null?[]:(e=me(e),ar(Ao(e),function(n){return Uf.call(e,n)}))}:ya,Dc=Ao?function(e){for(var n=[];e;)ur(n,ta(e)),e=qi(e);return n}:ya,ze=Ye;($o&&ze(new $o(new ArrayBuffer(1)))!=Yr||Pn&&ze(new Pn)!=$t||Io&&ze(Io.resolve())!=Ju||en&&ze(new en)!=It||Mn&&ze(new Mn)!=Rn)&&(ze=function(e){var n=Ye(e),o=n==Gt?e.constructor:t,u=o?Fr(o):"";if(u)switch(u){case Ov:return Yr;case Av:return $t;case $v:return Ju;case Iv:return It;case kv:return Rn}return n});function z_(e,n,o){for(var u=-1,c=o.length;++u<c;){var d=o[u],v=d.size;switch(d.type){case"drop":e+=v;break;case"dropRight":n-=v;break;case"take":n=He(n,e+v);break;case"takeRight":e=Le(e,n-v);break}}return{start:e,end:n}}function K_(e){var n=e.match(Qp);return n?n[1].split(em):[]}function Nc(e,n,o){n=gr(n,e);for(var u=-1,c=n.length,d=!1;++u<c;){var v=Bt(n[u]);if(!(d=e!=null&&o(e,v)))break;e=e[v]}return d||++u!=c?d:(c=e==null?0:e.length,!!c&&ds(c)&&Vt(v,c)&&(X(e)||Dr(e)))}function Y_(e){var n=e.length,o=new e.constructor(n);return n&&typeof e[0]=="string"&&ge.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function Pc(e){return typeof e.constructor=="function"&&!Kn(e)?rn(qi(e)):{}}function V_(e,n,o){var u=e.constructor;switch(n){case Fn:return Yo(e);case De:case At:return new u(+e);case Yr:return L_(e,o);case Qs:case eo:case to:case ro:case no:case io:case so:case oo:case ao:return yc(e,o);case $t:return new u;case In:case Ln:return new u(e);case kn:return R_(e);case It:return new u;case Oi:return F_(e)}}function J_(e,n){var o=n.length;if(!o)return e;var u=o-1;return n[u]=(o>1?"& ":"")+n[u],n=n.join(o>2?", ":" "),e.replace(Zp,`{
/* [wrapped with `+n+`] */
`)}function X_(e){return X(e)||Dr(e)||!!(Wf&&e&&e[Wf])}function Vt(e,n){var o=typeof e;return n=n==null?ue:n,!!n&&(o=="number"||o!="symbol"&&fm.test(e))&&e>-1&&e%1==0&&e<n}function Ve(e,n,o){if(!Ce(o))return!1;var u=typeof n;return(u=="number"?tt(o)&&Vt(n,o.length):u=="string"&&n in o)?Rt(o[n],e):!1}function ra(e,n){if(X(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||ft(e)?!0:Yp.test(e)||!Kp.test(e)||n!=null&&e in me(n)}function Z_(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function na(e){var n=ss(e),o=h[n];if(typeof o!="function"||!(n in ie.prototype))return!1;if(e===o)return!0;var u=Qo(o);return!!u&&e===u[0]}function Q_(e){return!!Mf&&Mf in e}var e0=Di?Jt:wa;function Kn(e){var n=e&&e.constructor,o=typeof n=="function"&&n.prototype||Qr;return e===o}function Mc(e){return e===e&&!Ce(e)}function Bc(e,n){return function(o){return o==null?!1:o[e]===n&&(n!==t||e in me(o))}}function t0(e){var n=ls(e,function(u){return o.size===g&&o.clear(),u}),o=n.cache;return n}function r0(e,n){var o=e[1],u=n[1],c=o|u,d=c<(O|L|V),v=u==V&&o==N||u==V&&o==oe&&e[7].length<=n[8]||u==(V|oe)&&n[7].length<=n[8]&&o==N;if(!(d||v))return e;u&O&&(e[2]=n[2],c|=o&O?0:I);var _=n[3];if(_){var S=e[3];e[3]=S?bc(S,_,n[4]):_,e[4]=S?fr(e[3],p):n[4]}return _=n[5],_&&(S=e[5],e[5]=S?Sc(S,_,n[6]):_,e[6]=S?fr(e[5],p):n[6]),_=n[7],_&&(e[7]=_),u&V&&(e[8]=e[8]==null?n[8]:He(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=c,e}function n0(e){var n=[];if(e!=null)for(var o in me(e))n.push(o);return n}function i0(e){return Pi.call(e)}function qc(e,n,o){return n=Le(n===t?e.length-1:n,0),function(){for(var u=arguments,c=-1,d=Le(u.length-n,0),v=x(d);++c<d;)v[c]=u[n+c];c=-1;for(var _=x(n+1);++c<n;)_[c]=u[c];return _[n]=o(v),ot(e,this,_)}}function Uc(e,n){return n.length<2?e:Lr(e,bt(n,0,-1))}function s0(e,n){for(var o=e.length,u=He(n.length,o),c=et(e);u--;){var d=n[u];e[u]=Vt(d,o)?c[d]:t}return e}function ia(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Wc=jc(lc),Yn=wv||function(e,n){return Ne.setTimeout(e,n)},sa=jc(A_);function Gc(e,n,o){var u=n+"";return sa(e,J_(u,o0(K_(u),o)))}function jc(e){var n=0,o=0;return function(){var u=xv(),c=pt-(u-o);if(o=u,c>0){if(++n>=gt)return arguments[0]}else n=0;return e.apply(t,arguments)}}function as(e,n){var o=-1,u=e.length,c=u-1;for(n=n===t?u:n;++o<n;){var d=Uo(o,c),v=e[d];e[d]=e[o],e[o]=v}return e.length=n,e}var Hc=t0(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Vp,function(o,u,c,d){n.push(c?d.replace(nm,"$1"):u||o)}),n});function Bt(e){if(typeof e=="string"||ft(e))return e;var n=e+"";return n=="0"&&1/e==-je?"-0":n}function Fr(e){if(e!=null){try{return Ni.call(e)}catch{}try{return e+""}catch{}}return""}function o0(e,n){return vt(we,function(o){var u="_."+o[0];n&o[1]&&!ki(e,u)&&e.push(u)}),e.sort()}function zc(e){if(e instanceof ie)return e.clone();var n=new yt(e.__wrapped__,e.__chain__);return n.__actions__=et(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function a0(e,n,o){(o?Ve(e,n,o):n===t)?n=1:n=Le(Q(n),0);var u=e==null?0:e.length;if(!u||n<1)return[];for(var c=0,d=0,v=x(Gi(u/n));c<u;)v[d++]=bt(e,c,c+=n);return v}function u0(e){for(var n=-1,o=e==null?0:e.length,u=0,c=[];++n<o;){var d=e[n];d&&(c[u++]=d)}return c}function f0(){var e=arguments.length;if(!e)return[];for(var n=x(e-1),o=arguments[0],u=e;u--;)n[u-1]=arguments[u];return ur(X(o)?et(o):[o],Ue(n,1))}var c0=te(function(e,n){return $e(e)?Wn(e,Ue(n,1,$e,!0)):[]}),l0=te(function(e,n){var o=St(n);return $e(o)&&(o=t),$e(e)?Wn(e,Ue(n,1,$e,!0),z(o,2)):[]}),h0=te(function(e,n){var o=St(n);return $e(o)&&(o=t),$e(e)?Wn(e,Ue(n,1,$e,!0),t,o):[]});function d0(e,n,o){var u=e==null?0:e.length;return u?(n=o||n===t?1:Q(n),bt(e,n<0?0:n,u)):[]}function g0(e,n,o){var u=e==null?0:e.length;return u?(n=o||n===t?1:Q(n),n=u-n,bt(e,0,n<0?0:n)):[]}function p0(e,n){return e&&e.length?Qi(e,z(n,3),!0,!0):[]}function m0(e,n){return e&&e.length?Qi(e,z(n,3),!0):[]}function v0(e,n,o,u){var c=e==null?0:e.length;return c?(o&&typeof o!="number"&&Ve(e,n,o)&&(o=0,u=c),f_(e,n,o,u)):[]}function Kc(e,n,o){var u=e==null?0:e.length;if(!u)return-1;var c=o==null?0:Q(o);return c<0&&(c=Le(u+c,0)),Li(e,z(n,3),c)}function Yc(e,n,o){var u=e==null?0:e.length;if(!u)return-1;var c=u-1;return o!==t&&(c=Q(o),c=o<0?Le(u+c,0):He(c,u-1)),Li(e,z(n,3),c,!0)}function Vc(e){var n=e==null?0:e.length;return n?Ue(e,1):[]}function _0(e){var n=e==null?0:e.length;return n?Ue(e,je):[]}function y0(e,n){var o=e==null?0:e.length;return o?(n=n===t?1:Q(n),Ue(e,n)):[]}function w0(e){for(var n=-1,o=e==null?0:e.length,u={};++n<o;){var c=e[n];u[c[0]]=c[1]}return u}function Jc(e){return e&&e.length?e[0]:t}function b0(e,n,o){var u=e==null?0:e.length;if(!u)return-1;var c=o==null?0:Q(o);return c<0&&(c=Le(u+c,0)),Jr(e,n,c)}function S0(e){var n=e==null?0:e.length;return n?bt(e,0,-1):[]}var E0=te(function(e){var n=xe(e,zo);return n.length&&n[0]===e[0]?No(n):[]}),x0=te(function(e){var n=St(e),o=xe(e,zo);return n===St(o)?n=t:o.pop(),o.length&&o[0]===e[0]?No(o,z(n,2)):[]}),C0=te(function(e){var n=St(e),o=xe(e,zo);return n=typeof n=="function"?n:t,n&&o.pop(),o.length&&o[0]===e[0]?No(o,t,n):[]});function T0(e,n){return e==null?"":Sv.call(e,n)}function St(e){var n=e==null?0:e.length;return n?e[n-1]:t}function O0(e,n,o){var u=e==null?0:e.length;if(!u)return-1;var c=u;return o!==t&&(c=Q(o),c=c<0?Le(u+c,0):He(c,u-1)),n===n?ov(e,n,c):Li(e,If,c,!0)}function A0(e,n){return e&&e.length?ac(e,Q(n)):t}var $0=te(Xc);function Xc(e,n){return e&&e.length&&n&&n.length?qo(e,n):e}function I0(e,n,o){return e&&e.length&&n&&n.length?qo(e,n,z(o,2)):e}function k0(e,n,o){return e&&e.length&&n&&n.length?qo(e,n,t,o):e}var L0=Yt(function(e,n){var o=e==null?0:e.length,u=Lo(e,n);return cc(e,xe(n,function(c){return Vt(c,o)?+c:c}).sort(wc)),u});function R0(e,n){var o=[];if(!(e&&e.length))return o;var u=-1,c=[],d=e.length;for(n=z(n,3);++u<d;){var v=e[u];n(v,u,e)&&(o.push(v),c.push(u))}return cc(e,c),o}function oa(e){return e==null?e:Tv.call(e)}function F0(e,n,o){var u=e==null?0:e.length;return u?(o&&typeof o!="number"&&Ve(e,n,o)?(n=0,o=u):(n=n==null?0:Q(n),o=o===t?u:Q(o)),bt(e,n,o)):[]}function D0(e,n){return Zi(e,n)}function N0(e,n,o){return Go(e,n,z(o,2))}function P0(e,n){var o=e==null?0:e.length;if(o){var u=Zi(e,n);if(u<o&&Rt(e[u],n))return u}return-1}function M0(e,n){return Zi(e,n,!0)}function B0(e,n,o){return Go(e,n,z(o,2),!0)}function q0(e,n){var o=e==null?0:e.length;if(o){var u=Zi(e,n,!0)-1;if(Rt(e[u],n))return u}return-1}function U0(e){return e&&e.length?hc(e):[]}function W0(e,n){return e&&e.length?hc(e,z(n,2)):[]}function G0(e){var n=e==null?0:e.length;return n?bt(e,1,n):[]}function j0(e,n,o){return e&&e.length?(n=o||n===t?1:Q(n),bt(e,0,n<0?0:n)):[]}function H0(e,n,o){var u=e==null?0:e.length;return u?(n=o||n===t?1:Q(n),n=u-n,bt(e,n<0?0:n,u)):[]}function z0(e,n){return e&&e.length?Qi(e,z(n,3),!1,!0):[]}function K0(e,n){return e&&e.length?Qi(e,z(n,3)):[]}var Y0=te(function(e){return dr(Ue(e,1,$e,!0))}),V0=te(function(e){var n=St(e);return $e(n)&&(n=t),dr(Ue(e,1,$e,!0),z(n,2))}),J0=te(function(e){var n=St(e);return n=typeof n=="function"?n:t,dr(Ue(e,1,$e,!0),t,n)});function X0(e){return e&&e.length?dr(e):[]}function Z0(e,n){return e&&e.length?dr(e,z(n,2)):[]}function Q0(e,n){return n=typeof n=="function"?n:t,e&&e.length?dr(e,t,n):[]}function aa(e){if(!(e&&e.length))return[];var n=0;return e=ar(e,function(o){if($e(o))return n=Le(o.length,n),!0}),xo(n,function(o){return xe(e,bo(o))})}function Zc(e,n){if(!(e&&e.length))return[];var o=aa(e);return n==null?o:xe(o,function(u){return ot(n,t,u)})}var ey=te(function(e,n){return $e(e)?Wn(e,n):[]}),ty=te(function(e){return Ho(ar(e,$e))}),ry=te(function(e){var n=St(e);return $e(n)&&(n=t),Ho(ar(e,$e),z(n,2))}),ny=te(function(e){var n=St(e);return n=typeof n=="function"?n:t,Ho(ar(e,$e),t,n)}),iy=te(aa);function sy(e,n){return mc(e||[],n||[],Un)}function oy(e,n){return mc(e||[],n||[],Hn)}var ay=te(function(e){var n=e.length,o=n>1?e[n-1]:t;return o=typeof o=="function"?(e.pop(),o):t,Zc(e,o)});function Qc(e){var n=h(e);return n.__chain__=!0,n}function uy(e,n){return n(e),e}function us(e,n){return n(e)}var fy=Yt(function(e){var n=e.length,o=n?e[0]:0,u=this.__wrapped__,c=function(d){return Lo(d,e)};return n>1||this.__actions__.length||!(u instanceof ie)||!Vt(o)?this.thru(c):(u=u.slice(o,+o+(n?1:0)),u.__actions__.push({func:us,args:[c],thisArg:t}),new yt(u,this.__chain__).thru(function(d){return n&&!d.length&&d.push(t),d}))});function cy(){return Qc(this)}function ly(){return new yt(this.value(),this.__chain__)}function hy(){this.__values__===t&&(this.__values__=dl(this.value()));var e=this.__index__>=this.__values__.length,n=e?t:this.__values__[this.__index__++];return{done:e,value:n}}function dy(){return this}function gy(e){for(var n,o=this;o instanceof Ki;){var u=zc(o);u.__index__=0,u.__values__=t,n?c.__wrapped__=u:n=u;var c=u;o=o.__wrapped__}return c.__wrapped__=e,n}function py(){var e=this.__wrapped__;if(e instanceof ie){var n=e;return this.__actions__.length&&(n=new ie(this)),n=n.reverse(),n.__actions__.push({func:us,args:[oa],thisArg:t}),new yt(n,this.__chain__)}return this.thru(oa)}function my(){return pc(this.__wrapped__,this.__actions__)}var vy=es(function(e,n,o){ge.call(e,o)?++e[o]:zt(e,o,1)});function _y(e,n,o){var u=X(e)?Af:u_;return o&&Ve(e,n,o)&&(n=t),u(e,z(n,3))}function yy(e,n){var o=X(e)?ar:Zf;return o(e,z(n,3))}var wy=Tc(Kc),by=Tc(Yc);function Sy(e,n){return Ue(fs(e,n),1)}function Ey(e,n){return Ue(fs(e,n),je)}function xy(e,n,o){return o=o===t?1:Q(o),Ue(fs(e,n),o)}function el(e,n){var o=X(e)?vt:hr;return o(e,z(n,3))}function tl(e,n){var o=X(e)?Gm:Xf;return o(e,z(n,3))}var Cy=es(function(e,n,o){ge.call(e,o)?e[o].push(n):zt(e,o,[n])});function Ty(e,n,o,u){e=tt(e)?e:un(e),o=o&&!u?Q(o):0;var c=e.length;return o<0&&(o=Le(c+o,0)),gs(e)?o<=c&&e.indexOf(n,o)>-1:!!c&&Jr(e,n,o)>-1}var Oy=te(function(e,n,o){var u=-1,c=typeof n=="function",d=tt(e)?x(e.length):[];return hr(e,function(v){d[++u]=c?ot(n,v,o):Gn(v,n,o)}),d}),Ay=es(function(e,n,o){zt(e,o,n)});function fs(e,n){var o=X(e)?xe:ic;return o(e,z(n,3))}function $y(e,n,o,u){return e==null?[]:(X(n)||(n=n==null?[]:[n]),o=u?t:o,X(o)||(o=o==null?[]:[o]),uc(e,n,o))}var Iy=es(function(e,n,o){e[o?0:1].push(n)},function(){return[[],[]]});function ky(e,n,o){var u=X(e)?yo:Lf,c=arguments.length<3;return u(e,z(n,4),o,c,hr)}function Ly(e,n,o){var u=X(e)?jm:Lf,c=arguments.length<3;return u(e,z(n,4),o,c,Xf)}function Ry(e,n){var o=X(e)?ar:Zf;return o(e,hs(z(n,3)))}function Fy(e){var n=X(e)?Kf:T_;return n(e)}function Dy(e,n,o){(o?Ve(e,n,o):n===t)?n=1:n=Q(n);var u=X(e)?n_:O_;return u(e,n)}function Ny(e){var n=X(e)?i_:$_;return n(e)}function Py(e){if(e==null)return 0;if(tt(e))return gs(e)?Zr(e):e.length;var n=ze(e);return n==$t||n==It?e.size:Mo(e).length}function My(e,n,o){var u=X(e)?wo:I_;return o&&Ve(e,n,o)&&(n=t),u(e,z(n,3))}var By=te(function(e,n){if(e==null)return[];var o=n.length;return o>1&&Ve(e,n[0],n[1])?n=[]:o>2&&Ve(n[0],n[1],n[2])&&(n=[n[0]]),uc(e,Ue(n,1),[])}),cs=yv||function(){return Ne.Date.now()};function qy(e,n){if(typeof n!="function")throw new _t(a);return e=Q(e),function(){if(--e<1)return n.apply(this,arguments)}}function rl(e,n,o){return n=o?t:n,n=e&&n==null?e.length:n,Kt(e,V,t,t,t,t,n)}function nl(e,n){var o;if(typeof n!="function")throw new _t(a);return e=Q(e),function(){return--e>0&&(o=n.apply(this,arguments)),e<=1&&(n=t),o}}var ua=te(function(e,n,o){var u=O;if(o.length){var c=fr(o,on(ua));u|=M}return Kt(e,u,n,o,c)}),il=te(function(e,n,o){var u=O|L;if(o.length){var c=fr(o,on(il));u|=M}return Kt(n,u,e,o,c)});function sl(e,n,o){n=o?t:n;var u=Kt(e,N,t,t,t,t,t,n);return u.placeholder=sl.placeholder,u}function ol(e,n,o){n=o?t:n;var u=Kt(e,P,t,t,t,t,t,n);return u.placeholder=ol.placeholder,u}function al(e,n,o){var u,c,d,v,_,S,A=0,$=!1,F=!1,B=!0;if(typeof e!="function")throw new _t(a);n=Et(n)||0,Ce(o)&&($=!!o.leading,F="maxWait"in o,d=F?Le(Et(o.maxWait)||0,n):d,B="trailing"in o?!!o.trailing:B);function G(Ie){var Ft=u,Zt=c;return u=c=t,A=Ie,v=e.apply(Zt,Ft),v}function K(Ie){return A=Ie,_=Yn(ne,n),$?G(Ie):v}function ee(Ie){var Ft=Ie-S,Zt=Ie-A,Tl=n-Ft;return F?He(Tl,d-Zt):Tl}function Y(Ie){var Ft=Ie-S,Zt=Ie-A;return S===t||Ft>=n||Ft<0||F&&Zt>=d}function ne(){var Ie=cs();if(Y(Ie))return se(Ie);_=Yn(ne,ee(Ie))}function se(Ie){return _=t,B&&u?G(Ie):(u=c=t,v)}function ct(){_!==t&&vc(_),A=0,u=S=c=_=t}function Je(){return _===t?v:se(cs())}function lt(){var Ie=cs(),Ft=Y(Ie);if(u=arguments,c=this,S=Ie,Ft){if(_===t)return K(S);if(F)return vc(_),_=Yn(ne,n),G(S)}return _===t&&(_=Yn(ne,n)),v}return lt.cancel=ct,lt.flush=Je,lt}var Uy=te(function(e,n){return Jf(e,1,n)}),Wy=te(function(e,n,o){return Jf(e,Et(n)||0,o)});function Gy(e){return Kt(e,fe)}function ls(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new _t(a);var o=function(){var u=arguments,c=n?n.apply(this,u):u[0],d=o.cache;if(d.has(c))return d.get(c);var v=e.apply(this,u);return o.cache=d.set(c,v)||d,v};return o.cache=new(ls.Cache||Ht),o}ls.Cache=Ht;function hs(e){if(typeof e!="function")throw new _t(a);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function jy(e){return nl(2,e)}var Hy=k_(function(e,n){n=n.length==1&&X(n[0])?xe(n[0],at(z())):xe(Ue(n,1),at(z()));var o=n.length;return te(function(u){for(var c=-1,d=He(u.length,o);++c<d;)u[c]=n[c].call(this,u[c]);return ot(e,this,u)})}),fa=te(function(e,n){var o=fr(n,on(fa));return Kt(e,M,t,n,o)}),ul=te(function(e,n){var o=fr(n,on(ul));return Kt(e,W,t,n,o)}),zy=Yt(function(e,n){return Kt(e,oe,t,t,t,n)});function Ky(e,n){if(typeof e!="function")throw new _t(a);return n=n===t?n:Q(n),te(e,n)}function Yy(e,n){if(typeof e!="function")throw new _t(a);return n=n==null?0:Le(Q(n),0),te(function(o){var u=o[n],c=pr(o,0,n);return u&&ur(c,u),ot(e,this,c)})}function Vy(e,n,o){var u=!0,c=!0;if(typeof e!="function")throw new _t(a);return Ce(o)&&(u="leading"in o?!!o.leading:u,c="trailing"in o?!!o.trailing:c),al(e,n,{leading:u,maxWait:n,trailing:c})}function Jy(e){return rl(e,1)}function Xy(e,n){return fa(Ko(n),e)}function Zy(){if(!arguments.length)return[];var e=arguments[0];return X(e)?e:[e]}function Qy(e){return wt(e,b)}function e1(e,n){return n=typeof n=="function"?n:t,wt(e,b,n)}function t1(e){return wt(e,m|b)}function r1(e,n){return n=typeof n=="function"?n:t,wt(e,m|b,n)}function n1(e,n){return n==null||Vf(e,n,Pe(n))}function Rt(e,n){return e===n||e!==e&&n!==n}var i1=is(Do),s1=is(function(e,n){return e>=n}),Dr=tc(function(){return arguments}())?tc:function(e){return Oe(e)&&ge.call(e,"callee")&&!Uf.call(e,"callee")},X=x.isArray,o1=Sf?at(Sf):g_;function tt(e){return e!=null&&ds(e.length)&&!Jt(e)}function $e(e){return Oe(e)&&tt(e)}function a1(e){return e===!0||e===!1||Oe(e)&&Ye(e)==De}var mr=bv||wa,u1=Ef?at(Ef):p_;function f1(e){return Oe(e)&&e.nodeType===1&&!Vn(e)}function c1(e){if(e==null)return!0;if(tt(e)&&(X(e)||typeof e=="string"||typeof e.splice=="function"||mr(e)||an(e)||Dr(e)))return!e.length;var n=ze(e);if(n==$t||n==It)return!e.size;if(Kn(e))return!Mo(e).length;for(var o in e)if(ge.call(e,o))return!1;return!0}function l1(e,n){return jn(e,n)}function h1(e,n,o){o=typeof o=="function"?o:t;var u=o?o(e,n):t;return u===t?jn(e,n,t,o):!!u}function ca(e){if(!Oe(e))return!1;var n=Ye(e);return n==Ci||n==Tr||typeof e.message=="string"&&typeof e.name=="string"&&!Vn(e)}function d1(e){return typeof e=="number"&&Gf(e)}function Jt(e){if(!Ce(e))return!1;var n=Ye(e);return n==Ti||n==Vu||n==st||n==Pp}function fl(e){return typeof e=="number"&&e==Q(e)}function ds(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ue}function Ce(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Oe(e){return e!=null&&typeof e=="object"}var cl=xf?at(xf):v_;function g1(e,n){return e===n||Po(e,n,ea(n))}function p1(e,n,o){return o=typeof o=="function"?o:t,Po(e,n,ea(n),o)}function m1(e){return ll(e)&&e!=+e}function v1(e){if(e0(e))throw new J(s);return rc(e)}function _1(e){return e===null}function y1(e){return e==null}function ll(e){return typeof e=="number"||Oe(e)&&Ye(e)==In}function Vn(e){if(!Oe(e)||Ye(e)!=Gt)return!1;var n=qi(e);if(n===null)return!0;var o=ge.call(n,"constructor")&&n.constructor;return typeof o=="function"&&o instanceof o&&Ni.call(o)==pv}var la=Cf?at(Cf):__;function w1(e){return fl(e)&&e>=-ue&&e<=ue}var hl=Tf?at(Tf):y_;function gs(e){return typeof e=="string"||!X(e)&&Oe(e)&&Ye(e)==Ln}function ft(e){return typeof e=="symbol"||Oe(e)&&Ye(e)==Oi}var an=Of?at(Of):w_;function b1(e){return e===t}function S1(e){return Oe(e)&&ze(e)==Rn}function E1(e){return Oe(e)&&Ye(e)==Bp}var x1=is(Bo),C1=is(function(e,n){return e<=n});function dl(e){if(!e)return[];if(tt(e))return gs(e)?kt(e):et(e);if(Nn&&e[Nn])return nv(e[Nn]());var n=ze(e),o=n==$t?To:n==It?Ri:un;return o(e)}function Xt(e){if(!e)return e===0?e:0;if(e=Et(e),e===je||e===-je){var n=e<0?-1:1;return n*R}return e===e?e:0}function Q(e){var n=Xt(e),o=n%1;return n===n?o?n-o:n:0}function gl(e){return e?kr(Q(e),0,D):0}function Et(e){if(typeof e=="number")return e;if(ft(e))return k;if(Ce(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Ce(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Rf(e);var o=om.test(e);return o||um.test(e)?qm(e.slice(2),o?2:8):sm.test(e)?k:+e}function pl(e){return Mt(e,rt(e))}function T1(e){return e?kr(Q(e),-ue,ue):e===0?e:0}function le(e){return e==null?"":ut(e)}var O1=nn(function(e,n){if(Kn(n)||tt(n)){Mt(n,Pe(n),e);return}for(var o in n)ge.call(n,o)&&Un(e,o,n[o])}),ml=nn(function(e,n){Mt(n,rt(n),e)}),ps=nn(function(e,n,o,u){Mt(n,rt(n),e,u)}),A1=nn(function(e,n,o,u){Mt(n,Pe(n),e,u)}),$1=Yt(Lo);function I1(e,n){var o=rn(e);return n==null?o:Yf(o,n)}var k1=te(function(e,n){e=me(e);var o=-1,u=n.length,c=u>2?n[2]:t;for(c&&Ve(n[0],n[1],c)&&(u=1);++o<u;)for(var d=n[o],v=rt(d),_=-1,S=v.length;++_<S;){var A=v[_],$=e[A];($===t||Rt($,Qr[A])&&!ge.call(e,A))&&(e[A]=d[A])}return e}),L1=te(function(e){return e.push(t,Rc),ot(vl,t,e)});function R1(e,n){return $f(e,z(n,3),Pt)}function F1(e,n){return $f(e,z(n,3),Fo)}function D1(e,n){return e==null?e:Ro(e,z(n,3),rt)}function N1(e,n){return e==null?e:Qf(e,z(n,3),rt)}function P1(e,n){return e&&Pt(e,z(n,3))}function M1(e,n){return e&&Fo(e,z(n,3))}function B1(e){return e==null?[]:Ji(e,Pe(e))}function q1(e){return e==null?[]:Ji(e,rt(e))}function ha(e,n,o){var u=e==null?t:Lr(e,n);return u===t?o:u}function U1(e,n){return e!=null&&Nc(e,n,c_)}function da(e,n){return e!=null&&Nc(e,n,l_)}var W1=Ac(function(e,n,o){n!=null&&typeof n.toString!="function"&&(n=Pi.call(n)),e[n]=o},pa(nt)),G1=Ac(function(e,n,o){n!=null&&typeof n.toString!="function"&&(n=Pi.call(n)),ge.call(e,n)?e[n].push(o):e[n]=[o]},z),j1=te(Gn);function Pe(e){return tt(e)?zf(e):Mo(e)}function rt(e){return tt(e)?zf(e,!0):b_(e)}function H1(e,n){var o={};return n=z(n,3),Pt(e,function(u,c,d){zt(o,n(u,c,d),u)}),o}function z1(e,n){var o={};return n=z(n,3),Pt(e,function(u,c,d){zt(o,c,n(u,c,d))}),o}var K1=nn(function(e,n,o){Xi(e,n,o)}),vl=nn(function(e,n,o,u){Xi(e,n,o,u)}),Y1=Yt(function(e,n){var o={};if(e==null)return o;var u=!1;n=xe(n,function(d){return d=gr(d,e),u||(u=d.length>1),d}),Mt(e,Zo(e),o),u&&(o=wt(o,m|y|b,W_));for(var c=n.length;c--;)jo(o,n[c]);return o});function V1(e,n){return _l(e,hs(z(n)))}var J1=Yt(function(e,n){return e==null?{}:E_(e,n)});function _l(e,n){if(e==null)return{};var o=xe(Zo(e),function(u){return[u]});return n=z(n),fc(e,o,function(u,c){return n(u,c[0])})}function X1(e,n,o){n=gr(n,e);var u=-1,c=n.length;for(c||(c=1,e=t);++u<c;){var d=e==null?t:e[Bt(n[u])];d===t&&(u=c,d=o),e=Jt(d)?d.call(e):d}return e}function Z1(e,n,o){return e==null?e:Hn(e,n,o)}function Q1(e,n,o,u){return u=typeof u=="function"?u:t,e==null?e:Hn(e,n,o,u)}var yl=kc(Pe),wl=kc(rt);function ew(e,n,o){var u=X(e),c=u||mr(e)||an(e);if(n=z(n,4),o==null){var d=e&&e.constructor;c?o=u?new d:[]:Ce(e)?o=Jt(d)?rn(qi(e)):{}:o={}}return(c?vt:Pt)(e,function(v,_,S){return n(o,v,_,S)}),o}function tw(e,n){return e==null?!0:jo(e,n)}function rw(e,n,o){return e==null?e:gc(e,n,Ko(o))}function nw(e,n,o,u){return u=typeof u=="function"?u:t,e==null?e:gc(e,n,Ko(o),u)}function un(e){return e==null?[]:Co(e,Pe(e))}function iw(e){return e==null?[]:Co(e,rt(e))}function sw(e,n,o){return o===t&&(o=n,n=t),o!==t&&(o=Et(o),o=o===o?o:0),n!==t&&(n=Et(n),n=n===n?n:0),kr(Et(e),n,o)}function ow(e,n,o){return n=Xt(n),o===t?(o=n,n=0):o=Xt(o),e=Et(e),h_(e,n,o)}function aw(e,n,o){if(o&&typeof o!="boolean"&&Ve(e,n,o)&&(n=o=t),o===t&&(typeof n=="boolean"?(o=n,n=t):typeof e=="boolean"&&(o=e,e=t)),e===t&&n===t?(e=0,n=1):(e=Xt(e),n===t?(n=e,e=0):n=Xt(n)),e>n){var u=e;e=n,n=u}if(o||e%1||n%1){var c=jf();return He(e+c*(n-e+Bm("1e-"+((c+"").length-1))),n)}return Uo(e,n)}var uw=sn(function(e,n,o){return n=n.toLowerCase(),e+(o?bl(n):n)});function bl(e){return ga(le(e).toLowerCase())}function Sl(e){return e=le(e),e&&e.replace(cm,Zm).replace($m,"")}function fw(e,n,o){e=le(e),n=ut(n);var u=e.length;o=o===t?u:kr(Q(o),0,u);var c=o;return o-=n.length,o>=0&&e.slice(o,c)==n}function cw(e){return e=le(e),e&&jp.test(e)?e.replace(Zu,Qm):e}function lw(e){return e=le(e),e&&Jp.test(e)?e.replace(uo,"\\$&"):e}var hw=sn(function(e,n,o){return e+(o?"-":"")+n.toLowerCase()}),dw=sn(function(e,n,o){return e+(o?" ":"")+n.toLowerCase()}),gw=Cc("toLowerCase");function pw(e,n,o){e=le(e),n=Q(n);var u=n?Zr(e):0;if(!n||u>=n)return e;var c=(n-u)/2;return ns(ji(c),o)+e+ns(Gi(c),o)}function mw(e,n,o){e=le(e),n=Q(n);var u=n?Zr(e):0;return n&&u<n?e+ns(n-u,o):e}function vw(e,n,o){e=le(e),n=Q(n);var u=n?Zr(e):0;return n&&u<n?ns(n-u,o)+e:e}function _w(e,n,o){return o||n==null?n=0:n&&(n=+n),Cv(le(e).replace(fo,""),n||0)}function yw(e,n,o){return(o?Ve(e,n,o):n===t)?n=1:n=Q(n),Wo(le(e),n)}function ww(){var e=arguments,n=le(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var bw=sn(function(e,n,o){return e+(o?"_":"")+n.toLowerCase()});function Sw(e,n,o){return o&&typeof o!="number"&&Ve(e,n,o)&&(n=o=t),o=o===t?D:o>>>0,o?(e=le(e),e&&(typeof n=="string"||n!=null&&!la(n))&&(n=ut(n),!n&&Xr(e))?pr(kt(e),0,o):e.split(n,o)):[]}var Ew=sn(function(e,n,o){return e+(o?" ":"")+ga(n)});function xw(e,n,o){return e=le(e),o=o==null?0:kr(Q(o),0,e.length),n=ut(n),e.slice(o,o+n.length)==n}function Cw(e,n,o){var u=h.templateSettings;o&&Ve(e,n,o)&&(n=t),e=le(e),n=ps({},n,u,Lc);var c=ps({},n.imports,u.imports,Lc),d=Pe(c),v=Co(c,d),_,S,A=0,$=n.interpolate||Ai,F="__p += '",B=Oo((n.escape||Ai).source+"|"+$.source+"|"+($===Qu?im:Ai).source+"|"+(n.evaluate||Ai).source+"|$","g"),G="//# sourceURL="+(ge.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fm+"]")+`
`;e.replace(B,function(Y,ne,se,ct,Je,lt){return se||(se=ct),F+=e.slice(A,lt).replace(lm,ev),ne&&(_=!0,F+=`' +
__e(`+ne+`) +
'`),Je&&(S=!0,F+=`';
`+Je+`;
__p += '`),se&&(F+=`' +
((__t = (`+se+`)) == null ? '' : __t) +
'`),A=lt+Y.length,Y}),F+=`';
`;var K=ge.call(n,"variable")&&n.variable;if(!K)F=`with (obj) {
`+F+`
}
`;else if(rm.test(K))throw new J(f);F=(S?F.replace(qp,""):F).replace(Up,"$1").replace(Wp,"$1;"),F="function("+(K||"obj")+`) {
`+(K?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(S?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+F+`return __p
}`;var ee=xl(function(){return ce(d,G+"return "+F).apply(t,v)});if(ee.source=F,ca(ee))throw ee;return ee}function Tw(e){return le(e).toLowerCase()}function Ow(e){return le(e).toUpperCase()}function Aw(e,n,o){if(e=le(e),e&&(o||n===t))return Rf(e);if(!e||!(n=ut(n)))return e;var u=kt(e),c=kt(n),d=Ff(u,c),v=Df(u,c)+1;return pr(u,d,v).join("")}function $w(e,n,o){if(e=le(e),e&&(o||n===t))return e.slice(0,Pf(e)+1);if(!e||!(n=ut(n)))return e;var u=kt(e),c=Df(u,kt(n))+1;return pr(u,0,c).join("")}function Iw(e,n,o){if(e=le(e),e&&(o||n===t))return e.replace(fo,"");if(!e||!(n=ut(n)))return e;var u=kt(e),c=Ff(u,kt(n));return pr(u,c).join("")}function kw(e,n){var o=Ee,u=re;if(Ce(n)){var c="separator"in n?n.separator:c;o="length"in n?Q(n.length):o,u="omission"in n?ut(n.omission):u}e=le(e);var d=e.length;if(Xr(e)){var v=kt(e);d=v.length}if(o>=d)return e;var _=o-Zr(u);if(_<1)return u;var S=v?pr(v,0,_).join(""):e.slice(0,_);if(c===t)return S+u;if(v&&(_+=S.length-_),la(c)){if(e.slice(_).search(c)){var A,$=S;for(c.global||(c=Oo(c.source,le(ef.exec(c))+"g")),c.lastIndex=0;A=c.exec($);)var F=A.index;S=S.slice(0,F===t?_:F)}}else if(e.indexOf(ut(c),_)!=_){var B=S.lastIndexOf(c);B>-1&&(S=S.slice(0,B))}return S+u}function Lw(e){return e=le(e),e&&Gp.test(e)?e.replace(Xu,av):e}var Rw=sn(function(e,n,o){return e+(o?" ":"")+n.toUpperCase()}),ga=Cc("toUpperCase");function El(e,n,o){return e=le(e),n=o?t:n,n===t?rv(e)?cv(e):Km(e):e.match(n)||[]}var xl=te(function(e,n){try{return ot(e,t,n)}catch(o){return ca(o)?o:new J(o)}}),Fw=Yt(function(e,n){return vt(n,function(o){o=Bt(o),zt(e,o,ua(e[o],e))}),e});function Dw(e){var n=e==null?0:e.length,o=z();return e=n?xe(e,function(u){if(typeof u[1]!="function")throw new _t(a);return[o(u[0]),u[1]]}):[],te(function(u){for(var c=-1;++c<n;){var d=e[c];if(ot(d[0],this,u))return ot(d[1],this,u)}})}function Nw(e){return a_(wt(e,m))}function pa(e){return function(){return e}}function Pw(e,n){return e==null||e!==e?n:e}var Mw=Oc(),Bw=Oc(!0);function nt(e){return e}function ma(e){return nc(typeof e=="function"?e:wt(e,m))}function qw(e){return sc(wt(e,m))}function Uw(e,n){return oc(e,wt(n,m))}var Ww=te(function(e,n){return function(o){return Gn(o,e,n)}}),Gw=te(function(e,n){return function(o){return Gn(e,o,n)}});function va(e,n,o){var u=Pe(n),c=Ji(n,u);o==null&&!(Ce(n)&&(c.length||!u.length))&&(o=n,n=e,e=this,c=Ji(n,Pe(n)));var d=!(Ce(o)&&"chain"in o)||!!o.chain,v=Jt(e);return vt(c,function(_){var S=n[_];e[_]=S,v&&(e.prototype[_]=function(){var A=this.__chain__;if(d||A){var $=e(this.__wrapped__),F=$.__actions__=et(this.__actions__);return F.push({func:S,args:arguments,thisArg:e}),$.__chain__=A,$}return S.apply(e,ur([this.value()],arguments))})}),e}function jw(){return Ne._===this&&(Ne._=mv),this}function _a(){}function Hw(e){return e=Q(e),te(function(n){return ac(n,e)})}var zw=Vo(xe),Kw=Vo(Af),Yw=Vo(wo);function Cl(e){return ra(e)?bo(Bt(e)):x_(e)}function Vw(e){return function(n){return e==null?t:Lr(e,n)}}var Jw=$c(),Xw=$c(!0);function ya(){return[]}function wa(){return!1}function Zw(){return{}}function Qw(){return""}function eb(){return!0}function tb(e,n){if(e=Q(e),e<1||e>ue)return[];var o=D,u=He(e,D);n=z(n),e-=D;for(var c=xo(u,n);++o<e;)n(o);return c}function rb(e){return X(e)?xe(e,Bt):ft(e)?[e]:et(Hc(le(e)))}function nb(e){var n=++gv;return le(e)+n}var ib=rs(function(e,n){return e+n},0),sb=Jo("ceil"),ob=rs(function(e,n){return e/n},1),ab=Jo("floor");function ub(e){return e&&e.length?Vi(e,nt,Do):t}function fb(e,n){return e&&e.length?Vi(e,z(n,2),Do):t}function cb(e){return kf(e,nt)}function lb(e,n){return kf(e,z(n,2))}function hb(e){return e&&e.length?Vi(e,nt,Bo):t}function db(e,n){return e&&e.length?Vi(e,z(n,2),Bo):t}var gb=rs(function(e,n){return e*n},1),pb=Jo("round"),mb=rs(function(e,n){return e-n},0);function vb(e){return e&&e.length?Eo(e,nt):0}function _b(e,n){return e&&e.length?Eo(e,z(n,2)):0}return h.after=qy,h.ary=rl,h.assign=O1,h.assignIn=ml,h.assignInWith=ps,h.assignWith=A1,h.at=$1,h.before=nl,h.bind=ua,h.bindAll=Fw,h.bindKey=il,h.castArray=Zy,h.chain=Qc,h.chunk=a0,h.compact=u0,h.concat=f0,h.cond=Dw,h.conforms=Nw,h.constant=pa,h.countBy=vy,h.create=I1,h.curry=sl,h.curryRight=ol,h.debounce=al,h.defaults=k1,h.defaultsDeep=L1,h.defer=Uy,h.delay=Wy,h.difference=c0,h.differenceBy=l0,h.differenceWith=h0,h.drop=d0,h.dropRight=g0,h.dropRightWhile=p0,h.dropWhile=m0,h.fill=v0,h.filter=yy,h.flatMap=Sy,h.flatMapDeep=Ey,h.flatMapDepth=xy,h.flatten=Vc,h.flattenDeep=_0,h.flattenDepth=y0,h.flip=Gy,h.flow=Mw,h.flowRight=Bw,h.fromPairs=w0,h.functions=B1,h.functionsIn=q1,h.groupBy=Cy,h.initial=S0,h.intersection=E0,h.intersectionBy=x0,h.intersectionWith=C0,h.invert=W1,h.invertBy=G1,h.invokeMap=Oy,h.iteratee=ma,h.keyBy=Ay,h.keys=Pe,h.keysIn=rt,h.map=fs,h.mapKeys=H1,h.mapValues=z1,h.matches=qw,h.matchesProperty=Uw,h.memoize=ls,h.merge=K1,h.mergeWith=vl,h.method=Ww,h.methodOf=Gw,h.mixin=va,h.negate=hs,h.nthArg=Hw,h.omit=Y1,h.omitBy=V1,h.once=jy,h.orderBy=$y,h.over=zw,h.overArgs=Hy,h.overEvery=Kw,h.overSome=Yw,h.partial=fa,h.partialRight=ul,h.partition=Iy,h.pick=J1,h.pickBy=_l,h.property=Cl,h.propertyOf=Vw,h.pull=$0,h.pullAll=Xc,h.pullAllBy=I0,h.pullAllWith=k0,h.pullAt=L0,h.range=Jw,h.rangeRight=Xw,h.rearg=zy,h.reject=Ry,h.remove=R0,h.rest=Ky,h.reverse=oa,h.sampleSize=Dy,h.set=Z1,h.setWith=Q1,h.shuffle=Ny,h.slice=F0,h.sortBy=By,h.sortedUniq=U0,h.sortedUniqBy=W0,h.split=Sw,h.spread=Yy,h.tail=G0,h.take=j0,h.takeRight=H0,h.takeRightWhile=z0,h.takeWhile=K0,h.tap=uy,h.throttle=Vy,h.thru=us,h.toArray=dl,h.toPairs=yl,h.toPairsIn=wl,h.toPath=rb,h.toPlainObject=pl,h.transform=ew,h.unary=Jy,h.union=Y0,h.unionBy=V0,h.unionWith=J0,h.uniq=X0,h.uniqBy=Z0,h.uniqWith=Q0,h.unset=tw,h.unzip=aa,h.unzipWith=Zc,h.update=rw,h.updateWith=nw,h.values=un,h.valuesIn=iw,h.without=ey,h.words=El,h.wrap=Xy,h.xor=ty,h.xorBy=ry,h.xorWith=ny,h.zip=iy,h.zipObject=sy,h.zipObjectDeep=oy,h.zipWith=ay,h.entries=yl,h.entriesIn=wl,h.extend=ml,h.extendWith=ps,va(h,h),h.add=ib,h.attempt=xl,h.camelCase=uw,h.capitalize=bl,h.ceil=sb,h.clamp=sw,h.clone=Qy,h.cloneDeep=t1,h.cloneDeepWith=r1,h.cloneWith=e1,h.conformsTo=n1,h.deburr=Sl,h.defaultTo=Pw,h.divide=ob,h.endsWith=fw,h.eq=Rt,h.escape=cw,h.escapeRegExp=lw,h.every=_y,h.find=wy,h.findIndex=Kc,h.findKey=R1,h.findLast=by,h.findLastIndex=Yc,h.findLastKey=F1,h.floor=ab,h.forEach=el,h.forEachRight=tl,h.forIn=D1,h.forInRight=N1,h.forOwn=P1,h.forOwnRight=M1,h.get=ha,h.gt=i1,h.gte=s1,h.has=U1,h.hasIn=da,h.head=Jc,h.identity=nt,h.includes=Ty,h.indexOf=b0,h.inRange=ow,h.invoke=j1,h.isArguments=Dr,h.isArray=X,h.isArrayBuffer=o1,h.isArrayLike=tt,h.isArrayLikeObject=$e,h.isBoolean=a1,h.isBuffer=mr,h.isDate=u1,h.isElement=f1,h.isEmpty=c1,h.isEqual=l1,h.isEqualWith=h1,h.isError=ca,h.isFinite=d1,h.isFunction=Jt,h.isInteger=fl,h.isLength=ds,h.isMap=cl,h.isMatch=g1,h.isMatchWith=p1,h.isNaN=m1,h.isNative=v1,h.isNil=y1,h.isNull=_1,h.isNumber=ll,h.isObject=Ce,h.isObjectLike=Oe,h.isPlainObject=Vn,h.isRegExp=la,h.isSafeInteger=w1,h.isSet=hl,h.isString=gs,h.isSymbol=ft,h.isTypedArray=an,h.isUndefined=b1,h.isWeakMap=S1,h.isWeakSet=E1,h.join=T0,h.kebabCase=hw,h.last=St,h.lastIndexOf=O0,h.lowerCase=dw,h.lowerFirst=gw,h.lt=x1,h.lte=C1,h.max=ub,h.maxBy=fb,h.mean=cb,h.meanBy=lb,h.min=hb,h.minBy=db,h.stubArray=ya,h.stubFalse=wa,h.stubObject=Zw,h.stubString=Qw,h.stubTrue=eb,h.multiply=gb,h.nth=A0,h.noConflict=jw,h.noop=_a,h.now=cs,h.pad=pw,h.padEnd=mw,h.padStart=vw,h.parseInt=_w,h.random=aw,h.reduce=ky,h.reduceRight=Ly,h.repeat=yw,h.replace=ww,h.result=X1,h.round=pb,h.runInContext=w,h.sample=Fy,h.size=Py,h.snakeCase=bw,h.some=My,h.sortedIndex=D0,h.sortedIndexBy=N0,h.sortedIndexOf=P0,h.sortedLastIndex=M0,h.sortedLastIndexBy=B0,h.sortedLastIndexOf=q0,h.startCase=Ew,h.startsWith=xw,h.subtract=mb,h.sum=vb,h.sumBy=_b,h.template=Cw,h.times=tb,h.toFinite=Xt,h.toInteger=Q,h.toLength=gl,h.toLower=Tw,h.toNumber=Et,h.toSafeInteger=T1,h.toString=le,h.toUpper=Ow,h.trim=Aw,h.trimEnd=$w,h.trimStart=Iw,h.truncate=kw,h.unescape=Lw,h.uniqueId=nb,h.upperCase=Rw,h.upperFirst=ga,h.each=el,h.eachRight=tl,h.first=Jc,va(h,function(){var e={};return Pt(h,function(n,o){ge.call(h.prototype,o)||(e[o]=n)}),e}(),{chain:!1}),h.VERSION=r,vt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){h[e].placeholder=h}),vt(["drop","take"],function(e,n){ie.prototype[e]=function(o){o=o===t?1:Le(Q(o),0);var u=this.__filtered__&&!n?new ie(this):this.clone();return u.__filtered__?u.__takeCount__=He(o,u.__takeCount__):u.__views__.push({size:He(o,D),type:e+(u.__dir__<0?"Right":"")}),u},ie.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),vt(["filter","map","takeWhile"],function(e,n){var o=n+1,u=o==Ot||o==Nt;ie.prototype[e]=function(c){var d=this.clone();return d.__iteratees__.push({iteratee:z(c,3),type:o}),d.__filtered__=d.__filtered__||u,d}}),vt(["head","last"],function(e,n){var o="take"+(n?"Right":"");ie.prototype[e]=function(){return this[o](1).value()[0]}}),vt(["initial","tail"],function(e,n){var o="drop"+(n?"":"Right");ie.prototype[e]=function(){return this.__filtered__?new ie(this):this[o](1)}}),ie.prototype.compact=function(){return this.filter(nt)},ie.prototype.find=function(e){return this.filter(e).head()},ie.prototype.findLast=function(e){return this.reverse().find(e)},ie.prototype.invokeMap=te(function(e,n){return typeof e=="function"?new ie(this):this.map(function(o){return Gn(o,e,n)})}),ie.prototype.reject=function(e){return this.filter(hs(z(e)))},ie.prototype.slice=function(e,n){e=Q(e);var o=this;return o.__filtered__&&(e>0||n<0)?new ie(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),n!==t&&(n=Q(n),o=n<0?o.dropRight(-n):o.take(n-e)),o)},ie.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ie.prototype.toArray=function(){return this.take(D)},Pt(ie.prototype,function(e,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),u=/^(?:head|last)$/.test(n),c=h[u?"take"+(n=="last"?"Right":""):n],d=u||/^find/.test(n);!c||(h.prototype[n]=function(){var v=this.__wrapped__,_=u?[1]:arguments,S=v instanceof ie,A=_[0],$=S||X(v),F=function(ne){var se=c.apply(h,ur([ne],_));return u&&B?se[0]:se};$&&o&&typeof A=="function"&&A.length!=1&&(S=$=!1);var B=this.__chain__,G=!!this.__actions__.length,K=d&&!B,ee=S&&!G;if(!d&&$){v=ee?v:new ie(this);var Y=e.apply(v,_);return Y.__actions__.push({func:us,args:[F],thisArg:t}),new yt(Y,B)}return K&&ee?e.apply(this,_):(Y=this.thru(F),K?u?Y.value()[0]:Y.value():Y)})}),vt(["pop","push","shift","sort","splice","unshift"],function(e){var n=Fi[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);h.prototype[e]=function(){var c=arguments;if(u&&!this.__chain__){var d=this.value();return n.apply(X(d)?d:[],c)}return this[o](function(v){return n.apply(X(v)?v:[],c)})}}),Pt(ie.prototype,function(e,n){var o=h[n];if(o){var u=o.name+"";ge.call(tn,u)||(tn[u]=[]),tn[u].push({name:n,func:o})}}),tn[ts(t,L).name]=[{name:"wrapper",func:t}],ie.prototype.clone=Lv,ie.prototype.reverse=Rv,ie.prototype.value=Fv,h.prototype.at=fy,h.prototype.chain=cy,h.prototype.commit=ly,h.prototype.next=hy,h.prototype.plant=gy,h.prototype.reverse=py,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=my,h.prototype.first=h.prototype.head,Nn&&(h.prototype[Nn]=dy),h},cr=lv();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ne._=cr,define(function(){return cr})):Or?((Or.exports=cr)._=cr,mo._=cr):Ne._=cr}).call(fn)});var Ll=U((VC,kl)=>{var cn=1e3,ln=cn*60,hn=ln*60,Nr=hn*24,Ab=Nr*7,$b=Nr*365.25;kl.exports=function(t,r){r=r||{};var i=typeof t;if(i==="string"&&t.length>0)return Ib(t);if(i==="number"&&isFinite(t))return r.long?Lb(t):kb(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Ib(t){if(t=String(t),!(t.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!r){var i=parseFloat(r[1]),s=(r[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return i*$b;case"weeks":case"week":case"w":return i*Ab;case"days":case"day":case"d":return i*Nr;case"hours":case"hour":case"hrs":case"hr":case"h":return i*hn;case"minutes":case"minute":case"mins":case"min":case"m":return i*ln;case"seconds":case"second":case"secs":case"sec":case"s":return i*cn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function kb(t){var r=Math.abs(t);return r>=Nr?Math.round(t/Nr)+"d":r>=hn?Math.round(t/hn)+"h":r>=ln?Math.round(t/ln)+"m":r>=cn?Math.round(t/cn)+"s":t+"ms"}function Lb(t){var r=Math.abs(t);return r>=Nr?ms(t,r,Nr,"day"):r>=hn?ms(t,r,hn,"hour"):r>=ln?ms(t,r,ln,"minute"):r>=cn?ms(t,r,cn,"second"):t+" ms"}function ms(t,r,i,s){var a=r>=i*1.5;return Math.round(t/i)+" "+s+(a?"s":"")}});var ba=U((JC,Rl)=>{function Rb(t){i.debug=i,i.default=i,i.coerce=p,i.disable=f,i.enable=a,i.enabled=l,i.humanize=Ll(),i.destroy=m,Object.keys(t).forEach(y=>{i[y]=t[y]}),i.names=[],i.skips=[],i.formatters={};function r(y){let b=0;for(let E=0;E<y.length;E++)b=(b<<5)-b+y.charCodeAt(E),b|=0;return i.colors[Math.abs(b)%i.colors.length]}i.selectColor=r;function i(y){let b,E=null,C,O;function L(...I){if(!L.enabled)return;let N=L,P=Number(new Date),M=P-(b||P);N.diff=M,N.prev=b,N.curr=P,b=P,I[0]=i.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let W=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(oe,fe)=>{if(oe==="%%")return"%";W++;let Ee=i.formatters[fe];if(typeof Ee=="function"){let re=I[W];oe=Ee.call(N,re),I.splice(W,1),W--}return oe}),i.formatArgs.call(N,I),(N.log||i.log).apply(N,I)}return L.namespace=y,L.useColors=i.useColors(),L.color=i.selectColor(y),L.extend=s,L.destroy=i.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(C!==i.namespaces&&(C=i.namespaces,O=i.enabled(y)),O),set:I=>{E=I}}),typeof i.init=="function"&&i.init(L),L}function s(y,b){let E=i(this.namespace+(typeof b=="undefined"?":":b)+y);return E.log=this.log,E}function a(y){i.save(y),i.namespaces=y,i.names=[],i.skips=[];let b,E=(typeof y=="string"?y:"").split(/[\s,]+/),C=E.length;for(b=0;b<C;b++)!E[b]||(y=E[b].replace(/\*/g,".*?"),y[0]==="-"?i.skips.push(new RegExp("^"+y.substr(1)+"$")):i.names.push(new RegExp("^"+y+"$")))}function f(){let y=[...i.names.map(g),...i.skips.map(g).map(b=>"-"+b)].join(",");return i.enable(""),y}function l(y){if(y[y.length-1]==="*")return!0;let b,E;for(b=0,E=i.skips.length;b<E;b++)if(i.skips[b].test(y))return!1;for(b=0,E=i.names.length;b<E;b++)if(i.names[b].test(y))return!0;return!1}function g(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function p(y){return y instanceof Error?y.stack||y.message:y}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}Rl.exports=Rb});var Fl=U((ht,vs)=>{ht.formatArgs=Db;ht.save=Nb;ht.load=Pb;ht.useColors=Fb;ht.storage=Mb();ht.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ht.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Fb(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Db(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+vs.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let i=0,s=0;t[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(s=i))}),t.splice(s,0,r)}ht.log=console.debug||console.log||(()=>{});function Nb(t){try{t?ht.storage.setItem("debug",t):ht.storage.removeItem("debug")}catch{}}function Pb(){let t;try{t=ht.storage.getItem("debug")}catch{}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Mb(){try{return localStorage}catch{}}vs.exports=ba()(ht);var{formatters:Bb}=vs.exports;Bb.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}});var Nl=U((Ge,ys)=>{var qb=require("tty"),_s=require("util");Ge.init=Kb;Ge.log=jb;Ge.formatArgs=Wb;Ge.save=Hb;Ge.load=zb;Ge.useColors=Ub;Ge.destroy=_s.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ge.colors=[6,2,3,4,5,1];try{let t=require("supports-color");t&&(t.stderr||t).level>=2&&(Ge.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ge.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,r)=>{let i=r.substring(6).toLowerCase().replace(/_([a-z])/g,(a,f)=>f.toUpperCase()),s=process.env[r];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[i]=s,t},{});function Ub(){return"colors"in Ge.inspectOpts?Boolean(Ge.inspectOpts.colors):qb.isatty(process.stderr.fd)}function Wb(t){let{namespace:r,useColors:i}=this;if(i){let s=this.color,a="[3"+(s<8?s:"8;5;"+s),f=`  ${a};1m${r} [0m`;t[0]=f+t[0].split(`
`).join(`
`+f),t.push(a+"m+"+ys.exports.humanize(this.diff)+"[0m")}else t[0]=Gb()+r+" "+t[0]}function Gb(){return Ge.inspectOpts.hideDate?"":new Date().toISOString()+" "}function jb(...t){return process.stderr.write(_s.format(...t)+`
`)}function Hb(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function zb(){return process.env.DEBUG}function Kb(t){t.inspectOpts={};let r=Object.keys(Ge.inspectOpts);for(let i=0;i<r.length;i++)t.inspectOpts[r[i]]=Ge.inspectOpts[r[i]]}ys.exports=ba()(Ge);var{formatters:Dl}=ys.exports;Dl.o=function(t){return this.inspectOpts.colors=this.useColors,_s.inspect(t,this.inspectOpts).split(`
`).map(r=>r.trim()).join(" ")};Dl.O=function(t){return this.inspectOpts.colors=this.useColors,_s.inspect(t,this.inspectOpts)}});var Ea=U((XC,Sa)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Sa.exports=Fl():Sa.exports=Nl()});var bs=U(Ta=>{"use strict";var Pl=require("zlib"),Ml=require("http"),Bl=require("https"),Yb=require("url").parse,Vb=require("url").format,Ut=Ea()("httpx:body"),ws=Ea()("httpx:header"),Jb=new Ml.Agent({keepAlive:!0}),Xb=new Bl.Agent({keepAlive:!0}),xa=3e3,Pr=Symbol("TIMER::READ_TIMER"),Ca=Symbol("TIMER::READ_TIME_OUT"),ql=Symbol("TIMER::READ_TIMER_START_AT"),Ul=function(t,r,i){return t.name=r+t.name,t.message=`${i}. ${t.message}`,t},Zn=function(t){return t!==null&&!isNaN(t)};Ta.request=function(t,r){r||(r={});let i=typeof t=="string"?Yb(t):t,s,a;Zn(r.readTimeout)||Zn(r.connectTimeout)?(s=Zn(r.readTimeout)?Number(r.readTimeout):xa,a=Zn(r.connectTimeout)?Number(r.connectTimeout):xa):Zn(r.timeout)?s=a=Number(r.timeout):s=a=xa;let f=i.protocol==="https:",l=(r.method||"GET").toUpperCase(),g=f?Xb:Jb,p=r.agent||g;var m={host:i.hostname||"localhost",path:i.path||"/",method:l,port:i.port||(i.protocol==="https:"?443:80),agent:p,headers:r.headers||{},key:r.key||"",cert:r.cert||"",ca:r.ca||"",timeout:a};f&&typeof r.rejectUnauthorized!="undefined"&&(m.rejectUnauthorized=r.rejectUnauthorized),r.compression&&(m.headers["accept-encoding"]="gzip,deflate");let y=f?Bl:Ml;return typeof r.beforeRequest=="function"&&(m=r.beforeRequest(m)),new Promise((b,E)=>{let C=y.request(m),O=r.data;var L=M=>{ws.enabled&&(M.req._header.split(`\r
`).forEach(V=>{ws("> %s",V)}),ws("< HTTP/%s %s %s",M.httpVersion,M.statusCode,M.statusMessage),Object.keys(M.headers).forEach(V=>{ws("< %s: %s",V,M.headers[V])})),b(M)},I=M=>{M.message+=`${l} ${Vb(i)} failed.`,C.socket&&C.socket[Pr]&&clearTimeout(C.socket[Pr]),E(M)},N=M=>{C.abort(),I(M)};let P=function(M){let W=setTimeout(()=>{M[Pr]&&(clearTimeout(M[Pr]),M[Pr]=null);var V=new Error,oe=`ReadTimeout(${s})`;N(Ul(V,"RequestTimeout",oe))},s);M[Ca]=s,M[Pr]=W,M[ql]=Date.now()};!O||typeof O=="string"||O instanceof Buffer?(Ut.enabled&&Ut(O?typeof O=="string"?O:`Buffer <ignored>, Buffer length: ${O.length}`:"<no request body>"),C.end(O)):typeof O.pipe=="function"&&(O.pipe(C),Ut.enabled&&Ut("<request body is a stream>"),O.once("error",M=>{N(Ul(M,"HttpX","Stream occor error"))})),C.on("response",L),C.on("error",I),C.once("socket",function(M){M.readyState==="opening"?M.once("connect",function(){P(M)}):P(M)})})};Ta.read=function(t,r){var i=t;switch(t.headers["content-encoding"]){case"gzip":i=t.pipe(Pl.createGunzip());break;case"deflate":i=t.pipe(Pl.createInflate());break;default:break}return new Promise((s,a)=>{let f=t.socket||t.client,l=()=>{let I=t.req;var N=new Error;return N.name="RequestTimeoutError",N.message=`ReadTimeout: ${f[Ca]}. ${I.method} ${I.path} failed.`,N},g,p=f[Pr];if(!p){a(l());return}let m=f[Ca]-(Date.now()-f[ql]);if(clearTimeout(p),m<=0){a(l());return}g=setTimeout(function(){a(l())},m);var y,b,E,C=function(){i.removeListener("error",y),i.removeListener("data",b),i.removeListener("end",E),g&&clearTimeout(g)};let O=[];var L=0;b=function(I){O.push(I),L+=I.length},y=function(I){C(),a(I)},E=function(){C();var I=Buffer.concat(O,L);if(Ut(""),r){let N=I.toString(r);return Ut(N),s(N)}Ut.enabled&&Ut(I.toString()),s(I)},i.on("error",y),i.on("data",b),i.on("end",E)})}});var Aa=U(Ae=>{"use strict";var Zb=require("fs"),Oa=require("os"),Wl=require("crypto");Ae.loadJSONSync=function(t){var r=Zb.readFileSync(t,"utf8");r.charCodeAt(0)===65279&&(r=r.slice(1));try{return JSON.parse(r)}catch(i){throw i.message=t+": "+i.message,i}};Ae.encode=function(t,r){return typeof t!="string"&&(t=""+t),new Buffer(t,r)};Ae.makeHasher=function(t){return function(r,i){var s=Wl.createHash(t);return s.update(r),s.digest(i)}};Ae.createHash=Ae.makeHasher;Ae.md5=Ae.makeHasher("md5");Ae.createHmac=function(t){return function(r,i,s){return Wl.createHmac(t,i).update(r).digest(s)}};Ae.sha1=Ae.createHmac("sha1");Ae.random=function(t,r){return Math.floor(t+Math.random()*(r-t))};Ae.makeNonce=function(){var t=0,r;let i=Oa.hostname(),s=process.pid;return function(){var a=Math.floor(Math.random()*1e12);a===r?t++:t=0,r=a;var f=`${i}${s}${a}${t}`;return Ae.md5(f,"hex")}}();Ae.pad2=function(t){return t<10?"0"+t:""+t};Ae.pad3=function(t){return t<10?"00"+t:t<100?"0"+t:""+t};Ae.getYYYYMMDD=function(t){var r=t.getFullYear(),i=Ae.pad2(t.getMonth()+1),s=Ae.pad2(t.getDate());return""+r+i+s};Ae.sleep=function(t){return new Promise(r=>{setTimeout(r,t)})};Ae.getIPv4=function(){for(var t=Oa.networkInterfaces(),r=Object.keys(t),i=0;i<r.length;i++)for(var s=r[i],a=t[s],f=0;f<a.length;f++){var l=a[f];if(!l.internal&&l.family==="IPv4")return l.address}return""};Ae.getMac=function(){for(var t=Oa.networkInterfaces(),r=Object.keys(t),i=0;i<r.length;i++)for(var s=r[i],a=t[s],f=0;f<a.length;f++){var l=a[f];if(!l.internal&&l.family==="IPv4")return l.mac}return"00:00:00:00:00:00"}});var jl=U((eT,Gl)=>{var Qn=1e3,ei=Qn*60,ti=ei*60,ri=ti*24,Qb=ri*365.25;Gl.exports=function(t,r){r=r||{};var i=typeof t;if(i==="string"&&t.length>0)return eS(t);if(i==="number"&&isNaN(t)===!1)return r.long?rS(t):tS(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function eS(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!!r){var i=parseFloat(r[1]),s=(r[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return i*Qb;case"days":case"day":case"d":return i*ri;case"hours":case"hour":case"hrs":case"hr":case"h":return i*ti;case"minutes":case"minute":case"mins":case"min":case"m":return i*ei;case"seconds":case"second":case"secs":case"sec":case"s":return i*Qn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function tS(t){return t>=ri?Math.round(t/ri)+"d":t>=ti?Math.round(t/ti)+"h":t>=ei?Math.round(t/ei)+"m":t>=Qn?Math.round(t/Qn)+"s":t+"ms"}function rS(t){return Ss(t,ri,"day")||Ss(t,ti,"hour")||Ss(t,ei,"minute")||Ss(t,Qn,"second")||t+" ms"}function Ss(t,r,i){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+i:Math.ceil(t/r)+" "+i+"s"}});var ka=U((he,Hl)=>{he=Hl.exports=Ia.debug=Ia.default=Ia;he.coerce=aS;he.disable=sS;he.enable=iS;he.enabled=oS;he.humanize=jl();he.names=[];he.skips=[];he.formatters={};var $a;function nS(t){var r=0,i;for(i in t)r=(r<<5)-r+t.charCodeAt(i),r|=0;return he.colors[Math.abs(r)%he.colors.length]}function Ia(t){function r(){if(!!r.enabled){var i=r,s=+new Date,a=s-($a||s);i.diff=a,i.prev=$a,i.curr=s,$a=s;for(var f=new Array(arguments.length),l=0;l<f.length;l++)f[l]=arguments[l];f[0]=he.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var g=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(m,y){if(m==="%%")return m;g++;var b=he.formatters[y];if(typeof b=="function"){var E=f[g];m=b.call(i,E),f.splice(g,1),g--}return m}),he.formatArgs.call(i,f);var p=r.log||he.log||console.log.bind(console);p.apply(i,f)}}return r.namespace=t,r.enabled=he.enabled(t),r.useColors=he.useColors(),r.color=nS(t),typeof he.init=="function"&&he.init(r),r}function iS(t){he.save(t),he.names=[],he.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),i=r.length,s=0;s<i;s++)!r[s]||(t=r[s].replace(/\*/g,".*?"),t[0]==="-"?he.skips.push(new RegExp("^"+t.substr(1)+"$")):he.names.push(new RegExp("^"+t+"$")))}function sS(){he.enable("")}function oS(t){var r,i;for(r=0,i=he.skips.length;r<i;r++)if(he.skips[r].test(t))return!1;for(r=0,i=he.names.length;r<i;r++)if(he.names[r].test(t))return!0;return!1}function aS(t){return t instanceof Error?t.stack||t.message:t}});var Yl=U((Xe,Kl)=>{Xe=Kl.exports=ka();Xe.log=cS;Xe.formatArgs=fS;Xe.save=lS;Xe.load=zl;Xe.useColors=uS;Xe.storage=typeof chrome!="undefined"&&typeof chrome.storage!="undefined"?chrome.storage.local:hS();Xe.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function uS(){return typeof window!="undefined"&&window.process&&window.process.type==="renderer"?!0:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}Xe.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function fS(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+Xe.humanize(this.diff),!!r){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var s=0,a=0;t[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(s++,f==="%c"&&(a=s))}),t.splice(a,0,i)}}function cS(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function lS(t){try{t==null?Xe.storage.removeItem("debug"):Xe.storage.debug=t}catch{}}function zl(){var t;try{t=Xe.storage.debug}catch{}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}Xe.enable(zl());function hS(){try{return window.localStorage}catch{}}});var Zl=U((Me,Xl)=>{var Vl=require("tty"),ni=require("util");Me=Xl.exports=ka();Me.init=yS;Me.log=mS;Me.formatArgs=pS;Me.save=vS;Me.load=Jl;Me.useColors=gS;Me.colors=[6,2,3,4,5,1];Me.inspectOpts=Object.keys(process.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,r){var i=r.substring(6).toLowerCase().replace(/_([a-z])/g,function(a,f){return f.toUpperCase()}),s=process.env[r];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[i]=s,t},{});var dn=parseInt(process.env.DEBUG_FD,10)||2;dn!==1&&dn!==2&&ni.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var dS=dn===1?process.stdout:dn===2?process.stderr:_S(dn);function gS(){return"colors"in Me.inspectOpts?Boolean(Me.inspectOpts.colors):Vl.isatty(dn)}Me.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,ni.inspect(t,this.inspectOpts).split(`
`).map(function(r){return r.trim()}).join(" ")};Me.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,ni.inspect(t,this.inspectOpts)};function pS(t){var r=this.namespace,i=this.useColors;if(i){var s=this.color,a="  [3"+s+";1m"+r+" [0m";t[0]=a+t[0].split(`
`).join(`
`+a),t.push("[3"+s+"m+"+Me.humanize(this.diff)+"[0m")}else t[0]=new Date().toUTCString()+" "+r+" "+t[0]}function mS(){return dS.write(ni.format.apply(ni,arguments)+`
`)}function vS(t){t==null?delete process.env.DEBUG:process.env.DEBUG=t}function Jl(){return process.env.DEBUG}function _S(t){var r,i=process.binding("tty_wrap");switch(i.guessHandleType(t)){case"TTY":r=new Vl.WriteStream(t),r._type="tty",r._handle&&r._handle.unref&&r._handle.unref();break;case"FILE":var s=require("fs");r=new s.SyncWriteStream(t,{autoClose:!1}),r._type="fs";break;case"PIPE":case"TCP":var a=require("net");r=new a.Socket({fd:t,readable:!1,writable:!0}),r.readable=!1,r.read=null,r._type="pipe",r._handle&&r._handle.unref&&r._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return r.fd=t,r._isStdio=!0,r}function yS(t){t.inspectOpts={};for(var r=Object.keys(Me.inspectOpts),i=0;i<r.length;i++)t.inspectOpts[r[i]]=Me.inspectOpts[r[i]]}Me.enable(Jl())});var Ra=U((tT,La)=>{typeof process!="undefined"&&process.type==="renderer"?La.exports=Yl():La.exports=Zl()});var Fa=U((rT,wS)=>{wS.exports={name:"@alicloud/fc2",version:"2.5.0",description:"Aliyun Function Compute API SDK2",main:"index.js",scripts:{test:"make test","build-es5":"babel lib/ -d es5/"},"git-pre-hooks":{"pre-release":"npm run build-es5","post-release":"npm publish --access public"},author:"Jackson Tian",license:"MIT",dependencies:{"babel-runtime":"^6.23.0",debug:"^2.6.4",httpx:"^2.1.1",kitx:"^1.2.0",ws:"^8.2.3"},devDependencies:{"babel-cli":"^6.24.1","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.4.0","babel-register":"^6.24.1",coveralls:"^2.13.0",doxmate:"^0.3.1",eslint:"^3.19.0","expect.js":"^0.3.1","git-pre-hooks":"^1.2.0",mocha:"^3.3.0",nyc:"^10.2.0"},files:["index.js","lib","es5"],directories:{doc:"doc",lib:"lib",test:"test"},repository:{type:"git",url:"git+https://github.com/aliyun/fc-nodejs-sdk.git"},bugs:{url:"https://github.com/aliyun/fc-nodejs-sdk/issues"},homepage:"https://github.com/aliyun/fc-nodejs-sdk#readme"}});var eh=U((nT,Ql)=>{"use strict";var bS=require("url");function SS(t,r){var i=[],s=Object.keys(t),a={};for(let g=0;g<s.length;g++){let p=s[g];var f=p.toLowerCase().trim();f.startsWith(r)&&(i.push(f),a[f]=t[p])}i.sort();var l="";for(let g=0;g<i.length;g++){let p=i[g];l+=`${p}:${a[p]}
`}return l}function ES(t,r,i,s){let a=i["content-md5"]||"",f=i["content-type"]||"",l=i.date,g=SS(i,"x-fc-"),p=bS.parse(r),m=decodeURIComponent(p.pathname);var y=`${t}
${a}
${f}
${l}
${g}${m}`;if(s){var b=[];Object.keys(s).forEach(function(E){var C=s[E],O=typeof C;if(O==="string"){b.push(`${E}=${C}`);return}Array.isArray(C)&&s[E].forEach(function(L){b.push(`${E}=${L}`)})}),b.sort(),y+=`
`+b.join(`
`)}return y}Ql.exports={composeStringToSign:ES}});var _r=U((iT,th)=>{"use strict";th.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var ii=U((sT,Da)=>{"use strict";var{EMPTY_BUFFER:xS}=_r();function rh(t,r){if(t.length===0)return xS;if(t.length===1)return t[0];let i=Buffer.allocUnsafe(r),s=0;for(let a=0;a<t.length;a++){let f=t[a];i.set(f,s),s+=f.length}return s<r?i.slice(0,s):i}function nh(t,r,i,s,a){for(let f=0;f<a;f++)i[s+f]=t[f]^r[f&3]}function ih(t,r){for(let i=0;i<t.length;i++)t[i]^=r[i&3]}function sh(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function Es(t){if(Es.readOnly=!0,Buffer.isBuffer(t))return t;let r;return t instanceof ArrayBuffer?r=Buffer.from(t):ArrayBuffer.isView(t)?r=Buffer.from(t.buffer,t.byteOffset,t.byteLength):(r=Buffer.from(t),Es.readOnly=!1),r}try{let t=require("bufferutil");Da.exports={concat:rh,mask(r,i,s,a,f){f<48?nh(r,i,s,a,f):t.mask(r,i,s,a,f)},toArrayBuffer:sh,toBuffer:Es,unmask(r,i){r.length<32?ih(r,i):t.unmask(r,i)}}}catch{Da.exports={concat:rh,mask:nh,toArrayBuffer:sh,toBuffer:Es,unmask:ih}}});var fh=U((oT,uh)=>{"use strict";var oh=Symbol("kDone"),Na=Symbol("kRun"),ah=class{constructor(r){this[oh]=()=>{this.pending--,this[Na]()},this.concurrency=r||1/0,this.jobs=[],this.pending=0}add(r){this.jobs.push(r),this[Na]()}[Na](){if(this.pending!==this.concurrency&&this.jobs.length){let r=this.jobs.shift();this.pending++,r(this[oh])}}};uh.exports=ah});var ai=U((aT,gh)=>{"use strict";var si=require("zlib"),ch=ii(),CS=fh(),{kStatusCode:lh}=_r(),TS=Buffer.from([0,0,255,255]),xs=Symbol("permessage-deflate"),Qt=Symbol("total-length"),oi=Symbol("callback"),yr=Symbol("buffers"),Cs=Symbol("error"),Ts,hh=class{constructor(r,i,s){if(this._maxPayload=s|0,this._options=r||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!i,this._deflate=null,this._inflate=null,this.params=null,!Ts){let a=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Ts=new CS(a)}}static get extensionName(){return"permessage-deflate"}offer(){let r={};return this._options.serverNoContextTakeover&&(r.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(r.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(r.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?r.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(r.client_max_window_bits=!0),r}accept(r){return r=this.normalizeParams(r),this.params=this._isServer?this.acceptAsServer(r):this.acceptAsClient(r),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let r=this._deflate[oi];this._deflate.close(),this._deflate=null,r&&r(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(r){let i=this._options,s=r.find(a=>!(i.serverNoContextTakeover===!1&&a.server_no_context_takeover||a.server_max_window_bits&&(i.serverMaxWindowBits===!1||typeof i.serverMaxWindowBits=="number"&&i.serverMaxWindowBits>a.server_max_window_bits)||typeof i.clientMaxWindowBits=="number"&&!a.client_max_window_bits));if(!s)throw new Error("None of the extension offers can be accepted");return i.serverNoContextTakeover&&(s.server_no_context_takeover=!0),i.clientNoContextTakeover&&(s.client_no_context_takeover=!0),typeof i.serverMaxWindowBits=="number"&&(s.server_max_window_bits=i.serverMaxWindowBits),typeof i.clientMaxWindowBits=="number"?s.client_max_window_bits=i.clientMaxWindowBits:(s.client_max_window_bits===!0||i.clientMaxWindowBits===!1)&&delete s.client_max_window_bits,s}acceptAsClient(r){let i=r[0];if(this._options.clientNoContextTakeover===!1&&i.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!i.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(i.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&i.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return i}normalizeParams(r){return r.forEach(i=>{Object.keys(i).forEach(s=>{let a=i[s];if(a.length>1)throw new Error(`Parameter "${s}" must have only a single value`);if(a=a[0],s==="client_max_window_bits"){if(a!==!0){let f=+a;if(!Number.isInteger(f)||f<8||f>15)throw new TypeError(`Invalid value for parameter "${s}": ${a}`);a=f}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${s}": ${a}`)}else if(s==="server_max_window_bits"){let f=+a;if(!Number.isInteger(f)||f<8||f>15)throw new TypeError(`Invalid value for parameter "${s}": ${a}`);a=f}else if(s==="client_no_context_takeover"||s==="server_no_context_takeover"){if(a!==!0)throw new TypeError(`Invalid value for parameter "${s}": ${a}`)}else throw new Error(`Unknown parameter "${s}"`);i[s]=a})}),r}decompress(r,i,s){Ts.add(a=>{this._decompress(r,i,(f,l)=>{a(),s(f,l)})})}compress(r,i,s){Ts.add(a=>{this._compress(r,i,(f,l)=>{a(),s(f,l)})})}_decompress(r,i,s){let a=this._isServer?"client":"server";if(!this._inflate){let f=`${a}_max_window_bits`,l=typeof this.params[f]!="number"?si.Z_DEFAULT_WINDOWBITS:this.params[f];this._inflate=si.createInflateRaw(qt(We({},this._options.zlibInflateOptions),{windowBits:l})),this._inflate[xs]=this,this._inflate[Qt]=0,this._inflate[yr]=[],this._inflate.on("error",AS),this._inflate.on("data",dh)}this._inflate[oi]=s,this._inflate.write(r),i&&this._inflate.write(TS),this._inflate.flush(()=>{let f=this._inflate[Cs];if(f){this._inflate.close(),this._inflate=null,s(f);return}let l=ch.concat(this._inflate[yr],this._inflate[Qt]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Qt]=0,this._inflate[yr]=[],i&&this.params[`${a}_no_context_takeover`]&&this._inflate.reset()),s(null,l)})}_compress(r,i,s){let a=this._isServer?"server":"client";if(!this._deflate){let f=`${a}_max_window_bits`,l=typeof this.params[f]!="number"?si.Z_DEFAULT_WINDOWBITS:this.params[f];this._deflate=si.createDeflateRaw(qt(We({},this._options.zlibDeflateOptions),{windowBits:l})),this._deflate[Qt]=0,this._deflate[yr]=[],this._deflate.on("data",OS)}this._deflate[oi]=s,this._deflate.write(r),this._deflate.flush(si.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let f=ch.concat(this._deflate[yr],this._deflate[Qt]);i&&(f=f.slice(0,f.length-4)),this._deflate[oi]=null,this._deflate[Qt]=0,this._deflate[yr]=[],i&&this.params[`${a}_no_context_takeover`]&&this._deflate.reset(),s(null,f)})}};gh.exports=hh;function OS(t){this[yr].push(t),this[Qt]+=t.length}function dh(t){if(this[Qt]+=t.length,this[xs]._maxPayload<1||this[Qt]<=this[xs]._maxPayload){this[yr].push(t);return}this[Cs]=new RangeError("Max payload size exceeded"),this[Cs].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Cs][lh]=1009,this.removeListener("data",dh),this.reset()}function AS(t){this[xs]._inflate=null,t[lh]=1007,this[oi](t)}});var ui=U((uT,Pa)=>{"use strict";var ph=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function mh(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function vh(t){let r=t.length,i=0;for(;i<r;)if((t[i]&128)==0)i++;else if((t[i]&224)==192){if(i+1===r||(t[i+1]&192)!=128||(t[i]&254)==192)return!1;i+=2}else if((t[i]&240)==224){if(i+2>=r||(t[i+1]&192)!=128||(t[i+2]&192)!=128||t[i]===224&&(t[i+1]&224)==128||t[i]===237&&(t[i+1]&224)==160)return!1;i+=3}else if((t[i]&248)==240){if(i+3>=r||(t[i+1]&192)!=128||(t[i+2]&192)!=128||(t[i+3]&192)!=128||t[i]===240&&(t[i+1]&240)==128||t[i]===244&&t[i+1]>143||t[i]>244)return!1;i+=4}else return!1;return!0}try{let t=require("utf-8-validate");Pa.exports={isValidStatusCode:mh,isValidUTF8(r){return r.length<150?vh(r):t(r)},tokenChars:ph}}catch{Pa.exports={isValidStatusCode:mh,isValidUTF8:vh,tokenChars:ph}}});var qa=U((fT,Ch)=>{"use strict";var{Writable:$S}=require("stream"),_h=ai(),{BINARY_TYPES:IS,EMPTY_BUFFER:yh,kStatusCode:kS,kWebSocket:LS}=_r(),{concat:Ma,toArrayBuffer:RS,unmask:FS}=ii(),{isValidStatusCode:DS,isValidUTF8:wh}=ui(),fi=0,bh=1,Sh=2,Eh=3,Ba=4,NS=5,xh=class extends $S{constructor(r={}){super();this._binaryType=r.binaryType||IS[0],this._extensions=r.extensions||{},this._isServer=!!r.isServer,this._maxPayload=r.maxPayload|0,this._skipUTF8Validation=!!r.skipUTF8Validation,this[LS]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=fi,this._loop=!1}_write(r,i,s){if(this._opcode===8&&this._state==fi)return s();this._bufferedBytes+=r.length,this._buffers.push(r),this.startLoop(s)}consume(r){if(this._bufferedBytes-=r,r===this._buffers[0].length)return this._buffers.shift();if(r<this._buffers[0].length){let s=this._buffers[0];return this._buffers[0]=s.slice(r),s.slice(0,r)}let i=Buffer.allocUnsafe(r);do{let s=this._buffers[0],a=i.length-r;r>=s.length?i.set(this._buffers.shift(),a):(i.set(new Uint8Array(s.buffer,s.byteOffset,r),a),this._buffers[0]=s.slice(r)),r-=s.length}while(r>0);return i}startLoop(r){let i;this._loop=!0;do switch(this._state){case fi:i=this.getInfo();break;case bh:i=this.getPayloadLength16();break;case Sh:i=this.getPayloadLength64();break;case Eh:this.getMask();break;case Ba:i=this.getData(r);break;default:this._loop=!1;return}while(this._loop);r(i)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!=0)return this._loop=!1,Re(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let i=(r[0]&64)==64;if(i&&!this._extensions[_h.extensionName])return this._loop=!1,Re(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(r[0]&128)==128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(i)return this._loop=!1,Re(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Re(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Re(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=i}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Re(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(i)return this._loop=!1,Re(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,Re(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Re(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)==128,this._isServer){if(!this._masked)return this._loop=!1,Re(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Re(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=bh;else if(this._payloadLength===127)this._state=Sh;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),i=r.readUInt32BE(0);return i>Math.pow(2,53-32)-1?(this._loop=!1,Re(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=i*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Re(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=Eh:this._state=Ba}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Ba}getData(r){let i=yh;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}i=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&FS(i,this._mask)}if(this._opcode>7)return this.controlMessage(i);if(this._compressed){this._state=NS,this.decompress(i,r);return}return i.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(i)),this.dataMessage()}decompress(r,i){this._extensions[_h.extensionName].decompress(r,this._fin,(a,f)=>{if(a)return i(a);if(f.length){if(this._messageLength+=f.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return i(Re(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(f)}let l=this.dataMessage();if(l)return i(l);this.startLoop(i)})}dataMessage(){if(this._fin){let r=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let s;this._binaryType==="nodebuffer"?s=Ma(i,r):this._binaryType==="arraybuffer"?s=RS(Ma(i,r)):s=i,this.emit("message",s,!0)}else{let s=Ma(i,r);if(!this._skipUTF8Validation&&!wh(s))return this._loop=!1,Re(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",s,!1)}}this._state=fi}controlMessage(r){if(this._opcode===8)if(this._loop=!1,r.length===0)this.emit("conclude",1005,yh),this.end();else{if(r.length===1)return Re(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let i=r.readUInt16BE(0);if(!DS(i))return Re(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let s=r.slice(2);if(!this._skipUTF8Validation&&!wh(s))return Re(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",i,s),this.end()}}else this._opcode===9?this.emit("ping",r):this.emit("pong",r);this._state=fi}};Ch.exports=xh;function Re(t,r,i,s,a){let f=new t(i?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(f,Re),f.code=a,f[kS]=s,f}});var Ua=U((hT,Ah)=>{"use strict";var cT=require("net"),lT=require("tls"),{randomFillSync:PS}=require("crypto"),Th=ai(),{EMPTY_BUFFER:MS}=_r(),{isValidStatusCode:BS}=ui(),{mask:Oh,toBuffer:gn}=ii(),Dt=Symbol("kByteLength"),qS=Buffer.alloc(4),er=class{constructor(r,i,s){this._extensions=i||{},s&&(this._generateMask=s,this._maskBuffer=Buffer.alloc(4)),this._socket=r,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(r,i){let s,a=!1,f=2,l=!1;i.mask&&(s=i.maskBuffer||qS,i.generateMask?i.generateMask(s):PS(s,0,4),l=(s[0]|s[1]|s[2]|s[3])==0,f=6);let g;typeof r=="string"?(!i.mask||l)&&i[Dt]!==void 0?g=i[Dt]:(r=Buffer.from(r),g=r.length):(g=r.length,a=i.mask&&i.readOnly&&!l);let p=g;g>=65536?(f+=8,p=127):g>125&&(f+=2,p=126);let m=Buffer.allocUnsafe(a?g+f:f);return m[0]=i.fin?i.opcode|128:i.opcode,i.rsv1&&(m[0]|=64),m[1]=p,p===126?m.writeUInt16BE(g,2):p===127&&(m[2]=m[3]=0,m.writeUIntBE(g,4,6)),i.mask?(m[1]|=128,m[f-4]=s[0],m[f-3]=s[1],m[f-2]=s[2],m[f-1]=s[3],l?[m,r]:a?(Oh(r,s,m,f,g),[m]):(Oh(r,s,r,0,g),[m,r])):[m,r]}close(r,i,s,a){let f;if(r===void 0)f=MS;else{if(typeof r!="number"||!BS(r))throw new TypeError("First argument must be a valid error code number");if(i===void 0||!i.length)f=Buffer.allocUnsafe(2),f.writeUInt16BE(r,0);else{let g=Buffer.byteLength(i);if(g>123)throw new RangeError("The message must not be greater than 123 bytes");f=Buffer.allocUnsafe(2+g),f.writeUInt16BE(r,0),typeof i=="string"?f.write(i,2):f.set(i,2)}}let l={[Dt]:f.length,fin:!0,generateMask:this._generateMask,mask:s,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,f,!1,l,a]):this.sendFrame(er.frame(f,l),a)}ping(r,i,s){let a,f;if(typeof r=="string"?(a=Buffer.byteLength(r),f=!1):(r=gn(r),a=r.length,f=gn.readOnly),a>125)throw new RangeError("The data size must not be greater than 125 bytes");let l={[Dt]:a,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:9,readOnly:f,rsv1:!1};this._deflating?this.enqueue([this.dispatch,r,!1,l,s]):this.sendFrame(er.frame(r,l),s)}pong(r,i,s){let a,f;if(typeof r=="string"?(a=Buffer.byteLength(r),f=!1):(r=gn(r),a=r.length,f=gn.readOnly),a>125)throw new RangeError("The data size must not be greater than 125 bytes");let l={[Dt]:a,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:10,readOnly:f,rsv1:!1};this._deflating?this.enqueue([this.dispatch,r,!1,l,s]):this.sendFrame(er.frame(r,l),s)}send(r,i,s){let a=this._extensions[Th.extensionName],f=i.binary?2:1,l=i.compress,g,p;if(typeof r=="string"?(g=Buffer.byteLength(r),p=!1):(r=gn(r),g=r.length,p=gn.readOnly),this._firstFragment?(this._firstFragment=!1,l&&a&&a.params[a._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=g>=a._threshold),this._compress=l):(l=!1,f=0),i.fin&&(this._firstFragment=!0),a){let m={[Dt]:g,fin:i.fin,generateMask:this._generateMask,mask:i.mask,maskBuffer:this._maskBuffer,opcode:f,readOnly:p,rsv1:l};this._deflating?this.enqueue([this.dispatch,r,this._compress,m,s]):this.dispatch(r,this._compress,m,s)}else this.sendFrame(er.frame(r,{[Dt]:g,fin:i.fin,generateMask:this._generateMask,mask:i.mask,maskBuffer:this._maskBuffer,opcode:f,readOnly:p,rsv1:!1}),s)}dispatch(r,i,s,a){if(!i){this.sendFrame(er.frame(r,s),a);return}let f=this._extensions[Th.extensionName];this._bufferedBytes+=s[Dt],this._deflating=!0,f.compress(r,s.fin,(l,g)=>{if(this._socket.destroyed){let p=new Error("The socket was closed while data was being compressed");typeof a=="function"&&a(p);for(let m=0;m<this._queue.length;m++){let y=this._queue[m],b=y[y.length-1];typeof b=="function"&&b(p)}return}this._bufferedBytes-=s[Dt],this._deflating=!1,s.readOnly=!1,this.sendFrame(er.frame(g,s),a),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let r=this._queue.shift();this._bufferedBytes-=r[3][Dt],Reflect.apply(r[0],this,r.slice(1))}}enqueue(r){this._bufferedBytes+=r[3][Dt],this._queue.push(r)}sendFrame(r,i){r.length===2?(this._socket.cork(),this._socket.write(r[0]),this._socket.write(r[1],i),this._socket.uncork()):this._socket.write(r[0],i)}};Ah.exports=er});var Mh=U((dT,Ph)=>{"use strict";var{kForOnEventAttribute:Wa,kListener:$h}=_r(),Ih=Symbol("kCode"),kh=Symbol("kData"),Lh=Symbol("kError"),Rh=Symbol("kMessage"),Fh=Symbol("kReason"),pn=Symbol("kTarget"),Dh=Symbol("kType"),Nh=Symbol("kWasClean"),wr=class{constructor(r){this[pn]=null,this[Dh]=r}get target(){return this[pn]}get type(){return this[Dh]}};Object.defineProperty(wr.prototype,"target",{enumerable:!0});Object.defineProperty(wr.prototype,"type",{enumerable:!0});var mn=class extends wr{constructor(r,i={}){super(r);this[Ih]=i.code===void 0?0:i.code,this[Fh]=i.reason===void 0?"":i.reason,this[Nh]=i.wasClean===void 0?!1:i.wasClean}get code(){return this[Ih]}get reason(){return this[Fh]}get wasClean(){return this[Nh]}};Object.defineProperty(mn.prototype,"code",{enumerable:!0});Object.defineProperty(mn.prototype,"reason",{enumerable:!0});Object.defineProperty(mn.prototype,"wasClean",{enumerable:!0});var ci=class extends wr{constructor(r,i={}){super(r);this[Lh]=i.error===void 0?null:i.error,this[Rh]=i.message===void 0?"":i.message}get error(){return this[Lh]}get message(){return this[Rh]}};Object.defineProperty(ci.prototype,"error",{enumerable:!0});Object.defineProperty(ci.prototype,"message",{enumerable:!0});var Os=class extends wr{constructor(r,i={}){super(r);this[kh]=i.data===void 0?null:i.data}get data(){return this[kh]}};Object.defineProperty(Os.prototype,"data",{enumerable:!0});var US={addEventListener(t,r,i={}){let s;if(t==="message")s=function(f,l){let g=new Os("message",{data:l?f:f.toString()});g[pn]=this,r.call(this,g)};else if(t==="close")s=function(f,l){let g=new mn("close",{code:f,reason:l.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});g[pn]=this,r.call(this,g)};else if(t==="error")s=function(f){let l=new ci("error",{error:f,message:f.message});l[pn]=this,r.call(this,l)};else if(t==="open")s=function(){let f=new wr("open");f[pn]=this,r.call(this,f)};else return;s[Wa]=!!i[Wa],s[$h]=r,i.once?this.once(t,s):this.on(t,s)},removeEventListener(t,r){for(let i of this.listeners(t))if(i[$h]===r&&!i[Wa]){this.removeListener(t,i);break}}};Ph.exports={CloseEvent:mn,ErrorEvent:ci,Event:wr,EventTarget:US,MessageEvent:Os}});var Ga=U((gT,Bh)=>{"use strict";var{tokenChars:li}=ui();function Wt(t,r,i){t[r]===void 0?t[r]=[i]:t[r].push(i)}function WS(t){let r=Object.create(null),i=Object.create(null),s=!1,a=!1,f=!1,l,g,p=-1,m=-1,y=-1,b=0;for(;b<t.length;b++)if(m=t.charCodeAt(b),l===void 0)if(y===-1&&li[m]===1)p===-1&&(p=b);else if(b!==0&&(m===32||m===9))y===-1&&p!==-1&&(y=b);else if(m===59||m===44){if(p===-1)throw new SyntaxError(`Unexpected character at index ${b}`);y===-1&&(y=b);let C=t.slice(p,y);m===44?(Wt(r,C,i),i=Object.create(null)):l=C,p=y=-1}else throw new SyntaxError(`Unexpected character at index ${b}`);else if(g===void 0)if(y===-1&&li[m]===1)p===-1&&(p=b);else if(m===32||m===9)y===-1&&p!==-1&&(y=b);else if(m===59||m===44){if(p===-1)throw new SyntaxError(`Unexpected character at index ${b}`);y===-1&&(y=b),Wt(i,t.slice(p,y),!0),m===44&&(Wt(r,l,i),i=Object.create(null),l=void 0),p=y=-1}else if(m===61&&p!==-1&&y===-1)g=t.slice(p,b),p=y=-1;else throw new SyntaxError(`Unexpected character at index ${b}`);else if(a){if(li[m]!==1)throw new SyntaxError(`Unexpected character at index ${b}`);p===-1?p=b:s||(s=!0),a=!1}else if(f)if(li[m]===1)p===-1&&(p=b);else if(m===34&&p!==-1)f=!1,y=b;else if(m===92)a=!0;else throw new SyntaxError(`Unexpected character at index ${b}`);else if(m===34&&t.charCodeAt(b-1)===61)f=!0;else if(y===-1&&li[m]===1)p===-1&&(p=b);else if(p!==-1&&(m===32||m===9))y===-1&&(y=b);else if(m===59||m===44){if(p===-1)throw new SyntaxError(`Unexpected character at index ${b}`);y===-1&&(y=b);let C=t.slice(p,y);s&&(C=C.replace(/\\/g,""),s=!1),Wt(i,g,C),m===44&&(Wt(r,l,i),i=Object.create(null),l=void 0),g=void 0,p=y=-1}else throw new SyntaxError(`Unexpected character at index ${b}`);if(p===-1||f||m===32||m===9)throw new SyntaxError("Unexpected end of input");y===-1&&(y=b);let E=t.slice(p,y);return l===void 0?Wt(r,E,i):(g===void 0?Wt(i,E,!0):s?Wt(i,g,E.replace(/\\/g,"")):Wt(i,g,E),Wt(r,l,i)),r}function GS(t){return Object.keys(t).map(r=>{let i=t[r];return Array.isArray(i)||(i=[i]),i.map(s=>[r].concat(Object.keys(s).map(a=>{let f=s[a];return Array.isArray(f)||(f=[f]),f.map(l=>l===!0?a:`${a}=${l}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Bh.exports={format:GS,parse:WS}});var Va=U((mT,Vh)=>{"use strict";var jS=require("events"),HS=require("https"),zS=require("http"),qh=require("net"),KS=require("tls"),{randomBytes:YS,createHash:VS}=require("crypto"),{Readable:pT}=require("stream"),{URL:ja}=require("url"),br=ai(),JS=qa(),XS=Ua(),{BINARY_TYPES:Uh,EMPTY_BUFFER:As,GUID:ZS,kForOnEventAttribute:Ha,kListener:QS,kStatusCode:eE,kWebSocket:Ke,NOOP:Wh}=_r(),{EventTarget:{addEventListener:tE,removeEventListener:rE}}=Mh(),{format:nE,parse:iE}=Ga(),{toBuffer:sE}=ii(),tr=["CONNECTING","OPEN","CLOSING","CLOSED"],oE=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,za=[8,13],aE=30*1e3,Z=class extends jS{constructor(r,i,s){super();this._binaryType=Uh[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=As,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=Z.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,r!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,i===void 0?i=[]:Array.isArray(i)||(typeof i=="object"&&i!==null?(s=i,i=[]):i=[i]),Gh(this,r,i,s)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(r){!Uh.includes(r)||(this._binaryType=r,this._receiver&&(this._receiver._binaryType=r))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(r,i,s){let a=new JS({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation});this._sender=new XS(r,this._extensions,s.generateMask),this._receiver=a,this._socket=r,a[Ke]=this,r[Ke]=this,a.on("conclude",cE),a.on("drain",lE),a.on("error",hE),a.on("message",dE),a.on("ping",gE),a.on("pong",pE),r.setTimeout(0),r.setNoDelay(),i.length>0&&r.unshift(i),r.on("close",zh),r.on("data",$s),r.on("end",Kh),r.on("error",Yh),this._readyState=Z.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=Z.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[br.extensionName]&&this._extensions[br.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=Z.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(r,i){if(this.readyState!==Z.CLOSED){if(this.readyState===Z.CONNECTING){let s="WebSocket was closed before the connection was established";return xt(this,this._req,s)}if(this.readyState===Z.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=Z.CLOSING,this._sender.close(r,i,!this._isServer,s=>{s||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),aE)}}pause(){this.readyState===Z.CONNECTING||this.readyState===Z.CLOSED||(this._paused=!0,this._socket.pause())}ping(r,i,s){if(this.readyState===Z.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"?(s=r,r=i=void 0):typeof i=="function"&&(s=i,i=void 0),typeof r=="number"&&(r=r.toString()),this.readyState!==Z.OPEN){Ya(this,r,s);return}i===void 0&&(i=!this._isServer),this._sender.ping(r||As,i,s)}pong(r,i,s){if(this.readyState===Z.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"?(s=r,r=i=void 0):typeof i=="function"&&(s=i,i=void 0),typeof r=="number"&&(r=r.toString()),this.readyState!==Z.OPEN){Ya(this,r,s);return}i===void 0&&(i=!this._isServer),this._sender.pong(r||As,i,s)}resume(){this.readyState===Z.CONNECTING||this.readyState===Z.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(r,i,s){if(this.readyState===Z.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof i=="function"&&(s=i,i={}),typeof r=="number"&&(r=r.toString()),this.readyState!==Z.OPEN){Ya(this,r,s);return}let a=We({binary:typeof r!="string",mask:!this._isServer,compress:!0,fin:!0},i);this._extensions[br.extensionName]||(a.compress=!1),this._sender.send(r||As,a,s)}terminate(){if(this.readyState!==Z.CLOSED){if(this.readyState===Z.CONNECTING){let r="WebSocket was closed before the connection was established";return xt(this,this._req,r)}this._socket&&(this._readyState=Z.CLOSING,this._socket.destroy())}}};Object.defineProperty(Z,"CONNECTING",{enumerable:!0,value:tr.indexOf("CONNECTING")});Object.defineProperty(Z.prototype,"CONNECTING",{enumerable:!0,value:tr.indexOf("CONNECTING")});Object.defineProperty(Z,"OPEN",{enumerable:!0,value:tr.indexOf("OPEN")});Object.defineProperty(Z.prototype,"OPEN",{enumerable:!0,value:tr.indexOf("OPEN")});Object.defineProperty(Z,"CLOSING",{enumerable:!0,value:tr.indexOf("CLOSING")});Object.defineProperty(Z.prototype,"CLOSING",{enumerable:!0,value:tr.indexOf("CLOSING")});Object.defineProperty(Z,"CLOSED",{enumerable:!0,value:tr.indexOf("CLOSED")});Object.defineProperty(Z.prototype,"CLOSED",{enumerable:!0,value:tr.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(Z.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(Z.prototype,`on${t}`,{enumerable:!0,get(){for(let r of this.listeners(t))if(r[Ha])return r[QS];return null},set(r){for(let i of this.listeners(t))if(i[Ha]){this.removeListener(t,i);break}typeof r=="function"&&this.addEventListener(t,r,{[Ha]:!0})}})});Z.prototype.addEventListener=tE;Z.prototype.removeEventListener=rE;Vh.exports=Z;function Gh(t,r,i,s){let a=qt(We({protocolVersion:za[1],maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},s),{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0});if(!za.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${za.join(", ")})`);let f;if(r instanceof ja)f=r,t._url=r.href;else{try{f=new ja(r)}catch{throw new SyntaxError(`Invalid URL: ${r}`)}t._url=r}let l=f.protocol==="wss:",g=f.protocol==="ws+unix:",p;if(f.protocol!=="ws:"&&!l&&!g?p=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:g&&!f.pathname?p="The URL's pathname is empty":f.hash&&(p="The URL contains a fragment identifier"),p){let L=new SyntaxError(p);if(t._redirects===0)throw L;Ka(t,L);return}let m=l?443:80,y=YS(16).toString("base64"),b=l?HS.get:zS.get,E=new Set,C;if(a.createConnection=l?fE:uE,a.defaultPort=a.defaultPort||m,a.port=f.port||m,a.host=f.hostname.startsWith("[")?f.hostname.slice(1,-1):f.hostname,a.headers=We({"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":y,Connection:"Upgrade",Upgrade:"websocket"},a.headers),a.path=f.pathname+f.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(C=new br(a.perMessageDeflate!==!0?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=nE({[br.extensionName]:C.offer()})),i.length){for(let L of i){if(typeof L!="string"||!oE.test(L)||E.has(L))throw new SyntaxError("An invalid or duplicated subprotocol was specified");E.add(L)}a.headers["Sec-WebSocket-Protocol"]=i.join(",")}if(a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin),(f.username||f.password)&&(a.auth=`${f.username}:${f.password}`),g){let L=a.path.split(":");a.socketPath=L[0],a.path=L[1]}let O=t._req=b(a);a.timeout&&O.on("timeout",()=>{xt(t,O,"Opening handshake has timed out")}),O.on("error",L=>{O===null||O.aborted||(O=t._req=null,Ka(t,L))}),O.on("response",L=>{let I=L.headers.location,N=L.statusCode;if(I&&a.followRedirects&&N>=300&&N<400){if(++t._redirects>a.maxRedirects){xt(t,O,"Maximum redirects exceeded");return}O.abort();let P;try{P=new ja(I,r)}catch{let W=new SyntaxError(`Invalid URL: ${I}`);Ka(t,W);return}Gh(t,P,i,s)}else t.emit("unexpected-response",O,L)||xt(t,O,`Unexpected server response: ${L.statusCode}`)}),O.on("upgrade",(L,I,N)=>{if(t.emit("upgrade",L),t.readyState!==Z.CONNECTING)return;O=t._req=null;let P=VS("sha1").update(y+ZS).digest("base64");if(L.headers["sec-websocket-accept"]!==P){xt(t,I,"Invalid Sec-WebSocket-Accept header");return}let M=L.headers["sec-websocket-protocol"],W;if(M!==void 0?E.size?E.has(M)||(W="Server sent an invalid subprotocol"):W="Server sent a subprotocol but none was requested":E.size&&(W="Server sent no subprotocol"),W){xt(t,I,W);return}M&&(t._protocol=M);let V=L.headers["sec-websocket-extensions"];if(V!==void 0){if(!C){xt(t,I,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let oe;try{oe=iE(V)}catch{xt(t,I,"Invalid Sec-WebSocket-Extensions header");return}let fe=Object.keys(oe);if(fe.length!==1||fe[0]!==br.extensionName){xt(t,I,"Server indicated an extension that was not requested");return}try{C.accept(oe[br.extensionName])}catch{xt(t,I,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[br.extensionName]=C}t.setSocket(I,N,{generateMask:a.generateMask,maxPayload:a.maxPayload,skipUTF8Validation:a.skipUTF8Validation})})}function Ka(t,r){t._readyState=Z.CLOSING,t.emit("error",r),t.emitClose()}function uE(t){return t.path=t.socketPath,qh.connect(t)}function fE(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=qh.isIP(t.host)?"":t.host),KS.connect(t)}function xt(t,r,i){t._readyState=Z.CLOSING;let s=new Error(i);Error.captureStackTrace(s,xt),r.setHeader?(r.abort(),r.socket&&!r.socket.destroyed&&r.socket.destroy(),r.once("abort",t.emitClose.bind(t)),t.emit("error",s)):(r.destroy(s),r.once("error",t.emit.bind(t,"error")),r.once("close",t.emitClose.bind(t)))}function Ya(t,r,i){if(r){let s=sE(r).length;t._socket?t._sender._bufferedBytes+=s:t._bufferedAmount+=s}if(i){let s=new Error(`WebSocket is not open: readyState ${t.readyState} (${tr[t.readyState]})`);i(s)}}function cE(t,r){let i=this[Ke];i._closeFrameReceived=!0,i._closeMessage=r,i._closeCode=t,i._socket[Ke]!==void 0&&(i._socket.removeListener("data",$s),process.nextTick(Hh,i._socket),t===1005?i.close():i.close(t,r))}function lE(){let t=this[Ke];t.isPaused||t._socket.resume()}function hE(t){let r=this[Ke];r._socket[Ke]!==void 0&&(r._socket.removeListener("data",$s),process.nextTick(Hh,r._socket),r.close(t[eE])),r.emit("error",t)}function jh(){this[Ke].emitClose()}function dE(t,r){this[Ke].emit("message",t,r)}function gE(t){let r=this[Ke];r.pong(t,!r._isServer,Wh),r.emit("ping",t)}function pE(t){this[Ke].emit("pong",t)}function Hh(t){t.resume()}function zh(){let t=this[Ke];this.removeListener("close",zh),this.removeListener("data",$s),this.removeListener("end",Kh),t._readyState=Z.CLOSING;let r;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(r=t._socket.read())!==null&&t._receiver.write(r),t._receiver.end(),this[Ke]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",jh),t._receiver.on("finish",jh))}function $s(t){this[Ke]._receiver.write(t)||this.pause()}function Kh(){let t=this[Ke];t._readyState=Z.CLOSING,t._receiver.end(),this.end()}function Yh(){let t=this[Ke];this.removeListener("error",Yh),this.on("error",Wh),t&&(t._readyState=Z.CLOSING,this.destroy())}});var Qh=U((vT,Zh)=>{"use strict";var{Duplex:mE}=require("stream");function Jh(t){t.emit("close")}function vE(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Xh(t){this.removeListener("error",Xh),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function _E(t,r){let i=!0,s=new mE(qt(We({},r),{autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1}));return t.on("message",function(f,l){let g=!l&&s._readableState.objectMode?f.toString():f;s.push(g)||t.pause()}),t.once("error",function(f){s.destroyed||(i=!1,s.destroy(f))}),t.once("close",function(){s.destroyed||s.push(null)}),s._destroy=function(a,f){if(t.readyState===t.CLOSED){f(a),process.nextTick(Jh,s);return}let l=!1;t.once("error",function(p){l=!0,f(p)}),t.once("close",function(){l||f(a),process.nextTick(Jh,s)}),i&&t.terminate()},s._final=function(a){if(t.readyState===t.CONNECTING){t.once("open",function(){s._final(a)});return}t._socket!==null&&(t._socket._writableState.finished?(a(),s._readableState.endEmitted&&s.destroy()):(t._socket.once("finish",function(){a()}),t.close()))},s._read=function(){t.isPaused&&t.resume()},s._write=function(a,f,l){if(t.readyState===t.CONNECTING){t.once("open",function(){s._write(a,f,l)});return}t.send(a,l)},s.on("end",vE),s.on("error",Xh),s}Zh.exports=_E});var td=U((_T,ed)=>{"use strict";var{tokenChars:yE}=ui();function wE(t){let r=new Set,i=-1,s=-1,a=0;for(a;a<t.length;a++){let l=t.charCodeAt(a);if(s===-1&&yE[l]===1)i===-1&&(i=a);else if(a!==0&&(l===32||l===9))s===-1&&i!==-1&&(s=a);else if(l===44){if(i===-1)throw new SyntaxError(`Unexpected character at index ${a}`);s===-1&&(s=a);let g=t.slice(i,s);if(r.has(g))throw new SyntaxError(`The "${g}" subprotocol is duplicated`);r.add(g),i=s=-1}else throw new SyntaxError(`Unexpected character at index ${a}`)}if(i===-1||s!==-1)throw new SyntaxError("Unexpected end of input");let f=t.slice(i,a);if(r.has(f))throw new SyntaxError(`The "${f}" subprotocol is duplicated`);return r.add(f),r}ed.exports={parse:wE}});var ud=U((ST,ad)=>{"use strict";var bE=require("events"),Is=require("http"),yT=require("https"),wT=require("net"),bT=require("tls"),{createHash:SE}=require("crypto"),rd=Ga(),Mr=ai(),EE=td(),xE=Va(),{GUID:CE,kWebSocket:TE}=_r(),OE=/^[+/0-9A-Za-z]{22}==$/,nd=0,id=1,sd=2,od=class extends bE{constructor(r,i){super();if(r=We({maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},r),r.port==null&&!r.server&&!r.noServer||r.port!=null&&(r.server||r.noServer)||r.server&&r.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(r.port!=null?(this._server=Is.createServer((s,a)=>{let f=Is.STATUS_CODES[426];a.writeHead(426,{"Content-Length":f.length,"Content-Type":"text/plain"}),a.end(f)}),this._server.listen(r.port,r.host,r.backlog,i)):r.server&&(this._server=r.server),this._server){let s=this.emit.bind(this,"connection");this._removeListeners=AE(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(a,f,l)=>{this.handleUpgrade(a,f,l,s)}})}r.perMessageDeflate===!0&&(r.perMessageDeflate={}),r.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=r,this._state=nd}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(r){if(this._state===sd){r&&this.once("close",()=>{r(new Error("The server is not running"))}),process.nextTick(hi,this);return}if(r&&this.once("close",r),this._state!==id)if(this._state=id,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(hi,this):process.nextTick(hi,this);else{let i=this._server;this._removeListeners(),this._removeListeners=this._server=null,i.close(()=>{hi(this)})}}shouldHandle(r){if(this.options.path){let i=r.url.indexOf("?");if((i!==-1?r.url.slice(0,i):r.url)!==this.options.path)return!1}return!0}handleUpgrade(r,i,s,a){i.on("error",Ja);let f=r.headers["sec-websocket-key"]!==void 0?r.headers["sec-websocket-key"]:!1,l=+r.headers["sec-websocket-version"];if(r.method!=="GET"||r.headers.upgrade.toLowerCase()!=="websocket"||!f||!OE.test(f)||l!==8&&l!==13||!this.shouldHandle(r))return vn(i,400);let g=r.headers["sec-websocket-protocol"],p=new Set;if(g!==void 0)try{p=EE.parse(g)}catch{return vn(i,400)}let m=r.headers["sec-websocket-extensions"],y={};if(this.options.perMessageDeflate&&m!==void 0){let b=new Mr(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let E=rd.parse(m);E[Mr.extensionName]&&(b.accept(E[Mr.extensionName]),y[Mr.extensionName]=b)}catch{return vn(i,400)}}if(this.options.verifyClient){let b={origin:r.headers[`${l===8?"sec-websocket-origin":"origin"}`],secure:!!(r.socket.authorized||r.socket.encrypted),req:r};if(this.options.verifyClient.length===2){this.options.verifyClient(b,(E,C,O,L)=>{if(!E)return vn(i,C||401,O,L);this.completeUpgrade(y,f,p,r,i,s,a)});return}if(!this.options.verifyClient(b))return vn(i,401)}this.completeUpgrade(y,f,p,r,i,s,a)}completeUpgrade(r,i,s,a,f,l,g){if(!f.readable||!f.writable)return f.destroy();if(f[TE])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>nd)return vn(f,503);let p=SE("sha1").update(i+CE).digest("base64"),m=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${p}`],y=new xE(null);if(s.size){let b=this.options.handleProtocols?this.options.handleProtocols(s,a):s.values().next().value;b&&(m.push(`Sec-WebSocket-Protocol: ${b}`),y._protocol=b)}if(r[Mr.extensionName]){let b=r[Mr.extensionName].params,E=rd.format({[Mr.extensionName]:[b]});m.push(`Sec-WebSocket-Extensions: ${E}`),y._extensions=r}this.emit("headers",m,a),f.write(m.concat(`\r
`).join(`\r
`)),f.removeListener("error",Ja),y.setSocket(f,l,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(y),y.on("close",()=>{this.clients.delete(y),this._shouldEmitClose&&!this.clients.size&&process.nextTick(hi,this)})),g(y,a)}};ad.exports=od;function AE(t,r){for(let i of Object.keys(r))t.on(i,r[i]);return function(){for(let s of Object.keys(r))t.removeListener(s,r[s])}}function hi(t){t._state=sd,t.emit("close")}function Ja(){this.destroy()}function vn(t,r,i,s){t.writable&&(i=i||Is.STATUS_CODES[r],s=We({Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i)},s),t.write(`HTTP/1.1 ${r} ${Is.STATUS_CODES[r]}\r
`+Object.keys(s).map(a=>`${a}: ${s[a]}`).join(`\r
`)+`\r
\r
`+i)),t.removeListener("error",Ja),t.destroy()}});var Xa=U((ET,fd)=>{"use strict";var rr=Va();rr.createWebSocketStream=Qh();rr.Server=ud();rr.Receiver=qa();rr.Sender=Ua();rr.WebSocket=rr;rr.WebSocketServer=rr.Server;fd.exports=rr});var dd=U((xT,hd)=>{"use strict";var cd=require("querystring"),$E=require("crypto"),Za=bs(),IE=Aa(),_n=Ra()("lambda"),ld=Fa(),kE=eh(),LE=Xa();function RE(t,r){let i=$E.createHmac("sha256",r).update(t,"utf8").digest();return Buffer.from(i,"binary").toString("base64")}function Ze(t,r){return r?`${t}.${r}`:t}var di=class{constructor(r,i){if(!r)throw new TypeError('"accountid" must be passed in');if(this.accountid=r,!i)throw new TypeError('"config" must be passed in');let s=i.accessKeyID;if(!s)throw new TypeError('"config.accessKeyID" must be passed in');if(this.accessKeyID=s,this.accessKeyID.startsWith("STS")&&(this.securityToken=i.securityToken,!this.securityToken))throw new TypeError('"config.securityToken" must be passed in for STS');let a=i.accessKeySecret;if(!a)throw new TypeError('"config.accessKeySecret" must be passed in');this.accessKeySecret=a;let f=i.region;if(!f)throw new TypeError('"config.region" must be passed in');let l=i.secure?"https":"http",g=i.internal?"-internal":"";if(this.endpoint=i.endpoint||`${l}://${r}.${f}${g}.fc.aliyuncs.com`,this.host=`${r}.${f}${g}.fc.aliyuncs.com`,i.endpoint){var p=new URL(i.endpoint);this.host=p.hostname}this.version="2016-08-15",this.timeout=Number.isFinite(i.timeout)?i.timeout:6e4,this.headers=i.headers||{}}buildHeaders(){var r=new Date;let i={accept:"application/json",date:r.toUTCString(),host:this.host,"user-agent":`Node.js(${process.version}) OS(${process.platform}/${process.arch}) SDK(${ld.name}@v${ld.version})`,"x-fc-account-id":this.accountid};return this.securityToken&&(i["x-fc-security-token"]=this.securityToken),i}async request(r,i,s,a,f={},l={}){var g=`${this.endpoint}/${this.version}${i}`;s&&Object.keys(s).length>0&&(g=`${g}?${cd.stringify(s)}`),f=Object.assign(this.buildHeaders(),this.headers,f);var p;if(a){_n("request body: %s",a);var m=null;if(Buffer.isBuffer(a)?(m=a,f["content-type"]="application/octet-stream"):typeof a=="string"?(m=Buffer.from(a,"utf8"),f["content-type"]="application/octet-stream"):typeof a.pipe=="function"?(m=a,f["content-type"]="application/octet-stream"):(m=Buffer.from(JSON.stringify(a),"utf8"),f["content-type"]="application/json"),typeof a.pipe!="function"){let I=IE.md5(m,"hex"),N=Buffer.from(I,"utf8").toString("base64");f["content-length"]=m.length,f["content-md5"]=N}p=m}var y=null;i.startsWith("/proxy/")&&(y=s||{});var b=di.getSignature(this.accessKeyID,this.accessKeySecret,r,`/${this.version}${i}`,f,y);f.authorization=b,_n("request headers: %j",f);let E=await Za.request(g,{method:r,timeout:this.timeout,headers:f,data:p});_n("response status: %s",E.statusCode),_n("response headers: %j",E.headers);var C;if(!l.rawBuf||E.headers["x-fc-error-type"]?C=await Za.read(E,"utf8"):C=await Za.read(E),_n("response body: %s",C),(E.headers["content-type"]||"").startsWith("application/json")&&(C=JSON.parse(C)),E.statusCode<200||E.statusCode>=300){let I=E.statusCode,N=E.headers["x-fc-request-id"];var L;C.ErrorMessage?L=C.ErrorMessage:L=C.errorMessage;let P=new Error(`${r} ${i} failed with ${I}. requestid: ${N}, message: ${L}.`);throw P.name=`FC${C.ErrorCode}Error`,P.code=C.ErrorCode,P}return{headers:E.headers,data:C}}get(r,i,s){return this.request("GET",r,i,null,s)}post(r,i,s,a,f={}){return this.request("POST",r,a,i,s,f)}put(r,i,s){return this.request("PUT",r,null,i,s)}delete(r,i,s){return this.request("DELETE",r,i,null,s)}websocket(r,i,s={}){var a=`${this.endpoint.replace(/^http/,"ws")}/${this.version}${r}`;i&&Object.keys(i).length>0&&(a=`${a}?${cd.stringify(i)}`),s=Object.assign(this.buildHeaders(),this.headers,s);var f=null;r.startsWith("/proxy/")&&(f=i||{});var l=di.getSignature(this.accessKeyID,this.accessKeySecret,"GET",`/${this.version}${r}`,s,f);return s.authorization=l,new LE(a,{headers:s})}createService(r,i={},s){return this.post("/services",Object.assign({serviceName:r},i),s)}listServices(r={},i){if(r.tags!==void 0){for(var s in r.tags)Object.prototype.hasOwnProperty.call(r.tags,s)&&(r[`tag_${s}`]=r.tags[s]);delete r.tags}return this.get("/services",r,i)}getService(r,i={},s){return this.get(`/services/${Ze(r,s)}`,null,i)}updateService(r,i={},s){return this.put(`/services/${r}`,i,s)}deleteService(r,i={},s){return this.delete(`/services/${r}`,null,i,s)}createFunction(r,i,s){return this.normalizeParams(i),this.post(`/services/${r}/functions`,i,s)}normalizeParams(r){r.functionName&&(r.functionName=String(r.functionName)),r.runtime&&(r.runtime=String(r.runtime)),r.handler&&(r.handler=String(r.handler)),r.initializer&&(r.initializer=String(r.initializer)),r.memorySize&&(r.memorySize=parseInt(r.memorySize,10)),r.timeout&&(r.timeout=parseInt(r.timeout,10)),r.initializationTimeout&&(r.initializationTimeout=parseInt(r.initializationTimeout,10))}listFunctions(r,i={},s={},a){return this.get(`/services/${Ze(r,a)}/functions`,i,s)}getFunction(r,i,s={},a){return this.get(`/services/${Ze(r,a)}/functions/${i}`,null,s)}getFunctionCode(r,i,s={},a){return this.get(`/services/${Ze(r,a)}/functions/${i}/code`,s)}updateFunction(r,i,s,a){this.normalizeParams(s);let f=`/services/${r}/functions/${i}`;return this.put(f,s,a)}deleteFunction(r,i,s={},a){let f=`/services/${r}/functions/${i}`;return this.delete(f,s,a)}invokeFunction(r,i,s,a={},f,l={}){if(s&&typeof s!="string"&&!Buffer.isBuffer(s))throw new TypeError('"event" must be String or Buffer');let g=`/services/${Ze(r,f)}/functions/${i}/invocations`;return this.post(g,s,a,null,l)}createTrigger(r,i,s,a={}){let f=`/services/${r}/functions/${i}/triggers`;return this.post(f,s,a)}listTriggers(r,i,s={},a){let f=`/services/${r}/functions/${i}/triggers`;return this.get(f,s,a)}getTrigger(r,i,s,a){let f=`/services/${r}/functions/${i}/triggers/${s}`;return this.get(f,null,a)}updateTrigger(r,i,s,a={},f={}){let l=`/services/${r}/functions/${i}/triggers/${s}`;return this.put(l,a,f)}deleteTrigger(r,i,s,a,f){let l=`/services/${r}/functions/${i}/triggers/${s}`;return this.delete(l,a,f)}createCustomDomain(r,i={},s){return this.post("/custom-domains",Object.assign({domainName:r},i),s)}listCustomDomains(r={},i){return this.get("/custom-domains",r,i)}getCustomDomain(r,i){return this.get(`/custom-domains/${r}`,null,i)}updateCustomDomain(r,i={},s){return this.put(`/custom-domains/${r}`,i,s)}deleteCustomDomain(r,i={},s){return this.delete(`/custom-domains/${r}`,null,i,s)}publishVersion(r,i,s){var a={};return i&&(a.description=i),this.post(`/services/${r}/versions`,a,s||{})}listVersions(r,i={},s={}){return this.get(`/services/${r}/versions`,i,s)}deleteVersion(r,i,s={}){return this.delete(`/services/${r}/versions/${i}`,null,s)}createAlias(r,i,s,a={},f={}){return a.aliasName=i,a.versionId=s,this.post(`/services/${r}/aliases`,a,f)}deleteAlias(r,i,s={}){return this.delete(`/services/${r}/aliases/${i}`,null,s)}listAliases(r,i={},s={}){return this.get(`/services/${r}/aliases`,i,s)}getAlias(r,i,s={}){return this.get(`/services/${r}/aliases/${i}`,null,s)}updateAlias(r,i,s,a={},f={}){return s&&(a.versionId=s),this.put(`/services/${r}/aliases/${i}`,a,f)}tagResource(r,i,s={},a={}){return s.resourceArn=r,s.tags=i,this.post("/tag",s,a)}untagResource(r,i,s=!1,a={},f={}){return a.resourceArn=r,a.tagKeys=i,a.all=s,this.request("DELETE","/tag",null,a,f)}getResourceTags(r={},i={}){return this.get("/tag",r,i)}listReservedCapacities(r={},i){return this.get("/reservedCapacities",r,i)}listProvisionConfigs(r={},i){return this.get("/provision-configs",r,i)}getProvisionConfig(r,i,s,a={}){return this.get(`/services/${Ze(r,s)}/functions/${i}/provision-config`,null,a)}putProvisionConfig(r,i,s,a={},f={}){return this.put(`/services/${Ze(r,s)}/functions/${i}/provision-config`,a,f)}deleteFunctionAsyncConfig(r,i,s,a={}){return this.delete(`/services/${Ze(r,s)}/functions/${i}/async-invoke-config`,null,a)}listFunctionAsyncConfigs(r,i,s={},a={}){return this.get(`/services/${r}/functions/${i}/async-invoke-configs`,s,a)}getFunctionAsyncConfig(r,i,s,a={}){return this.get(`/services/${Ze(r,s)}/functions/${i}/async-invoke-config`,null,a)}putFunctionAsyncConfig(r,i,s,a={},f={}){return this.put(`/services/${Ze(r,s)}/functions/${i}/async-invoke-config`,a,f)}getAccountSettings(r={},i={}){return this.get("/account-settings",r,i)}listLayers(r={},i={}){return this.get("/layers",r,i)}listLayerVersions(r,i={},s={}){return this.get(`/layers/${r}/versions`,i,s)}getLayerVersion(r,i,s={},a={}){return this.get(`/layers/${r}/versions/${i}`,s,a)}publishLayerVersion(r,i={},s={}){return this.post(`/layers/${r}/versions`,i,s)}deleteLayerVersion(r,i,s={}){return this.delete(`/layers/${r}/versions/${i}`,null,s)}listOnDemandConfigs(r={},i={}){return this.get("/on-demand-configs",r,i)}getOnDemandConfig(r,i,s,a={},f={}){return this.get(`/services/${Ze(r,s)}/functions/${i}/on-demand-config`,a,f)}putOnDemandConfig(r,i,s,a={},f={}){return this.put(`/services/${Ze(r,s)}/functions/${i}/on-demand-config`,a,f)}deleteOnDemandConfig(r,i,s,a={},f={}){return this.delete(`/services/${Ze(r,s)}/functions/${i}/on-demand-config`,a,f)}listInstances(r,i,s,a={},f={}){return this.get(`/services/${Ze(r,s)}/functions/${i}/instances`,a,f)}async instanceExec(r,i,s="",a,f={},l={}){let g=0,p=1,m=2;var y={command:"/bin/bash",tty:!0,stdin:!0,stdout:!0,stderr:!1,idleTimeout:120};for(var b of Object.keys(y))typeof f[b]!="undefined"&&(y[b]=f[b]);let{onClose:E=()=>{},onError:C=()=>{},onStdout:O=()=>{},onStderr:L=()=>{}}=l,I=this.websocket(`/services/${Ze(r,s)}/functions/${i}/instances/${a}/exec`,y),N=setInterval(function(){try{I.ping()}catch{I.close()}},5e3);return I.on("unexpected-response",function(P,M){var W=[];M.on("data",function(V){W=W.concat(V)}),M.on("end",function(){let V=JSON.parse(W.toString()),oe=new Error(V.ErrorMessage);C(oe),I.close()})}),I.on("close",P=>{clearInterval(N),E(P)}),I.on("error",(P,M)=>C(P,M)),I.on("ping",P=>I.pong(P)),I.on("message",P=>{if(!!P&&P.length>=2){let M=P[0],W=P.slice(1);M===p&&O?O(W):M===m&&L&&L(W)}}),await(async()=>{new Promise(P=>I.onopen=P)}),{websocket:I,close:()=>I.close(),sendMessage:P=>{if(!(P instanceof Uint8Array))throw new Error("data must be Uint8Array");let M=new Uint8Array(P.length+1);M.set([g]),M.set(P,1),I.send(M)}}}static getSignature(r,i,s,a,f,l){var g=kE.composeStringToSign(s,a,f,l);_n("stringToSign: %s",g);var p=RE(g,i);return`FC ${r}:${p}`}};hd.exports=di});var gd=U((CT,ks)=>{(function(t){"use strict";var r=Object.prototype,i=r.hasOwnProperty,s,a=typeof Symbol=="function"?Symbol:{},f=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",g=a.toStringTag||"@@toStringTag",p=typeof ks=="object",m=t.regeneratorRuntime;if(m){p&&(ks.exports=m);return}m=t.regeneratorRuntime=p?ks.exports:{};function y(R,k,D,H){var j=k&&k.prototype instanceof N?k:N,we=Object.create(j.prototype),Te=new Nt(H||[]);return we._invoke=gt(R,D,Te),we}m.wrap=y;function b(R,k,D){try{return{type:"normal",arg:R.call(k,D)}}catch(H){return{type:"throw",arg:H}}}var E="suspendedStart",C="suspendedYield",O="executing",L="completed",I={};function N(){}function P(){}function M(){}var W={};W[f]=function(){return this};var V=Object.getPrototypeOf,oe=V&&V(V(je([])));oe&&oe!==r&&i.call(oe,f)&&(W=oe);var fe=M.prototype=N.prototype=Object.create(W);P.prototype=fe.constructor=M,M.constructor=P,M[g]=P.displayName="GeneratorFunction";function Ee(R){["next","throw","return"].forEach(function(k){R[k]=function(D){return this._invoke(k,D)}})}m.isGeneratorFunction=function(R){var k=typeof R=="function"&&R.constructor;return k?k===P||(k.displayName||k.name)==="GeneratorFunction":!1},m.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,M):(R.__proto__=M,g in R||(R[g]="GeneratorFunction")),R.prototype=Object.create(fe),R},m.awrap=function(R){return{__await:R}};function re(R){function k(j,we,Te,qe){var st=b(R[j],R,we);if(st.type==="throw")qe(st.arg);else{var De=st.arg,At=De.value;return At&&typeof At=="object"&&i.call(At,"__await")?Promise.resolve(At.__await).then(function(Tr){k("next",Tr,Te,qe)},function(Tr){k("throw",Tr,Te,qe)}):Promise.resolve(At).then(function(Tr){De.value=Tr,Te(De)},qe)}}var D;function H(j,we){function Te(){return new Promise(function(qe,st){k(j,we,qe,st)})}return D=D?D.then(Te,Te):Te()}this._invoke=H}Ee(re.prototype),re.prototype[l]=function(){return this},m.AsyncIterator=re,m.async=function(R,k,D,H){var j=new re(y(R,k,D,H));return m.isGeneratorFunction(k)?j:j.next().then(function(we){return we.done?we.value:j.next()})};function gt(R,k,D){var H=E;return function(we,Te){if(H===O)throw new Error("Generator is already running");if(H===L){if(we==="throw")throw Te;return ue()}for(D.method=we,D.arg=Te;;){var qe=D.delegate;if(qe){var st=pt(qe,D);if(st){if(st===I)continue;return st}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(H===E)throw H=L,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);H=O;var De=b(R,k,D);if(De.type==="normal"){if(H=D.done?L:C,De.arg===I)continue;return{value:De.arg,done:D.done}}else De.type==="throw"&&(H=L,D.method="throw",D.arg=De.arg)}}}function pt(R,k){var D=R.iterator[k.method];if(D===s){if(k.delegate=null,k.method==="throw"){if(R.iterator.return&&(k.method="return",k.arg=s,pt(R,k),k.method==="throw"))return I;k.method="throw",k.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var H=b(D,R.iterator,k.arg);if(H.type==="throw")return k.method="throw",k.arg=H.arg,k.delegate=null,I;var j=H.arg;if(!j)return k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,I;if(j.done)k[R.resultName]=j.value,k.next=R.nextLoc,k.method!=="return"&&(k.method="next",k.arg=s);else return j;return k.delegate=null,I}Ee(fe),fe[g]="Generator",fe[f]=function(){return this},fe.toString=function(){return"[object Generator]"};function Ot(R){var k={tryLoc:R[0]};1 in R&&(k.catchLoc=R[1]),2 in R&&(k.finallyLoc=R[2],k.afterLoc=R[3]),this.tryEntries.push(k)}function _e(R){var k=R.completion||{};k.type="normal",delete k.arg,R.completion=k}function Nt(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(Ot,this),this.reset(!0)}m.keys=function(R){var k=[];for(var D in R)k.push(D);return k.reverse(),function H(){for(;k.length;){var j=k.pop();if(j in R)return H.value=j,H.done=!1,H}return H.done=!0,H}};function je(R){if(R){var k=R[f];if(k)return k.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var D=-1,H=function j(){for(;++D<R.length;)if(i.call(R,D))return j.value=R[D],j.done=!1,j;return j.value=s,j.done=!0,j};return H.next=H}}return{next:ue}}m.values=je;function ue(){return{value:s,done:!0}}Nt.prototype={constructor:Nt,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(_e),!R)for(var k in this)k.charAt(0)==="t"&&i.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=s)},stop:function(){this.done=!0;var R=this.tryEntries[0],k=R.completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var k=this;function D(st,De){return we.type="throw",we.arg=R,k.next=st,De&&(k.method="next",k.arg=s),!!De}for(var H=this.tryEntries.length-1;H>=0;--H){var j=this.tryEntries[H],we=j.completion;if(j.tryLoc==="root")return D("end");if(j.tryLoc<=this.prev){var Te=i.call(j,"catchLoc"),qe=i.call(j,"finallyLoc");if(Te&&qe){if(this.prev<j.catchLoc)return D(j.catchLoc,!0);if(this.prev<j.finallyLoc)return D(j.finallyLoc)}else if(Te){if(this.prev<j.catchLoc)return D(j.catchLoc,!0)}else if(qe){if(this.prev<j.finallyLoc)return D(j.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(R,k){for(var D=this.tryEntries.length-1;D>=0;--D){var H=this.tryEntries[D];if(H.tryLoc<=this.prev&&i.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var j=H;break}}j&&(R==="break"||R==="continue")&&j.tryLoc<=k&&k<=j.finallyLoc&&(j=null);var we=j?j.completion:{};return we.type=R,we.arg=k,j?(this.method="next",this.next=j.finallyLoc,I):this.complete(we)},complete:function(R,k){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&k&&(this.next=k),I},finish:function(R){for(var k=this.tryEntries.length-1;k>=0;--k){var D=this.tryEntries[k];if(D.finallyLoc===R)return this.complete(D.completion,D.afterLoc),_e(D),I}},catch:function(R){for(var k=this.tryEntries.length-1;k>=0;--k){var D=this.tryEntries[k];if(D.tryLoc===R){var H=D.completion;if(H.type==="throw"){var j=H.arg;_e(D)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(R,k,D){return this.delegate={iterator:je(R),resultName:k,nextLoc:D},this.method==="next"&&(this.arg=s),I}}})(function(){return this}()||Function("return this")())});var vd=U((TT,md)=>{var Br=function(){return this}()||Function("return this")(),pd=Br.regeneratorRuntime&&Object.getOwnPropertyNames(Br).indexOf("regeneratorRuntime")>=0,FE=pd&&Br.regeneratorRuntime;Br.regeneratorRuntime=void 0;md.exports=gd();if(pd)Br.regeneratorRuntime=FE;else try{delete Br.regeneratorRuntime}catch{Br.regeneratorRuntime=void 0}});var yd=U((OT,_d)=>{_d.exports=vd()});var bd=U((AT,wd)=>{"use strict";var DE=require("url");function NE(t,r){for(var i=[],s=Object.keys(t),a={},f=0;f<s.length;f++){var l=s[f],g=l.toLowerCase().trim();g.startsWith(r)&&(i.push(g),a[g]=t[l])}i.sort();for(var p="",m=0;m<i.length;m++){var y=i[m];p+=`${y}:${a[y]}
`}return p}function PE(t,r,i,s){var a=i["content-md5"]||"",f=i["content-type"]||"",l=i.date,g=NE(i,"x-fc-"),p=DE.parse(r),m=decodeURIComponent(p.pathname),y=`${t}
${a}
${f}
${l}
${g}${m}`;if(s){var b=[];Object.keys(s).forEach(function(E){var C=s[E],O=typeof C;if(O==="string"){b.push(`${E}=${C}`);return}Array.isArray(C)&&s[E].forEach(function(L){b.push(`${E}=${L}`)})}),b.sort(),y+=`
`+b.join(`
`)}return y}wd.exports={composeStringToSign:PE}});var Cd=U(($T,xd)=>{"use strict";var ME=yd(),yn=qE(ME),BE=function(){function t(r,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}return function(r,i,s){return i&&t(r.prototype,i),s&&t(r,s),r}}();function qE(t){return t&&t.__esModule?t:{default:t}}function Qa(t){return function(){var r=t.apply(this,arguments);return new Promise(function(i,s){function a(f,l){try{var g=r[f](l),p=g.value}catch(m){s(m);return}if(g.done)i(p);else return Promise.resolve(p).then(function(m){a("next",m)},function(m){a("throw",m)})}return a("next")})}}function UE(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var Sd=require("querystring"),WE=require("crypto"),eu=bs(),GE=Aa(),wn=Ra()("lambda"),Ed=Fa(),jE=bd(),HE=Xa();function zE(t,r){var i=WE.createHmac("sha256",r).update(t,"utf8").digest();return Buffer.from(i,"binary").toString("base64")}function Qe(t,r){return r?`${t}.${r}`:t}var KE=function(){function t(r,i){if(UE(this,t),!r)throw new TypeError('"accountid" must be passed in');if(this.accountid=r,!i)throw new TypeError('"config" must be passed in');var s=i.accessKeyID;if(!s)throw new TypeError('"config.accessKeyID" must be passed in');if(this.accessKeyID=s,this.accessKeyID.startsWith("STS")&&(this.securityToken=i.securityToken,!this.securityToken))throw new TypeError('"config.securityToken" must be passed in for STS');var a=i.accessKeySecret;if(!a)throw new TypeError('"config.accessKeySecret" must be passed in');this.accessKeySecret=a;var f=i.region;if(!f)throw new TypeError('"config.region" must be passed in');var l=i.secure?"https":"http",g=i.internal?"-internal":"";if(this.endpoint=i.endpoint||`${l}://${r}.${f}${g}.fc.aliyuncs.com`,this.host=`${r}.${f}${g}.fc.aliyuncs.com`,i.endpoint){var p=new URL(i.endpoint);this.host=p.hostname}this.version="2016-08-15",this.timeout=Number.isFinite(i.timeout)?i.timeout:6e4,this.headers=i.headers||{}}return BE(t,[{key:"buildHeaders",value:function(){var i=new Date,s={accept:"application/json",date:i.toUTCString(),host:this.host,"user-agent":`Node.js(${process.version}) OS(${process.platform}/${process.arch}) SDK(${Ed.name}@v${Ed.version})`,"x-fc-account-id":this.accountid};return this.securityToken&&(s["x-fc-security-token"]=this.securityToken),s}},{key:"request",value:function(){var r=Qa(yn.default.mark(function s(a,f,l,g){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},y,b,E,C,O,L,I,N,P,M,W,V,oe,fe;return yn.default.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return y=`${this.endpoint}/${this.version}${f}`,l&&Object.keys(l).length>0&&(y=`${y}?${Sd.stringify(l)}`),p=Object.assign(this.buildHeaders(),this.headers,p),g&&(wn("request body: %s",g),E=null,Buffer.isBuffer(g)?(E=g,p["content-type"]="application/octet-stream"):typeof g=="string"?(E=Buffer.from(g,"utf8"),p["content-type"]="application/octet-stream"):typeof g.pipe=="function"?(E=g,p["content-type"]="application/octet-stream"):(E=Buffer.from(JSON.stringify(g),"utf8"),p["content-type"]="application/json"),typeof g.pipe!="function"&&(C=GE.md5(E,"hex"),O=Buffer.from(C,"utf8").toString("base64"),p["content-length"]=E.length,p["content-md5"]=O),b=E),L=null,f.startsWith("/proxy/")&&(L=l||{}),I=t.getSignature(this.accessKeyID,this.accessKeySecret,a,`/${this.version}${f}`,p,L),p.authorization=I,wn("request headers: %j",p),re.next=11,eu.request(y,{method:a,timeout:this.timeout,headers:p,data:b});case 11:if(N=re.sent,wn("response status: %s",N.statusCode),wn("response headers: %j",N.headers),!(!m.rawBuf||N.headers["x-fc-error-type"])){re.next=20;break}return re.next=17,eu.read(N,"utf8");case 17:P=re.sent,re.next=23;break;case 20:return re.next=22,eu.read(N);case 22:P=re.sent;case 23:if(wn("response body: %s",P),M=N.headers["content-type"]||"",M.startsWith("application/json")&&(P=JSON.parse(P)),!(N.statusCode<200||N.statusCode>=300)){re.next=34;break}throw W=N.statusCode,V=N.headers["x-fc-request-id"],P.ErrorMessage?oe=P.ErrorMessage:oe=P.errorMessage,fe=new Error(`${a} ${f} failed with ${W}. requestid: ${V}, message: ${oe}.`),fe.name=`FC${P.ErrorCode}Error`,fe.code=P.ErrorCode,fe;case 34:return re.abrupt("return",{headers:N.headers,data:P});case 35:case"end":return re.stop()}},s,this)}));function i(s,a,f,l){return r.apply(this,arguments)}return i}()},{key:"get",value:function(i,s,a){return this.request("GET",i,s,null,a)}},{key:"post",value:function(i,s,a,f){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.request("POST",i,f,s,a,l)}},{key:"put",value:function(i,s,a){return this.request("PUT",i,null,s,a)}},{key:"delete",value:function(i,s,a){return this.request("DELETE",i,s,null,a)}},{key:"websocket",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=`${this.endpoint.replace(/^http/,"ws")}/${this.version}${i}`;s&&Object.keys(s).length>0&&(f=`${f}?${Sd.stringify(s)}`),a=Object.assign(this.buildHeaders(),this.headers,a);var l=null;i.startsWith("/proxy/")&&(l=s||{});var g=t.getSignature(this.accessKeyID,this.accessKeySecret,"GET",`/${this.version}${i}`,a,l);return a.authorization=g,new HE(f,{headers:a})}},{key:"createService",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.post("/services",Object.assign({serviceName:i},s),a)}},{key:"listServices",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments[1];if(i.tags!==void 0){for(var a in i.tags)Object.prototype.hasOwnProperty.call(i.tags,a)&&(i[`tag_${a}`]=i.tags[a]);delete i.tags}return this.get("/services",i,s)}},{key:"getService",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.get(`/services/${Qe(i,a)}`,null,s)}},{key:"updateService",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.put(`/services/${i}`,s,a)}},{key:"deleteService",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.delete(`/services/${i}`,null,s,a)}},{key:"createFunction",value:function(i,s,a){return this.normalizeParams(s),this.post(`/services/${i}/functions`,s,a)}},{key:"normalizeParams",value:function(i){i.functionName&&(i.functionName=String(i.functionName)),i.runtime&&(i.runtime=String(i.runtime)),i.handler&&(i.handler=String(i.handler)),i.initializer&&(i.initializer=String(i.initializer)),i.memorySize&&(i.memorySize=parseInt(i.memorySize,10)),i.timeout&&(i.timeout=parseInt(i.timeout,10)),i.initializationTimeout&&(i.initializationTimeout=parseInt(i.initializationTimeout,10))}},{key:"listFunctions",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments[3];return this.get(`/services/${Qe(i,f)}/functions`,s,a)}},{key:"getFunction",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments[3];return this.get(`/services/${Qe(i,f)}/functions/${s}`,null,a)}},{key:"getFunctionCode",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments[3];return this.get(`/services/${Qe(i,f)}/functions/${s}/code`,a)}},{key:"updateFunction",value:function(i,s,a,f){this.normalizeParams(a);var l=`/services/${i}/functions/${s}`;return this.put(l,a,f)}},{key:"deleteFunction",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments[3],l=`/services/${i}/functions/${s}`;return this.delete(l,a,f)}},{key:"invokeFunction",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments[4],g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(a&&typeof a!="string"&&!Buffer.isBuffer(a))throw new TypeError('"event" must be String or Buffer');var p=`/services/${Qe(i,l)}/functions/${s}/invocations`;return this.post(p,a,f,null,g)}},{key:"createTrigger",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=`/services/${i}/functions/${s}/triggers`;return this.post(l,a,f)}},{key:"listTriggers",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments[3],l=`/services/${i}/functions/${s}/triggers`;return this.get(l,a,f)}},{key:"getTrigger",value:function(i,s,a,f){var l=`/services/${i}/functions/${s}/triggers/${a}`;return this.get(l,null,f)}},{key:"updateTrigger",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},g=`/services/${i}/functions/${s}/triggers/${a}`;return this.put(g,f,l)}},{key:"deleteTrigger",value:function(i,s,a,f,l){var g=`/services/${i}/functions/${s}/triggers/${a}`;return this.delete(g,f,l)}},{key:"createCustomDomain",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.post("/custom-domains",Object.assign({domainName:i},s),a)}},{key:"listCustomDomains",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments[1];return this.get("/custom-domains",i,s)}},{key:"getCustomDomain",value:function(i,s){return this.get(`/custom-domains/${i}`,null,s)}},{key:"updateCustomDomain",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.put(`/custom-domains/${i}`,s,a)}},{key:"deleteCustomDomain",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];return this.delete(`/custom-domains/${i}`,null,s,a)}},{key:"publishVersion",value:function(i,s,a){var f={};return s&&(f.description=s),this.post(`/services/${i}/versions`,f,a||{})}},{key:"listVersions",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.get(`/services/${i}/versions`,s,a)}},{key:"deleteVersion",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.delete(`/services/${i}/versions/${s}`,null,a)}},{key:"createAlias",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return f.aliasName=s,f.versionId=a,this.post(`/services/${i}/aliases`,f,l)}},{key:"deleteAlias",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.delete(`/services/${i}/aliases/${s}`,null,a)}},{key:"listAliases",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.get(`/services/${i}/aliases`,s,a)}},{key:"getAlias",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.get(`/services/${i}/aliases/${s}`,null,a)}},{key:"updateAlias",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return a&&(f.versionId=a),this.put(`/services/${i}/aliases/${s}`,f,l)}},{key:"tagResource",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return a.resourceArn=i,a.tags=s,this.post("/tag",a,f)}},{key:"untagResource",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return f.resourceArn=i,f.tagKeys=s,f.all=a,this.request("DELETE","/tag",null,f,l)}},{key:"getResourceTags",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.get("/tag",i,s)}},{key:"listReservedCapacities",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments[1];return this.get("/reservedCapacities",i,s)}},{key:"listProvisionConfigs",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments[1];return this.get("/provision-configs",i,s)}},{key:"getProvisionConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.get(`/services/${Qe(i,a)}/functions/${s}/provision-config`,null,f)}},{key:"putProvisionConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.put(`/services/${Qe(i,a)}/functions/${s}/provision-config`,f,l)}},{key:"deleteFunctionAsyncConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.delete(`/services/${Qe(i,a)}/functions/${s}/async-invoke-config`,null,f)}},{key:"listFunctionAsyncConfigs",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.get(`/services/${i}/functions/${s}/async-invoke-configs`,a,f)}},{key:"getFunctionAsyncConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.get(`/services/${Qe(i,a)}/functions/${s}/async-invoke-config`,null,f)}},{key:"putFunctionAsyncConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.put(`/services/${Qe(i,a)}/functions/${s}/async-invoke-config`,f,l)}},{key:"getAccountSettings",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.get("/account-settings",i,s)}},{key:"listLayers",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.get("/layers",i,s)}},{key:"listLayerVersions",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.get(`/layers/${i}/versions`,s,a)}},{key:"getLayerVersion",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.get(`/layers/${i}/versions/${s}`,a,f)}},{key:"publishLayerVersion",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.post(`/layers/${i}/versions`,s,a)}},{key:"deleteLayerVersion",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.delete(`/layers/${i}/versions/${s}`,null,a)}},{key:"listOnDemandConfigs",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.get("/on-demand-configs",i,s)}},{key:"getOnDemandConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.get(`/services/${Qe(i,a)}/functions/${s}/on-demand-config`,f,l)}},{key:"putOnDemandConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.put(`/services/${Qe(i,a)}/functions/${s}/on-demand-config`,f,l)}},{key:"deleteOnDemandConfig",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.delete(`/services/${Qe(i,a)}/functions/${s}/on-demand-config`,f,l)}},{key:"listInstances",value:function(i,s,a){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return this.get(`/services/${Qe(i,a)}/functions/${s}/instances`,f,l)}},{key:"instanceExec",value:function(){var r=Qa(yn.default.mark(function s(a,f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",g=arguments[3],p=this,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},b,E,C,O,L,I,N,P,M,W,V,oe,fe,Ee,re,gt,pt,Ot,_e,Nt;return yn.default.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:for(b=0,E=1,C=2,O={command:"/bin/bash",tty:!0,stdin:!0,stdout:!0,stderr:!1,idleTimeout:120},L=!0,I=!1,N=void 0,ue.prev=7,P=Object.keys(O)[Symbol.iterator]();!(L=(M=P.next()).done);L=!0)W=M.value,typeof m[W]!="undefined"&&(O[W]=m[W]);ue.next=15;break;case 11:ue.prev=11,ue.t0=ue.catch(7),I=!0,N=ue.t0;case 15:ue.prev=15,ue.prev=16,!L&&P.return&&P.return();case 18:if(ue.prev=18,!I){ue.next=21;break}throw N;case 21:return ue.finish(18);case 22:return ue.finish(15);case 23:return V=y.onClose,oe=V===void 0?function(){}:V,fe=y.onError,Ee=fe===void 0?function(){}:fe,re=y.onStdout,gt=re===void 0?function(){}:re,pt=y.onStderr,Ot=pt===void 0?function(){}:pt,_e=this.websocket(`/services/${Qe(a,l)}/functions/${f}/instances/${g}/exec`,O),Nt=setInterval(function(){try{_e.ping()}catch{_e.close()}},5e3),_e.on("unexpected-response",function(R,k){var D=[];k.on("data",function(H){D=D.concat(H)}),k.on("end",function(){var H=JSON.parse(D.toString()),j=new Error(H.ErrorMessage);Ee(j),_e.close()})}),_e.on("close",function(R){clearInterval(Nt),oe(R)}),_e.on("error",function(R,k){return Ee(R,k)}),_e.on("ping",function(R){return _e.pong(R)}),_e.on("message",function(R){if(!!R&&R.length>=2){var k=R[0],D=R.slice(1);k===E&&gt?gt(D):k===C&&Ot&&Ot(D)}}),ue.next=33,Qa(yn.default.mark(function R(){return yn.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:new Promise(function(H){return _e.onopen=H});case 1:case"end":return D.stop()}},R,p)}));case 33:return ue.abrupt("return",{websocket:_e,close:function(){return _e.close()},sendMessage:function(k){if(!(k instanceof Uint8Array))throw new Error("data must be Uint8Array");var D=new Uint8Array(k.length+1);D.set([b]),D.set(k,1),_e.send(D)}});case 34:case"end":return ue.stop()}},s,this,[[7,11,15,23],[16,,18,22]])}));function i(s,a){return r.apply(this,arguments)}return i}()}],[{key:"getSignature",value:function(i,s,a,f,l,g){var p=jE.composeStringToSign(a,f,l,g);wn("stringToSign: %s",p);var m=zE(p,s);return`FC ${i}:${m}`}}]),t}();xd.exports=KE});var Od=U((IT,Td)=>{"use strict";function YE(){try{return new Function("(async function () {})()"),!0}catch{return!1}}Td.exports=YE()?dd():Cd()});var Xd=U((zT,au)=>{"use strict";var zd=require("child_process").exec,Kd=require("child_process").execSync,Ls=require("fs"),Yd=require("path"),Vd=Ls.access,Jd=Ls.accessSync,bn=Ls.constants||Ls,su=process.platform=="win32",rx=function(t,r){Vd(t,bn.F_OK,function(i){r(!i)})},nx=function(t){try{return Jd(t,bn.F_OK),!1}catch{return!0}},ix=function(t,r){Vd(t,bn.F_OK|bn.X_OK,function(i){r(null,!i)})},sx=function(t){try{return Jd(t,bn.F_OK|bn.X_OK),!0}catch{return!1}},ox=function(t,r,i){rx(t,function(s){if(!s){var a=zd("command -v "+r+" 2>/dev/null && { echo >&1 "+r+"; exit 0; }",function(f,l,g){i(null,!!l)});return}ix(t,i)})},ax=function(t,r,i){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(t)){i(null,!1);return}var s=zd("where "+r,function(a){a!==null?i(null,!1):i(null,!0)})},ux=function(t,r){if(nx(t))try{var i=Kd("command -v "+r+" 2>/dev/null && { echo >&1 "+r+"; exit 0; }");return!!i}catch{return!1}return sx(t)},fx=function(t,r,i){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(t))return!1;try{var s=Kd("where "+r,{stdio:[]});return!!s}catch{return!1}},ou=function(t){return/[^A-Za-z0-9_\/:=-]/.test(t)&&(t="'"+t.replace(/'/g,"'\\''")+"'",t=t.replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),t};su&&(ou=function(t){var r=/[\\]/.test(t);if(r){var i='"'+Yd.dirname(t)+'"',s='"'+Yd.basename(t)+'"';return i+":"+s}return'"'+t+'"'});au.exports=function t(r,i){var s=ou(r);if(!i&&typeof Promise!="undefined")return new Promise(function(a,f){t(r,function(l,g){g?a(r):f(l)})});su?ax(r,s,i):ox(r,s,i)};au.exports.sync=function(t){var r=ou(t);return su?fx(t,r):ux(t,r)}});var uu=U((KT,Zd)=>{Zd.exports=Xd()});var Rs=U((YT,Qd)=>{Qd.exports={maximumLinesUp:30,canReWrite:!0,stdinAutoBind:!1}});var fu=U((VT,eg)=>{var Sn=eg.exports={},Fs=Sn.ESC="";Sn.save=function(){return"7"};Sn.restore=function(){return"8"};Sn.up=function(r){return r=typeof r=="number"?r:1,r>0?Fs+"["+r+"A":""};Sn.down=function(r){return r=typeof r=="number"?r:1,r>0?Fs+"["+r+"B":""};Sn.clearLine=function(){return Fs+"[2K"+Fs+"[1G"}});var cu=U((XT,rg)=>{"use strict";var JT=require("util"),tg=Rs(),Ds=fu();rg.exports=En;function En(t,r){this._stream=t._stdout,this._styleFn=t[r],this.valid=!0,this.saveLine()}En.prototype.update=function(){var r=this.linesUp();if(this.isOffScreen())if(tg.canReWrite)this.saveLine(-1);else{this.valid=!1;return}this._stream.stopLineCount(),this._stream.write(Ds.save()),this._stream.write(Ds.up(r)),this._stream.write(Ds.clearLine()),this.write.apply(this,arguments),this._stream.write(Ds.restore()),this._stream.resumeLineCount()};En.prototype.isOffScreen=function(){var r=this._stream.rows()||tg.maximumLinesUp;return this._stream.rows()<=this.linesUp()};En.prototype.linesUp=function(){return this._stream.line()-this._line};En.prototype.write=function(){this.valid&&this._styleFn.apply(this._styleFn,arguments)};En.prototype.saveLine=function(r){r=r||0,this._line=this._stream.line()+r}});var lu=U((ZT,ig)=>{"use strict";var cx=require("util"),lx=require("stream"),ng=lx.PassThrough;ig.exports=it;function it(t){if(t instanceof it)return t;if(!(this instanceof it))return new it(t);ng.call(this),this._outStream=t,this._line=1,this._logs=0,this._editing=!1,t&&this.pipe(t)}cx.inherits(it,ng);it.prototype.line=function(){return this._line};it.prototype.logs=function(){return this._logs};it.prototype.write=function(r){this._editing||this.countLines(r),this.push(r)};it.prototype.addLineListener=function(r){r.on("data",this.countLines.bind(this))};it.prototype.countLines=function(r){var i=r.toString().split(`
`).length-1;this._logs++,this._line+=i||0};it.prototype.stopLineCount=function(){this._editing=!0};it.prototype.resumeLineCount=function(){this._editing=!1};it.prototype.rows=function(){return this._outStream.rows};it.prototype.columns=function(){return this._outStream.columns}});var og=U((QT,sg)=>{"use strict";var hx=Rs(),dx=cu(),gx=lu();sg.exports=function(r,i){var s=i===!0;if(s){r.draft=function(){return r.log.apply(null,arguments),r.log.bind(r)};return}var a=gx(r._stdout);return r._stdout=a,hx.stdinAutoBind&&a.addLineListener(process.stdin),r.draft=r.draft||function(){var l=new dx(r,"log");return l.write.apply(l,arguments),l.update.bind(l)},a}});var ug=U((eO,ag)=>{"use strict";var Ur=og();Ur.into=Ur;Ur.defaults=Rs();Ur.CSIHelper=fu();Ur.LogDraft=cu();Ur.LineCountStream=lu();ag.exports=Ur});var cg=U((tO,fg)=>{fg.exports=ug()});var _g=U(pu=>{var Gr=require("path"),Sr=process.platform==="win32",Er=require("fs"),Sx=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Ex(){var t;if(Sx){var r=new Error;t=i}else t=s;return t;function i(a){a&&(r.message=a.message,a=r,s(a))}function s(a){if(a){if(process.throwDeprecation)throw a;if(!process.noDeprecation){var f="fs: missing callback "+(a.stack||a.message);process.traceDeprecation?console.trace(f):console.error(f)}}}}function xx(t){return typeof t=="function"?t:Ex()}var yO=Gr.normalize;Sr?nr=/(.*?)(?:[\/\\]+|$)/g:nr=/(.*?)(?:[\/]+|$)/g;var nr;Sr?mi=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:mi=/^[\/]*/;var mi;pu.realpathSync=function(r,i){if(r=Gr.resolve(r),i&&Object.prototype.hasOwnProperty.call(i,r))return i[r];var s=r,a={},f={},l,g,p,m;y();function y(){var I=mi.exec(r);l=I[0].length,g=I[0],p=I[0],m="",Sr&&!f[p]&&(Er.lstatSync(p),f[p]=!0)}for(;l<r.length;){nr.lastIndex=l;var b=nr.exec(r);if(m=g,g+=b[0],p=m+b[1],l=nr.lastIndex,!(f[p]||i&&i[p]===p)){var E;if(i&&Object.prototype.hasOwnProperty.call(i,p))E=i[p];else{var C=Er.lstatSync(p);if(!C.isSymbolicLink()){f[p]=!0,i&&(i[p]=p);continue}var O=null;if(!Sr){var L=C.dev.toString(32)+":"+C.ino.toString(32);a.hasOwnProperty(L)&&(O=a[L])}O===null&&(Er.statSync(p),O=Er.readlinkSync(p)),E=Gr.resolve(m,O),i&&(i[p]=E),Sr||(a[L]=O)}r=Gr.resolve(E,r.slice(l)),y()}}return i&&(i[s]=r),r};pu.realpath=function(r,i,s){if(typeof s!="function"&&(s=xx(i),i=null),r=Gr.resolve(r),i&&Object.prototype.hasOwnProperty.call(i,r))return process.nextTick(s.bind(null,null,i[r]));var a=r,f={},l={},g,p,m,y;b();function b(){var I=mi.exec(r);g=I[0].length,p=I[0],m=I[0],y="",Sr&&!l[m]?Er.lstat(m,function(N){if(N)return s(N);l[m]=!0,E()}):process.nextTick(E)}function E(){if(g>=r.length)return i&&(i[a]=r),s(null,r);nr.lastIndex=g;var I=nr.exec(r);return y=p,p+=I[0],m=y+I[1],g=nr.lastIndex,l[m]||i&&i[m]===m?process.nextTick(E):i&&Object.prototype.hasOwnProperty.call(i,m)?L(i[m]):Er.lstat(m,C)}function C(I,N){if(I)return s(I);if(!N.isSymbolicLink())return l[m]=!0,i&&(i[m]=m),process.nextTick(E);if(!Sr){var P=N.dev.toString(32)+":"+N.ino.toString(32);if(f.hasOwnProperty(P))return O(null,f[P],m)}Er.stat(m,function(M){if(M)return s(M);Er.readlink(m,function(W,V){Sr||(f[P]=V),O(W,V)})})}function O(I,N,P){if(I)return s(I);var M=Gr.resolve(y,N);i&&(i[P]=M),L(M)}function L(I){r=Gr.resolve(I,r.slice(g)),b()}}});var yu=U((bO,Sg)=>{Sg.exports=xr;xr.realpath=xr;xr.sync=_u;xr.realpathSync=_u;xr.monkeypatch=Tx;xr.unmonkeypatch=Ox;var Tn=require("fs"),mu=Tn.realpath,vu=Tn.realpathSync,Cx=process.version,yg=/^v[0-5]\./.test(Cx),wg=_g();function bg(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function xr(t,r,i){if(yg)return mu(t,r,i);typeof r=="function"&&(i=r,r=null),mu(t,r,function(s,a){bg(s)?wg.realpath(t,r,i):i(s,a)})}function _u(t,r){if(yg)return vu(t,r);try{return vu(t,r)}catch(i){if(bg(i))return wg.realpathSync(t,r);throw i}}function Tx(){Tn.realpath=xr,Tn.realpathSync=_u}function Ox(){Tn.realpath=mu,Tn.realpathSync=vu}});var xg=U((SO,Eg)=>{Eg.exports=function(t,r){for(var i=[],s=0;s<t.length;s++){var a=r(t[s],s);Ax(a)?i.push.apply(i,a):i.push(a)}return i};var Ax=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var $g=U((EO,Ag)=>{"use strict";Ag.exports=Cg;function Cg(t,r,i){t instanceof RegExp&&(t=Tg(t,i)),r instanceof RegExp&&(r=Tg(r,i));var s=Og(t,r,i);return s&&{start:s[0],end:s[1],pre:i.slice(0,s[0]),body:i.slice(s[0]+t.length,s[1]),post:i.slice(s[1]+r.length)}}function Tg(t,r){var i=r.match(t);return i?i[0]:null}Cg.range=Og;function Og(t,r,i){var s,a,f,l,g,p=i.indexOf(t),m=i.indexOf(r,p+1),y=p;if(p>=0&&m>0){if(t===r)return[p,m];for(s=[],f=i.length;y>=0&&!g;)y==p?(s.push(y),p=i.indexOf(t,y+1)):s.length==1?g=[s.pop(),m]:(a=s.pop(),a<f&&(f=a,l=m),m=i.indexOf(r,y+1)),y=p<m&&p>=0?p:m;s.length&&(g=[f,l])}return g}});var Pg=U((xO,Ng)=>{var $x=xg(),Ig=$g();Ng.exports=Lx;var kg="\0SLASH"+Math.random()+"\0",Lg="\0OPEN"+Math.random()+"\0",wu="\0CLOSE"+Math.random()+"\0",Rg="\0COMMA"+Math.random()+"\0",Fg="\0PERIOD"+Math.random()+"\0";function bu(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Ix(t){return t.split("\\\\").join(kg).split("\\{").join(Lg).split("\\}").join(wu).split("\\,").join(Rg).split("\\.").join(Fg)}function kx(t){return t.split(kg).join("\\").split(Lg).join("{").split(wu).join("}").split(Rg).join(",").split(Fg).join(".")}function Dg(t){if(!t)return[""];var r=[],i=Ig("{","}",t);if(!i)return t.split(",");var s=i.pre,a=i.body,f=i.post,l=s.split(",");l[l.length-1]+="{"+a+"}";var g=Dg(f);return f.length&&(l[l.length-1]+=g.shift(),l.push.apply(l,g)),r.push.apply(r,l),r}function Lx(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),On(Ix(t),!0).map(kx)):[]}function Rx(t){return"{"+t+"}"}function Fx(t){return/^-?0\d/.test(t)}function Dx(t,r){return t<=r}function Nx(t,r){return t>=r}function On(t,r){var i=[],s=Ig("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),l=a||f,g=s.body.indexOf(",")>=0;if(!l&&!g)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+wu+s.post,On(t)):[t];var p;if(l)p=s.body.split(/\.\./);else if(p=Dg(s.body),p.length===1&&(p=On(p[0],!1).map(Rx),p.length===1)){var y=s.post.length?On(s.post,!1):[""];return y.map(function(pt){return s.pre+p[0]+pt})}var m=s.pre,y=s.post.length?On(s.post,!1):[""],b;if(l){var E=bu(p[0]),C=bu(p[1]),O=Math.max(p[0].length,p[1].length),L=p.length==3?Math.abs(bu(p[2])):1,I=Dx,N=C<E;N&&(L*=-1,I=Nx);var P=p.some(Fx);b=[];for(var M=E;I(M,C);M+=L){var W;if(f)W=String.fromCharCode(M),W==="\\"&&(W="");else if(W=String(M),P){var V=O-W.length;if(V>0){var oe=new Array(V+1).join("0");M<0?W="-"+oe+W.slice(1):W=oe+W}}b.push(W)}}else b=$x(p,function(gt){return On(gt,!1)});for(var fe=0;fe<b.length;fe++)for(var Ee=0;Ee<y.length;Ee++){var re=m+b[fe]+y[Ee];(!r||l||re)&&i.push(re)}return i}});var Ms=U((CO,Gg)=>{Gg.exports=Tt;Tt.Minimatch=Be;var vi={sep:"/"};try{vi=require("path")}catch{}var Su=Tt.GLOBSTAR=Be.GLOBSTAR={},Px=Pg(),Mg={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Eu="[^/]",xu=Eu+"*?",Mx="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Bx="(?:(?!(?:\\/|^)\\.).)*?",Bg=qx("().*{}+?[]^$\\!");function qx(t){return t.split("").reduce(function(r,i){return r[i]=!0,r},{})}var qg=/\/+/;Tt.filter=Ux;function Ux(t,r){return r=r||{},function(i,s,a){return Tt(i,t,r)}}function Ug(t,r){t=t||{},r=r||{};var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),Object.keys(t).forEach(function(s){i[s]=t[s]}),i}Tt.defaults=function(t){if(!t||!Object.keys(t).length)return Tt;var r=Tt,i=function(a,f,l){return r.minimatch(a,f,Ug(t,l))};return i.Minimatch=function(a,f){return new r.Minimatch(a,Ug(t,f))},i};Be.defaults=function(t){return!t||!Object.keys(t).length?Be:Tt.defaults(t).Minimatch};function Tt(t,r,i){if(typeof r!="string")throw new TypeError("glob pattern string required");return i||(i={}),!i.nocomment&&r.charAt(0)==="#"?!1:r.trim()===""?t==="":new Be(r,i).match(t)}function Be(t,r){if(!(this instanceof Be))return new Be(t,r);if(typeof t!="string")throw new TypeError("glob pattern string required");r||(r={}),t=t.trim(),vi.sep!=="/"&&(t=t.split(vi.sep).join("/")),this.options=r,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}Be.prototype.debug=function(){};Be.prototype.make=Wx;function Wx(){if(!this._made){var t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var i=this.globSet=this.braceExpand();r.debug&&(this.debug=console.error),this.debug(this.pattern,i),i=this.globParts=i.map(function(s){return s.split(qg)}),this.debug(this.pattern,i),i=i.map(function(s,a,f){return s.map(this.parse,this)},this),this.debug(this.pattern,i),i=i.filter(function(s){return s.indexOf(!1)===-1}),this.debug(this.pattern,i),this.set=i}}Be.prototype.parseNegate=Gx;function Gx(){var t=this.pattern,r=!1,i=this.options,s=0;if(!i.nonegate){for(var a=0,f=t.length;a<f&&t.charAt(a)==="!";a++)r=!r,s++;s&&(this.pattern=t.substr(s)),this.negate=r}}Tt.braceExpand=function(t,r){return Wg(t,r)};Be.prototype.braceExpand=Wg;function Wg(t,r){if(r||(this instanceof Be?r=this.options:r={}),t=typeof t=="undefined"?this.pattern:t,typeof t=="undefined")throw new TypeError("undefined pattern");return r.nobrace||!t.match(/\{.*\}/)?[t]:Px(t)}Be.prototype.parse=jx;var Ps={};function jx(t,r){if(t.length>1024*64)throw new TypeError("pattern is too long");var i=this.options;if(!i.noglobstar&&t==="**")return Su;if(t==="")return"";var s="",a=!!i.nocase,f=!1,l=[],g=[],p,m=!1,y=-1,b=-1,E=t.charAt(0)==="."?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",C=this;function O(){if(p){switch(p){case"*":s+=xu,a=!0;break;case"?":s+=Eu,a=!0;break;default:s+="\\"+p;break}C.debug("clearStateChar %j %j",p,s),p=!1}}for(var L=0,I=t.length,N;L<I&&(N=t.charAt(L));L++){if(this.debug("%s	%s %s %j",t,L,s,N),f&&Bg[N]){s+="\\"+N,f=!1;continue}switch(N){case"/":return!1;case"\\":O(),f=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,L,s,N),m){this.debug("  in class"),N==="!"&&L===b+1&&(N="^"),s+=N;continue}C.debug("call clearStateChar %j",p),O(),p=N,i.noext&&O();continue;case"(":if(m){s+="(";continue}if(!p){s+="\\(";continue}l.push({type:p,start:L-1,reStart:s.length,open:Mg[p].open,close:Mg[p].close}),s+=p==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",p,s),p=!1;continue;case")":if(m||!l.length){s+="\\)";continue}O(),a=!0;var P=l.pop();s+=P.close,P.type==="!"&&g.push(P),P.reEnd=s.length;continue;case"|":if(m||!l.length||f){s+="\\|",f=!1;continue}O(),s+="|";continue;case"[":if(O(),m){s+="\\"+N;continue}m=!0,b=L,y=s.length,s+=N;continue;case"]":if(L===b+1||!m){s+="\\"+N,f=!1;continue}if(m){var M=t.substring(b+1,L);try{RegExp("["+M+"]")}catch{var W=this.parse(M,Ps);s=s.substr(0,y)+"\\["+W[0]+"\\]",a=a||W[1],m=!1;continue}}a=!0,m=!1,s+=N;continue;default:O(),f?f=!1:Bg[N]&&!(N==="^"&&m)&&(s+="\\"),s+=N}}for(m&&(M=t.substr(b+1),W=this.parse(M,Ps),s=s.substr(0,y)+"\\["+W[0],a=a||W[1]),P=l.pop();P;P=l.pop()){var V=s.slice(P.reStart+P.open.length);this.debug("setting tail",s,P),V=V.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(H,j,we){return we||(we="\\"),j+j+we+"|"}),this.debug(`tail=%j
   %s`,V,V,P,s);var oe=P.type==="*"?xu:P.type==="?"?Eu:"\\"+P.type;a=!0,s=s.slice(0,P.reStart)+oe+"\\("+V}O(),f&&(s+="\\\\");var fe=!1;switch(s.charAt(0)){case".":case"[":case"(":fe=!0}for(var Ee=g.length-1;Ee>-1;Ee--){var re=g[Ee],gt=s.slice(0,re.reStart),pt=s.slice(re.reStart,re.reEnd-8),Ot=s.slice(re.reEnd-8,re.reEnd),_e=s.slice(re.reEnd);Ot+=_e;var Nt=gt.split("(").length-1,je=_e;for(L=0;L<Nt;L++)je=je.replace(/\)[+*?]?/,"");_e=je;var ue="";_e===""&&r!==Ps&&(ue="$");var R=gt+pt+_e+ue+Ot;s=R}if(s!==""&&a&&(s="(?=.)"+s),fe&&(s=E+s),r===Ps)return[s,a];if(!a)return Kx(t);var k=i.nocase?"i":"";try{var D=new RegExp("^"+s+"$",k)}catch{return new RegExp("$.")}return D._glob=t,D._src=s,D}Tt.makeRe=function(t,r){return new Be(t,r||{}).makeRe()};Be.prototype.makeRe=Hx;function Hx(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var r=this.options,i=r.noglobstar?xu:r.dot?Mx:Bx,s=r.nocase?"i":"",a=t.map(function(f){return f.map(function(l){return l===Su?i:typeof l=="string"?Yx(l):l._src}).join("\\/")}).join("|");a="^(?:"+a+")$",this.negate&&(a="^(?!"+a+").*$");try{this.regexp=new RegExp(a,s)}catch{this.regexp=!1}return this.regexp}Tt.match=function(t,r,i){i=i||{};var s=new Be(r,i);return t=t.filter(function(a){return s.match(a)}),s.options.nonull&&!t.length&&t.push(r),t};Be.prototype.match=zx;function zx(t,r){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;var i=this.options;vi.sep!=="/"&&(t=t.split(vi.sep).join("/")),t=t.split(qg),this.debug(this.pattern,"split",t);var s=this.set;this.debug(this.pattern,"set",s);var a,f;for(f=t.length-1;f>=0&&(a=t[f],!a);f--);for(f=0;f<s.length;f++){var l=s[f],g=t;i.matchBase&&l.length===1&&(g=[a]);var p=this.matchOne(g,l,r);if(p)return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}Be.prototype.matchOne=function(t,r,i){var s=this.options;this.debug("matchOne",{this:this,file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,f=0,l=t.length,g=r.length;a<l&&f<g;a++,f++){this.debug("matchOne loop");var p=r[f],m=t[a];if(this.debug(r,p,m),p===!1)return!1;if(p===Su){this.debug("GLOBSTAR",[r,p,m]);var y=a,b=f+1;if(b===g){for(this.debug("** at the end");a<l;a++)if(t[a]==="."||t[a]===".."||!s.dot&&t[a].charAt(0)===".")return!1;return!0}for(;y<l;){var E=t[y];if(this.debug(`
globstar while`,t,y,r,b,E),this.matchOne(t.slice(y),r.slice(b),i))return this.debug("globstar found match!",y,l,E),!0;if(E==="."||E===".."||!s.dot&&E.charAt(0)==="."){this.debug("dot detected!",t,y,r,b);break}this.debug("globstar swallow a segment, and continue"),y++}return!!(i&&(this.debug(`
>>> no match, partial?`,t,y,r,b),y===l))}var C;if(typeof p=="string"?(s.nocase?C=m.toLowerCase()===p.toLowerCase():C=m===p,this.debug("string match",p,m,C)):(C=m.match(p),this.debug("pattern match",p,m,C)),!C)return!1}if(a===l&&f===g)return!0;if(a===l)return i;if(f===g){var O=a===l-1&&t[a]==="";return O}throw new Error("wtf?")};function Kx(t){return t.replace(/\\(.)/g,"$1")}function Yx(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var jg=U((TO,Cu)=>{typeof Object.create=="function"?Cu.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:Cu.exports=function(r,i){if(i){r.super_=i;var s=function(){};s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}}});var Hg=U((OO,Ou)=>{try{if(Tu=require("util"),typeof Tu.inherits!="function")throw"";Ou.exports=Tu.inherits}catch{Ou.exports=jg()}var Tu});var qs=U((AO,Bs)=>{"use strict";function zg(t){return t.charAt(0)==="/"}function Kg(t){var r=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,i=r.exec(t),s=i[1]||"",a=Boolean(s&&s.charAt(1)!==":");return Boolean(i[2]||a)}Bs.exports=process.platform==="win32"?Kg:zg;Bs.exports.posix=zg;Bs.exports.win32=Kg});var $u=U(Cr=>{Cr.setopts=eC;Cr.ownProp=Yg;Cr.makeAbs=_i;Cr.finish=tC;Cr.mark=rC;Cr.isIgnored=Jg;Cr.childrenIgnored=nC;function Yg(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var Vx=require("fs"),An=require("path"),Jx=Ms(),Vg=qs(),Au=Jx.Minimatch;function Xx(t,r){return t.localeCompare(r,"en")}function Zx(t,r){t.ignore=r.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Qx))}function Qx(t){var r=null;if(t.slice(-3)==="/**"){var i=t.replace(/(\/\*\*)+$/,"");r=new Au(i,{dot:!0})}return{matcher:new Au(t,{dot:!0}),gmatcher:r}}function eC(t,r,i){if(i||(i={}),i.matchBase&&r.indexOf("/")===-1){if(i.noglobstar)throw new Error("base matching requires globstar");r="**/"+r}t.silent=!!i.silent,t.pattern=r,t.strict=i.strict!==!1,t.realpath=!!i.realpath,t.realpathCache=i.realpathCache||Object.create(null),t.follow=!!i.follow,t.dot=!!i.dot,t.mark=!!i.mark,t.nodir=!!i.nodir,t.nodir&&(t.mark=!0),t.sync=!!i.sync,t.nounique=!!i.nounique,t.nonull=!!i.nonull,t.nosort=!!i.nosort,t.nocase=!!i.nocase,t.stat=!!i.stat,t.noprocess=!!i.noprocess,t.absolute=!!i.absolute,t.fs=i.fs||Vx,t.maxLength=i.maxLength||1/0,t.cache=i.cache||Object.create(null),t.statCache=i.statCache||Object.create(null),t.symlinks=i.symlinks||Object.create(null),Zx(t,i),t.changedCwd=!1;var s=process.cwd();Yg(i,"cwd")?(t.cwd=An.resolve(i.cwd),t.changedCwd=t.cwd!==s):t.cwd=s,t.root=i.root||An.resolve(t.cwd,"/"),t.root=An.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=Vg(t.cwd)?t.cwd:_i(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!i.nomount,i.nonegate=!0,i.nocomment=!0,t.minimatch=new Au(r,i),t.options=t.minimatch.options}function tC(t){for(var r=t.nounique,i=r?[]:Object.create(null),s=0,a=t.matches.length;s<a;s++){var f=t.matches[s];if(!f||Object.keys(f).length===0){if(t.nonull){var l=t.minimatch.globSet[s];r?i.push(l):i[l]=!0}}else{var g=Object.keys(f);r?i.push.apply(i,g):g.forEach(function(p){i[p]=!0})}}if(r||(i=Object.keys(i)),t.nosort||(i=i.sort(Xx)),t.mark){for(var s=0;s<i.length;s++)i[s]=t._mark(i[s]);t.nodir&&(i=i.filter(function(p){var m=!/\/$/.test(p),y=t.cache[p]||t.cache[_i(t,p)];return m&&y&&(m=y!=="DIR"&&!Array.isArray(y)),m}))}t.ignore.length&&(i=i.filter(function(p){return!Jg(t,p)})),t.found=i}function rC(t,r){var i=_i(t,r),s=t.cache[i],a=r;if(s){var f=s==="DIR"||Array.isArray(s),l=r.slice(-1)==="/";if(f&&!l?a+="/":!f&&l&&(a=a.slice(0,-1)),a!==r){var g=_i(t,a);t.statCache[g]=t.statCache[i],t.cache[g]=t.cache[i]}}return a}function _i(t,r){var i=r;return r.charAt(0)==="/"?i=An.join(t.root,r):Vg(r)||r===""?i=r:t.changedCwd?i=An.resolve(t.cwd,r):i=An.resolve(r),process.platform==="win32"&&(i=i.replace(/\\/g,"/")),i}function Jg(t,r){return t.ignore.length?t.ignore.some(function(i){return i.matcher.match(r)||!!(i.gmatcher&&i.gmatcher.match(r))}):!1}function nC(t,r){return t.ignore.length?t.ignore.some(function(i){return!!(i.gmatcher&&i.gmatcher.match(r))}):!1}});var tp=U((RO,ep)=>{ep.exports=Qg;Qg.GlobSync=Fe;var iC=yu(),Xg=Ms(),IO=Xg.Minimatch,kO=Lu().Glob,LO=require("util"),Iu=require("path"),Zg=require("assert"),Us=qs(),jr=$u(),sC=jr.setopts,ku=jr.ownProp,oC=jr.childrenIgnored,aC=jr.isIgnored;function Qg(t,r){if(typeof r=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Fe(t,r).found}function Fe(t,r){if(!t)throw new Error("must provide pattern");if(typeof r=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Fe))return new Fe(t,r);if(sC(this,t,r),this.noprocess)return this;var i=this.minimatch.set.length;this.matches=new Array(i);for(var s=0;s<i;s++)this._process(this.minimatch.set[s],s,!1);this._finish()}Fe.prototype._finish=function(){if(Zg(this instanceof Fe),this.realpath){var t=this;this.matches.forEach(function(r,i){var s=t.matches[i]=Object.create(null);for(var a in r)try{a=t._makeAbs(a);var f=iC.realpathSync(a,t.realpathCache);s[f]=!0}catch(l){if(l.syscall==="stat")s[t._makeAbs(a)]=!0;else throw l}})}jr.finish(this)};Fe.prototype._process=function(t,r,i){Zg(this instanceof Fe);for(var s=0;typeof t[s]=="string";)s++;var a;switch(s){case t.length:this._processSimple(t.join("/"),r);return;case 0:a=null;break;default:a=t.slice(0,s).join("/");break}var f=t.slice(s),l;a===null?l=".":((Us(a)||Us(t.join("/")))&&(!a||!Us(a))&&(a="/"+a),l=a);var g=this._makeAbs(l);if(!oC(this,l)){var p=f[0]===Xg.GLOBSTAR;p?this._processGlobStar(a,l,g,f,r,i):this._processReaddir(a,l,g,f,r,i)}};Fe.prototype._processReaddir=function(t,r,i,s,a,f){var l=this._readdir(i,f);if(!!l){for(var g=s[0],p=!!this.minimatch.negate,m=g._glob,y=this.dot||m.charAt(0)===".",b=[],E=0;E<l.length;E++){var C=l[E];if(C.charAt(0)!=="."||y){var O;p&&!t?O=!C.match(g):O=C.match(g),O&&b.push(C)}}var L=b.length;if(L!==0){if(s.length===1&&!this.mark&&!this.stat){this.matches[a]||(this.matches[a]=Object.create(null));for(var E=0;E<L;E++){var C=b[E];t&&(t.slice(-1)!=="/"?C=t+"/"+C:C=t+C),C.charAt(0)==="/"&&!this.nomount&&(C=Iu.join(this.root,C)),this._emitMatch(a,C)}return}s.shift();for(var E=0;E<L;E++){var C=b[E],I;t?I=[t,C]:I=[C],this._process(I.concat(s),a,f)}}}};Fe.prototype._emitMatch=function(t,r){if(!aC(this,r)){var i=this._makeAbs(r);if(this.mark&&(r=this._mark(r)),this.absolute&&(r=i),!this.matches[t][r]){if(this.nodir){var s=this.cache[i];if(s==="DIR"||Array.isArray(s))return}this.matches[t][r]=!0,this.stat&&this._stat(r)}}};Fe.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var r,i,s;try{i=this.fs.lstatSync(t)}catch(f){if(f.code==="ENOENT")return null}var a=i&&i.isSymbolicLink();return this.symlinks[t]=a,!a&&i&&!i.isDirectory()?this.cache[t]="FILE":r=this._readdir(t,!1),r};Fe.prototype._readdir=function(t,r){var i;if(r&&!ku(this.symlinks,t))return this._readdirInGlobStar(t);if(ku(this.cache,t)){var s=this.cache[t];if(!s||s==="FILE")return null;if(Array.isArray(s))return s}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(a){return this._readdirError(t,a),null}};Fe.prototype._readdirEntries=function(t,r){if(!this.mark&&!this.stat)for(var i=0;i<r.length;i++){var s=r[i];t==="/"?s=t+s:s=t+"/"+s,this.cache[s]=!0}return this.cache[t]=r,r};Fe.prototype._readdirError=function(t,r){switch(r.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var s=new Error(r.code+" invalid cwd "+this.cwd);throw s.path=this.cwd,s.code=r.code,s}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw r;this.silent||console.error("glob error",r);break}};Fe.prototype._processGlobStar=function(t,r,i,s,a,f){var l=this._readdir(i,f);if(!!l){var g=s.slice(1),p=t?[t]:[],m=p.concat(g);this._process(m,a,!1);var y=l.length,b=this.symlinks[i];if(!(b&&f))for(var E=0;E<y;E++){var C=l[E];if(!(C.charAt(0)==="."&&!this.dot)){var O=p.concat(l[E],g);this._process(O,a,!0);var L=p.concat(l[E],s);this._process(L,a,!0)}}}};Fe.prototype._processSimple=function(t,r){var i=this._stat(t);if(this.matches[r]||(this.matches[r]=Object.create(null)),!!i){if(t&&Us(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Iu.join(this.root,t):(t=Iu.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(r,t)}};Fe.prototype._stat=function(t){var r=this._makeAbs(t),i=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&ku(this.cache,r)){var l=this.cache[r];if(Array.isArray(l)&&(l="DIR"),!i||l==="DIR")return l;if(i&&l==="FILE")return!1}var s,a=this.statCache[r];if(!a){var f;try{f=this.fs.lstatSync(r)}catch(g){if(g&&(g.code==="ENOENT"||g.code==="ENOTDIR"))return this.statCache[r]=!1,!1}if(f&&f.isSymbolicLink())try{a=this.fs.statSync(r)}catch{a=f}else a=f}this.statCache[r]=a;var l=!0;return a&&(l=a.isDirectory()?"DIR":"FILE"),this.cache[r]=this.cache[r]||l,i&&l==="FILE"?!1:l};Fe.prototype._mark=function(t){return jr.mark(this,t)};Fe.prototype._makeAbs=function(t){return jr.makeAbs(this,t)}});var Ru=U((FO,np)=>{np.exports=rp;function rp(t,r){if(t&&r)return rp(t)(r);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(s){i[s]=t[s]}),i;function i(){for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];var f=t.apply(this,s),l=s[s.length-1];return typeof f=="function"&&f!==l&&Object.keys(l).forEach(function(g){f[g]=l[g]}),f}}});var Du=U((DO,Fu)=>{var ip=Ru();Fu.exports=ip(Ws);Fu.exports.strict=ip(sp);Ws.proto=Ws(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ws(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return sp(this)},configurable:!0})});function Ws(t){var r=function(){return r.called?r.value:(r.called=!0,r.value=t.apply(this,arguments))};return r.called=!1,r}function sp(t){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=t.apply(this,arguments)},i=t.name||"Function wrapped with `once`";return r.onceError=i+" shouldn't be called more than once",r.called=!1,r}});var ap=U((NO,op)=>{var uC=Ru(),yi=Object.create(null),fC=Du();op.exports=uC(cC);function cC(t,r){return yi[t]?(yi[t].push(r),null):(yi[t]=[r],lC(t))}function lC(t){return fC(function r(){var i=yi[t],s=i.length,a=hC(arguments);try{for(var f=0;f<s;f++)i[f].apply(null,a)}finally{i.length>s?(i.splice(0,s),process.nextTick(function(){r.apply(null,a)})):delete yi[t]}})}function hC(t){for(var r=t.length,i=[],s=0;s<r;s++)i[s]=t[s];return i}});var Lu=U((BO,fp)=>{fp.exports=zr;var dC=yu(),up=Ms(),PO=up.Minimatch,gC=Hg(),pC=require("events").EventEmitter,Nu=require("path"),Pu=require("assert"),wi=qs(),Mu=tp(),Hr=$u(),mC=Hr.setopts,Bu=Hr.ownProp,qu=ap(),MO=require("util"),vC=Hr.childrenIgnored,_C=Hr.isIgnored,yC=Du();function zr(t,r,i){if(typeof r=="function"&&(i=r,r={}),r||(r={}),r.sync){if(i)throw new TypeError("callback provided to sync glob");return Mu(t,r)}return new de(t,r,i)}zr.sync=Mu;var wC=zr.GlobSync=Mu.GlobSync;zr.glob=zr;function bC(t,r){if(r===null||typeof r!="object")return t;for(var i=Object.keys(r),s=i.length;s--;)t[i[s]]=r[i[s]];return t}zr.hasMagic=function(t,r){var i=bC({},r);i.noprocess=!0;var s=new de(t,i),a=s.minimatch.set;if(!t)return!1;if(a.length>1)return!0;for(var f=0;f<a[0].length;f++)if(typeof a[0][f]!="string")return!0;return!1};zr.Glob=de;gC(de,pC);function de(t,r,i){if(typeof r=="function"&&(i=r,r=null),r&&r.sync){if(i)throw new TypeError("callback provided to sync glob");return new wC(t,r)}if(!(this instanceof de))return new de(t,r,i);mC(this,t,r),this._didRealPath=!1;var s=this.minimatch.set.length;this.matches=new Array(s),typeof i=="function"&&(i=yC(i),this.on("error",i),this.on("end",function(p){i(null,p)}));var a=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(s===0)return g();for(var f=!0,l=0;l<s;l++)this._process(this.minimatch.set[l],l,!1,g);f=!1;function g(){--a._processing,a._processing<=0&&(f?process.nextTick(function(){a._finish()}):a._finish())}}de.prototype._finish=function(){if(Pu(this instanceof de),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Hr.finish(this),this.emit("end",this.found)}};de.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var r=this,i=0;i<this.matches.length;i++)this._realpathSet(i,s);function s(){--t==0&&r._finish()}};de.prototype._realpathSet=function(t,r){var i=this.matches[t];if(!i)return r();var s=Object.keys(i),a=this,f=s.length;if(f===0)return r();var l=this.matches[t]=Object.create(null);s.forEach(function(g,p){g=a._makeAbs(g),dC.realpath(g,a.realpathCache,function(m,y){m?m.syscall==="stat"?l[g]=!0:a.emit("error",m):l[y]=!0,--f==0&&(a.matches[t]=l,r())})})};de.prototype._mark=function(t){return Hr.mark(this,t)};de.prototype._makeAbs=function(t){return Hr.makeAbs(this,t)};de.prototype.abort=function(){this.aborted=!0,this.emit("abort")};de.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};de.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var r=0;r<t.length;r++){var i=t[r];this._emitMatch(i[0],i[1])}}if(this._processQueue.length){var s=this._processQueue.slice(0);this._processQueue.length=0;for(var r=0;r<s.length;r++){var a=s[r];this._processing--,this._process(a[0],a[1],a[2],a[3])}}}};de.prototype._process=function(t,r,i,s){if(Pu(this instanceof de),Pu(typeof s=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,r,i,s]);return}for(var a=0;typeof t[a]=="string";)a++;var f;switch(a){case t.length:this._processSimple(t.join("/"),r,s);return;case 0:f=null;break;default:f=t.slice(0,a).join("/");break}var l=t.slice(a),g;f===null?g=".":((wi(f)||wi(t.join("/")))&&(!f||!wi(f))&&(f="/"+f),g=f);var p=this._makeAbs(g);if(vC(this,g))return s();var m=l[0]===up.GLOBSTAR;m?this._processGlobStar(f,g,p,l,r,i,s):this._processReaddir(f,g,p,l,r,i,s)}};de.prototype._processReaddir=function(t,r,i,s,a,f,l){var g=this;this._readdir(i,f,function(p,m){return g._processReaddir2(t,r,i,s,a,f,m,l)})};de.prototype._processReaddir2=function(t,r,i,s,a,f,l,g){if(!l)return g();for(var p=s[0],m=!!this.minimatch.negate,y=p._glob,b=this.dot||y.charAt(0)===".",E=[],C=0;C<l.length;C++){var O=l[C];if(O.charAt(0)!=="."||b){var L;m&&!t?L=!O.match(p):L=O.match(p),L&&E.push(O)}}var I=E.length;if(I===0)return g();if(s.length===1&&!this.mark&&!this.stat){this.matches[a]||(this.matches[a]=Object.create(null));for(var C=0;C<I;C++){var O=E[C];t&&(t!=="/"?O=t+"/"+O:O=t+O),O.charAt(0)==="/"&&!this.nomount&&(O=Nu.join(this.root,O)),this._emitMatch(a,O)}return g()}s.shift();for(var C=0;C<I;C++){var O=E[C],N;t&&(t!=="/"?O=t+"/"+O:O=t+O),this._process([O].concat(s),a,f,g)}g()};de.prototype._emitMatch=function(t,r){if(!this.aborted&&!_C(this,r)){if(this.paused){this._emitQueue.push([t,r]);return}var i=wi(r)?r:this._makeAbs(r);if(this.mark&&(r=this._mark(r)),this.absolute&&(r=i),!this.matches[t][r]){if(this.nodir){var s=this.cache[i];if(s==="DIR"||Array.isArray(s))return}this.matches[t][r]=!0;var a=this.statCache[i];a&&this.emit("stat",r,a),this.emit("match",r)}}};de.prototype._readdirInGlobStar=function(t,r){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,r);var i="lstat\0"+t,s=this,a=qu(i,f);a&&s.fs.lstat(t,a);function f(l,g){if(l&&l.code==="ENOENT")return r();var p=g&&g.isSymbolicLink();s.symlinks[t]=p,!p&&g&&!g.isDirectory()?(s.cache[t]="FILE",r()):s._readdir(t,!1,r)}};de.prototype._readdir=function(t,r,i){if(!this.aborted&&(i=qu("readdir\0"+t+"\0"+r,i),!!i)){if(r&&!Bu(this.symlinks,t))return this._readdirInGlobStar(t,i);if(Bu(this.cache,t)){var s=this.cache[t];if(!s||s==="FILE")return i();if(Array.isArray(s))return i(null,s)}var a=this;a.fs.readdir(t,SC(this,t,i))}};function SC(t,r,i){return function(s,a){s?t._readdirError(r,s,i):t._readdirEntries(r,a,i)}}de.prototype._readdirEntries=function(t,r,i){if(!this.aborted){if(!this.mark&&!this.stat)for(var s=0;s<r.length;s++){var a=r[s];t==="/"?a=t+a:a=t+"/"+a,this.cache[a]=!0}return this.cache[t]=r,i(null,r)}};de.prototype._readdirError=function(t,r,i){if(!this.aborted){switch(r.code){case"ENOTSUP":case"ENOTDIR":var s=this._makeAbs(t);if(this.cache[s]="FILE",s===this.cwdAbs){var a=new Error(r.code+" invalid cwd "+this.cwd);a.path=this.cwd,a.code=r.code,this.emit("error",a),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",r),this.abort()),this.silent||console.error("glob error",r);break}return i()}};de.prototype._processGlobStar=function(t,r,i,s,a,f,l){var g=this;this._readdir(i,f,function(p,m){g._processGlobStar2(t,r,i,s,a,f,m,l)})};de.prototype._processGlobStar2=function(t,r,i,s,a,f,l,g){if(!l)return g();var p=s.slice(1),m=t?[t]:[],y=m.concat(p);this._process(y,a,!1,g);var b=this.symlinks[i],E=l.length;if(b&&f)return g();for(var C=0;C<E;C++){var O=l[C];if(!(O.charAt(0)==="."&&!this.dot)){var L=m.concat(l[C],p);this._process(L,a,!0,g);var I=m.concat(l[C],s);this._process(I,a,!0,g)}}g()};de.prototype._processSimple=function(t,r,i){var s=this;this._stat(t,function(a,f){s._processSimple2(t,r,a,f,i)})};de.prototype._processSimple2=function(t,r,i,s,a){if(this.matches[r]||(this.matches[r]=Object.create(null)),!s)return a();if(t&&wi(t)&&!this.nomount){var f=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Nu.join(this.root,t):(t=Nu.resolve(this.root,t),f&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(r,t),a()};de.prototype._stat=function(t,r){var i=this._makeAbs(t),s=t.slice(-1)==="/";if(t.length>this.maxLength)return r();if(!this.stat&&Bu(this.cache,i)){var a=this.cache[i];if(Array.isArray(a)&&(a="DIR"),!s||a==="DIR")return r(null,a);if(s&&a==="FILE")return r()}var f,l=this.statCache[i];if(l!==void 0){if(l===!1)return r(null,l);var g=l.isDirectory()?"DIR":"FILE";return s&&g==="FILE"?r():r(null,g,l)}var p=this,m=qu("stat\0"+i,y);m&&p.fs.lstat(i,m);function y(b,E){if(E&&E.isSymbolicLink())return p.fs.stat(i,function(C,O){C?p._stat2(t,i,null,E,r):p._stat2(t,i,C,O,r)});p._stat2(t,i,b,E,r)}};de.prototype._stat2=function(t,r,i,s,a){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return this.statCache[r]=!1,a();var f=t.slice(-1)==="/";if(this.statCache[r]=s,r.slice(-1)==="/"&&s&&!s.isDirectory())return a(null,!1,s);var l=!0;return s&&(l=s.isDirectory()?"DIR":"FILE"),this.cache[r]=this.cache[r]||l,f&&l==="FILE"?a():a(null,l,s)}});var vp=U((qO,mp)=>{var ve=require("assert"),cp=require("path"),lp=require("fs"),$n;try{$n=Lu()}catch{}var EC={nosort:!0,silent:!0},Uu=0,bi=process.platform==="win32",hp=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(i=>{t[i]=t[i]||lp[i],i=i+"Sync",t[i]=t[i]||lp[i]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&$n===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||EC},Wu=(t,r,i)=>{typeof r=="function"&&(i=r,r={}),ve(t,"rimraf: missing path"),ve.equal(typeof t,"string","rimraf: path should be a string"),ve.equal(typeof i,"function","rimraf: callback function required"),ve(r,"rimraf: invalid options argument provided"),ve.equal(typeof r,"object","rimraf: options should be object"),hp(r);let s=0,a=null,f=0,l=p=>{a=a||p,--f==0&&i(a)},g=(p,m)=>{if(p)return i(p);if(f=m.length,f===0)return i();m.forEach(y=>{let b=E=>{if(E){if((E.code==="EBUSY"||E.code==="ENOTEMPTY"||E.code==="EPERM")&&s<r.maxBusyTries)return s++,setTimeout(()=>Gu(y,r,b),s*100);if(E.code==="EMFILE"&&Uu<r.emfileWait)return setTimeout(()=>Gu(y,r,b),Uu++);E.code==="ENOENT"&&(E=null)}Uu=0,l(E)};Gu(y,r,b)})};if(r.disableGlob||!$n.hasMagic(t))return g(null,[t]);r.lstat(t,(p,m)=>{if(!p)return g(null,[t]);$n(t,r.glob,g)})},Gu=(t,r,i)=>{ve(t),ve(r),ve(typeof i=="function"),r.lstat(t,(s,a)=>{if(s&&s.code==="ENOENT")return i(null);if(s&&s.code==="EPERM"&&bi&&dp(t,r,s,i),a&&a.isDirectory())return Gs(t,r,s,i);r.unlink(t,f=>{if(f){if(f.code==="ENOENT")return i(null);if(f.code==="EPERM")return bi?dp(t,r,f,i):Gs(t,r,f,i);if(f.code==="EISDIR")return Gs(t,r,f,i)}return i(f)})})},dp=(t,r,i,s)=>{ve(t),ve(r),ve(typeof s=="function"),r.chmod(t,438,a=>{a?s(a.code==="ENOENT"?null:i):r.stat(t,(f,l)=>{f?s(f.code==="ENOENT"?null:i):l.isDirectory()?Gs(t,r,i,s):r.unlink(t,s)})})},gp=(t,r,i)=>{ve(t),ve(r);try{r.chmodSync(t,438)}catch(a){if(a.code==="ENOENT")return;throw i}let s;try{s=r.statSync(t)}catch(a){if(a.code==="ENOENT")return;throw i}s.isDirectory()?js(t,r,i):r.unlinkSync(t)},Gs=(t,r,i,s)=>{ve(t),ve(r),ve(typeof s=="function"),r.rmdir(t,a=>{a&&(a.code==="ENOTEMPTY"||a.code==="EEXIST"||a.code==="EPERM")?xC(t,r,s):a&&a.code==="ENOTDIR"?s(i):s(a)})},xC=(t,r,i)=>{ve(t),ve(r),ve(typeof i=="function"),r.readdir(t,(s,a)=>{if(s)return i(s);let f=a.length;if(f===0)return r.rmdir(t,i);let l;a.forEach(g=>{Wu(cp.join(t,g),r,p=>{if(!l){if(p)return i(l=p);--f==0&&r.rmdir(t,i)}})})})},pp=(t,r)=>{r=r||{},hp(r),ve(t,"rimraf: missing path"),ve.equal(typeof t,"string","rimraf: path should be a string"),ve(r,"rimraf: missing options"),ve.equal(typeof r,"object","rimraf: options should be object");let i;if(r.disableGlob||!$n.hasMagic(t))i=[t];else try{r.lstatSync(t),i=[t]}catch{i=$n.sync(t,r.glob)}if(!!i.length)for(let s=0;s<i.length;s++){let a=i[s],f;try{f=r.lstatSync(a)}catch(l){if(l.code==="ENOENT")return;l.code==="EPERM"&&bi&&gp(a,r,l)}try{f&&f.isDirectory()?js(a,r,null):r.unlinkSync(a)}catch(l){if(l.code==="ENOENT")return;if(l.code==="EPERM")return bi?gp(a,r,l):js(a,r,l);if(l.code!=="EISDIR")throw l;js(a,r,l)}}},js=(t,r,i)=>{ve(t),ve(r);try{r.rmdirSync(t)}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR")throw i;(s.code==="ENOTEMPTY"||s.code==="EEXIST"||s.code==="EPERM")&&CC(t,r)}},CC=(t,r)=>{ve(t),ve(r),r.readdirSync(t).forEach(a=>pp(cp.join(t,a),r));let i=bi?100:1,s=0;do{let a=!0;try{let f=r.rmdirSync(t,r);return a=!1,f}finally{if(++s<i&&a)continue}}while(!0)};mp.exports=Wu;Wu.sync=pp});var yp=U((UO,_p)=>{"use strict";function TC(t){return/\\\s+$/.test(t)?t.replace(/\\(\s+)$/,"$1"):t.replace(/\s+$/,"")}function OC(t){let r=t;return r.charAt(0)==="/"&&(r=r.substr(1)),r.charAt(r.length-1)==="/"&&(r=r.substr(0,r.length-1)),r}function AC(t){return/^\s*$/.test(t)}function $C(t,r){return new RegExp(`^${r}+.*$`).test(t)}_p.exports={trimSlashes:OC,removeTrailingWhitespace:TC,isWhitespace:AC,startsWithChar:$C}});var bp=U((WO,wp)=>{"use strict";var Hs=yp();wp.exports=function(r){let i=[];return r.split(/\n/).forEach(a=>{let f;Hs.isWhitespace(a)||Hs.startsWithChar(a,"#")||(f=Hs.removeTrailingWhitespace(a),f=Hs.trimSlashes(f),i.includes(f)||i.push(f))}),i}});var Lp=U((GO,kp)=>{function Sp(t){return Array.isArray(t)?t:[t]}var Ep="",xp=" ",ju="\\",IC=/^\s+$/,kC=/^\\!/,LC=/^\\#/,RC=/\r?\n/g,FC=/^\.*\/|^\.+$/,Hu="/",Cp=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",DC=(t,r,i)=>Object.defineProperty(t,r,{value:i}),NC=/([0-z])-([0-z])/g,Tp=()=>!1,PC=t=>t.replace(NC,(r,i,s)=>i.charCodeAt(0)<=s.charCodeAt(0)?r:Ep),MC=t=>{let{length:r}=t;return t.slice(0,r-r%2)},BC=[[/\\?\s+$/,t=>t.indexOf("\\")===0?xp:Ep],[/\\\s/g,()=>xp],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,r,i)=>r+6<i.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(t,r)=>`${r}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>ju],[/\\\\/g,()=>ju],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,r,i,s,a)=>r===ju?`\\[${i}${MC(s)}${a}`:a==="]"&&s.length%2==0?`[${PC(i)}${s}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,r)=>`${r?`${r}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Op=Object.create(null),qC=(t,r)=>{let i=Op[t];return i||(i=BC.reduce((s,a)=>s.replace(a[0],a[1].bind(t)),t),Op[t]=i),r?new RegExp(i,"i"):new RegExp(i)},zu=t=>typeof t=="string",UC=t=>t&&zu(t)&&!IC.test(t)&&t.indexOf("#")!==0,WC=t=>t.split(RC),Ap=class{constructor(r,i,s,a){this.origin=r,this.pattern=i,this.negative=s,this.regex=a}},GC=(t,r)=>{let i=t,s=!1;t.indexOf("!")===0&&(s=!0,t=t.substr(1)),t=t.replace(kC,"!").replace(LC,"#");let a=qC(t,r);return new Ap(i,t,s,a)},jC=(t,r)=>{throw new r(t)},ir=(t,r,i)=>zu(t)?t?ir.isNotRelative(t)?i(`path should be a \`path.relative()\`d string, but got "${r}"`,RangeError):!0:i("path must not be empty",TypeError):i(`path must be a string, but got \`${r}\``,TypeError),$p=t=>FC.test(t);ir.isNotRelative=$p;ir.convert=t=>t;var Ip=class{constructor({ignorecase:r=!0,ignoreCase:i=r,allowRelativePaths:s=!1}={}){DC(this,Cp,!0),this._rules=[],this._ignoreCase=i,this._allowRelativePaths=s,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(r){if(r&&r[Cp]){this._rules=this._rules.concat(r._rules),this._added=!0;return}if(UC(r)){let i=GC(r,this._ignoreCase);this._added=!0,this._rules.push(i)}}add(r){return this._added=!1,Sp(zu(r)?WC(r):r).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(r){return this.add(r)}_testOne(r,i){let s=!1,a=!1;return this._rules.forEach(f=>{let{negative:l}=f;if(a===l&&s!==a||l&&!s&&!a&&!i)return;f.regex.test(r)&&(s=!l,a=l)}),{ignored:s,unignored:a}}_test(r,i,s,a){let f=r&&ir.convert(r);return ir(f,r,this._allowRelativePaths?Tp:jC),this._t(f,i,s,a)}_t(r,i,s,a){if(r in i)return i[r];if(a||(a=r.split(Hu)),a.pop(),!a.length)return i[r]=this._testOne(r,s);let f=this._t(a.join(Hu)+Hu,i,s,a);return i[r]=f.ignored?f:this._testOne(r,s)}ignores(r){return this._test(r,this._ignoreCache,!1).ignored}createFilter(){return r=>!this.ignores(r)}filter(r){return Sp(r).filter(this.createFilter())}test(r){return this._test(r,this._testCache,!0)}},zs=t=>new Ip(t),HC=t=>ir(t&&ir.convert(t),t,Tp);zs.isPathValid=HC;zs.default=zs;kp.exports=zs;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=i=>/^\\\\\?\\/.test(i)||/["<>|\u0000-\u001F]+/u.test(i)?i:i.replace(/\\/g,"/");ir.convert=t;let r=/^[a-z]:\//i;ir.isNotRelative=i=>r.test(i)||$p(i)}});Tb(exports,{CatchableError:()=>pe,DeployCache:()=>Kr,IMAGE_VERSION:()=>qr,buildLink:()=>KC,checkDocker:()=>hu,checkLanguage:()=>vx,cleanUselessImagesByTag:()=>gg,formatterOutput:()=>vg,genBuildLinkFilesListJSONPath:()=>Js,genContainerResourcesLimitConfig:()=>px,genDomainName:()=>wx,getBuildArtifactPath:()=>Xs,getBuildState:()=>Zs,getConfigFromFile:()=>tu,isAuto:()=>gu,isCustomContainerRuntime:()=>_x,isCustomRuntime:()=>yx,isDockerToolBox:()=>mx,makeFcClient:()=>QE,preExecute:()=>pg,pullImageIfNeed:()=>Gd,resolveRuntimeToDockerImage:()=>Hd,setBuildState:()=>Fp});var Dd=ae(vr()),Nd=ae(Od()),Pd=ae(require("@serverless-devs/core"));var pe=class extends Error{constructor(r,i){super(JSON.stringify({message:i,tips:r}));this.name="CatchableError"}};var Ad=ae(require("@serverless-devs/core")),$d=ae(require("path")),Id=ae(vr()),kd=ae(require("os"));async function tu(){let t=$d.join(kd.default.homedir(),".s",".fc.default.yaml"),r;try{r=await(0,Ad.getYamlContent)(t)}catch{}return Id.default.isEmpty(r)&&(r={"deploy-type":"sdk"}),r["deploy-type"]=process.env["s-default-deploy-type"]||process.env.s_default_deploy_type||r["deploy-type"],r["fc-endpoint"]=process.env["s-default-fc-endpoint"]||process.env.s_default_fc_endpoint||r["fc-endpoint"],r["enable-fc-endpoint"]=process.env["s-default-enable-fc-endpoint"]||process.env.s_default_enable_fc_endpoint||r["enable-fc-endpoint"],r["fc-cluster-ip"]=process.env["s-default-fc-cluster-ip"]||process.env.s_default_fc_cluster_ip||r["fc-cluster-ip"],r}async function Ld(){let t=await tu(),r=t["fc-endpoint"],i=t["enable-fc-endpoint"];return r&&(i===!0||i==="true")?r:null}function ru(t,r,i){if(i.endsWith("-internal.fc.aliyuncs.com")){let s=VE(i),a=JE(i);if(s!==r)throw new pe(`Please make accountId: ${s} in custom endpoint equal to accountId: ${r} you provided.`);if(!a.startsWith(t))throw new pe(`Please make region: ${a} in custom endpoint equal to accountId: ${t} you provided.`)}return!0}function VE(t){return Rd(/^https?:\/\/([^.]+)\..+$/,t)}function JE(t){return Rd(/^https?:\/\/[^.]+\.([^.]+)\..+$/,t)}function Rd(t,r){let i=r.match(t);return i?i[1]:null}var Fd=ae(require("@serverless-devs/core")),XE="FC-CORE",ZE=new Fd.Logger(XE),Se=ZE;var Md=600;async function QE(t){Se.debug(`input: ${JSON.stringify(t)}`);let r=t.region,i=(t.timeout||Md)*1e3;if(!r)throw new pe("Please provide region in your props.");let s;if(Dd.default.isEmpty(t.credentials)){let g=await(0,Pd.getCredential)(t.access);s={AccountID:g==null?void 0:g.AccountID,AccessKeyID:g==null?void 0:g.AccessKeyID,AccessKeySecret:g==null?void 0:g.AccessKeySecret,SecurityToken:g==null?void 0:g.SecurityToken,endpoint:g==null?void 0:g.endpoing}}else s=t.credentials;let a=s.endpoint,f=await Ld(),l=null;if(a){if(!ru(r,s==null?void 0:s.AccountID,a))return;l=a}else if(f){if(!ru(r,s==null?void 0:s.AccountID,f))return;l=f}return l&&Se.debug(`Using endpoint ${l}`),new Nd.default(s.AccountID,{accessKeyID:s.AccessKeyID,accessKeySecret:s.AccessKeySecret,securityToken:s.SecurityToken,region:r,timeout:i*1e3||Md,endpoint:l})}var du=ae(vr());var Bd=ae(require("child_process"));function gi(){let t=(0,Bd.execSync)('docker info --format "{{json .}}"');return JSON.parse(t.toString())}function qd(t){let r="";t<.1*1024?r=`${t.toFixed(2)}B`:t<.1*1024*1024?r=`${(t/1024).toFixed(2)}KB`:t<.1*1024*1024*1024?r=`${(t/(1024*1024)).toFixed(2)}MB`:r=`${(t/(1024*1024*1024)).toFixed(2)}GB`;let i=`${r}`,s=i.indexOf(".");return i.substr(s+1,2)=="00"?i.substring(0,s)+i.substr(s+3,2):r}var qr=process.env.FC_DOCKER_VERSION||"1.10.1",nu="registry.hub.docker.com",Ud=["registry.cn-beijing.aliyuncs.com","registry.hub.docker.com"];var iu=ae(vr()),Wd=ae(bs());var pi=null;async function ex(t){if(pi)return pi;let r=Ud.map(i=>Wd.request(`https://${i}/v2/aliyunfc/runtime-nodejs8/tags/list`,{timeout:2500}).then(()=>i));try{pi=await Promise.race(r)}catch{pi=nu}if(pi)return t}async function tx(t,r){let i=await ex(r),s=await t.pull(i);return await new Promise((a,f)=>{Se.debug(`Begin pulling image ${r}, you can also use docker pull ${r} to pull image by yourself.`);let l=async m=>{if(m)return f(m);a(nu)},g={},p=m=>{let y=m.status;if(m.progress&&(y=`${m.status} ${m.progress}`),m.id){let b=m.id;g[b]||(g[b]=console.draft()),g[b](b+": "+y)}else{iu.default.has(m,"aux.ID")&&(m.stream=m.aux.ID+`
`);let b=m.status?m.status+`
`:m.stream;process.stdout.write(b)}};t.modem.followProgress(s,l,p)})}async function Gd(t,r){let i=await t.listImages({filters:{reference:[r]}});iu.default.size(i)===0?await tx(t,r):Se.info(`Skip pulling image ${r}...`)}var jd={nodejs6:"nodejs6",nodejs8:"nodejs8",nodejs10:"nodejs10",nodejs12:"nodejs12",nodejs14:"nodejs14","python2.7":"python2.7",python3:"python3.6",java8:"java8",java11:"java11","php7.2":"php7.2","dotnetcore2.1":"dotnetcore2.1",custom:"custom"};async function Hd(t,r){if(jd[t]){let s=jd[t];var i;return r?i=`aliyunfc/runtime-${s}:build-${qr}`:i=`aliyunfc/runtime-${s}:${qr}`,Se.debug("imageName: "+i),i}throw new pe(`invalid runtime name ${t}`)}var Ct=ae(vr()),lg=ae(uu()),hg=ae(require("@serverless-devs/core")),dg=ae(cg());dg.default.into(console);var gg=async(t,r)=>{let i=await t.listImages();Se.debug(`listImages:: ${JSON.stringify(i)}
length:: ${i.length}`);let s=Ct.default.map(Ct.default.filter(i,a=>{let{MAINTAINER:f,maintainer:l}=a.Labels||{};if(!(f==="alibaba-serverless-fc"||l==="alibaba-serverless-fc"))return Se.debug(`return: imageItem.RepoTags is: ${a.RepoTags} ${a.Labels}`),!1;try{let g=Ct.default.last(Ct.default.split(Ct.default.first(a.RepoTags),":")),p=Ct.default.last(Ct.default.split(g,"-")),m=hg.semver.lt(p,qr);return Se.debug(`imageItem.RepoTags is: ${a.RepoTags}, versionLtFlag: ${m}`),m}catch{return Se.debug(`error: imageItem.RepoTags is: ${a.RepoTags}`),!1}}),a=>t.getImage(a.Id));Se.debug(`images:: ${JSON.stringify(s)}
length:: ${s.length}`),r?Ct.default.each(s,a=>a.remove({force:!0})):Ct.default.isEmpty(s)||Se.warn("A lower version of the docker image is detected, you can specify --clean-useless-image to clean")};async function hu(){if(await(0,lg.default)("docker")){let t=gi();if(!Ct.default.isEmpty(Ct.default.get(t,"ServerErrors")))throw new pe("Failed to start docker, Please ensure that docker is started on your computer.")}else throw new pe("Failed to start docker, Please ensure that docker is installed on your computer.")}var pg=async(t,r)=>{await hu(),Se.debug(`docker: ${t} cleanUselessImage: ${r}`)};async function px(t){if(t<128)throw new pe(`ContainerMemory is too small (min: 128, actual: '${t}').`);if(t<3072&&t%64!=0)throw new pe(`ContainerMemory is set to an invalid value. The value must be a multiple of 64 MB. (actual: '${t}').`);if(t>3072&&![4096,8192,16384,32768].includes(t))throw new pe(`Memory is set to an invalid value (allowed: 4096 | 8192 | 16384 | 32768, actual: '${t}').`);let r=gi(),{NCPU:i,MemTotal:s}=r,a=process.platform==="win32",f=t>3072?1/2048:2/3072,l=6400,g=Math.ceil(l*f*t);g=Math.min(g,l*i),g=Math.max(g,l);let p=t*1024*1024;return p>s&&(p=s,Se.debug(`The memory config exceeds the docker limit. The memory actually allocated: ${qd(p)}.
Now the limit of RAM resource is ${s} bytes. To improve the limit, please refer: https://docs.docker.com/desktop/${a?"windows":"mac"}/#resources.`)),{CpuPeriod:l,CpuQuota:g,Memory:p,Ulimits:[{Name:"nofile",Soft:1024,Hard:1024},{Name:"nproc",Soft:1024,Hard:1024}]}}async function mx(){let t=gi(),r=t.ServerVersion,i=r.split(".");if(Number.parseInt(i[0])===1&&Number.parseInt(i[1])<=13){let a=`We detected that your docker version is ${r}, for a better experience, please upgrade the docker version.`;throw new pe(a)}let s=du.default.map(t.Labels||[],a=>du.default.split(a,"=",2)).filter(a=>a.length===2).reduce((a,f)=>(a[f[0]]=f[1],a),{});return process.platform==="win32"&&s.provider==="virtualbox"}var Wr=ae(require("fs")),xn=ae(require("child_process")),Cn=ae(uu()),mg=ae(require("os")),Ns=ae(require("path"));async function vx(t){let r=!0,i="";if(t.includes("python")&&((0,Cn.default)("pip")?i+=`- ${(0,xn.execSync)("pip --version").toString()}`:(r=!1,i+=`- pip not installed.
`),(0,Cn.default)(t)?i+=`- python ${(0,xn.execSync)(`${t} -c 'import platform; print(platform.python_version())'`).toString().trim()}`:(r=!1,i+=`- ${t} not installed.
`)),t.includes("java"))if((0,Cn.default)("mvn")?i+=`- ${(0,xn.execSync)("mvn --version").toString().split(`
`)[0].replace(/\x1b|\[m|\[1m/g,"")}
`:(r=!1,i+=`- maven not installed.
`),!(0,Cn.default)("java"))r=!1,i+=`- ${t} not installed.
`;else{let s='class test {public static void main(String args[]) {System.out.print(Double.parseDouble(System.getProperty("java.specification.version")));}}',a=Wr.mkdtempSync(Ns.default.join(mg.default.tmpdir(),"foo-")),f=Ns.default.join(a,"test.java"),l=Ns.default.join(a,"test.class");Wr.writeFileSync(f,s);let g=(0,xn.execSync)(`javac ${f} && java -classpath ${a} test`).toString();t.match(`java${g.split(".")[0]}`)?i+=`- java ${g}`:i+=`Required ${t}, found java ${g}`,Wr.unlinkSync(l),Wr.unlinkSync(f)}if(t.includes("node")){let s="";if(!(0,Cn.default)("node"))r=!1,i+=`${t} not installed.
`;else{s=(0,xn.execSync)("node -v").toString().trim();let a=t.replace("nodejs","");s.match(new RegExp(`v${a}.`))?i+=`- nodejs: ${s}`:(r=!1,i+=`Required ${t}, found ${s}
`)}}return[r,i]}function _x(t){return t==="custom-container"}function yx(t){return t==="custom"}function gu(t){return t==="Auto"||t==="auto"}function wx(t,r,i,s){return`${s}.${i}.${t}.${r}.fc.devsapp.net`.toLocaleLowerCase()}var bx=t=>t==null?void 0:t.toString().replace(/^( |^)[a-z]/g,r=>r.toUpperCase()),vg={get:(t,r)=>`Getting ${t}: ${r}`,set:(t,r)=>`Setting ${t}: ${r}`,create:(t,r)=>`Creating ${t}: ${r}`,update:(t,r)=>`Updating ${t}: ${r}`,remove:(t,r)=>`Removing ${t}: ${r}`,warn:(t,r,i)=>`Reminder ${t}: ${r}${i?`(${i})`:""}`,nextStep:t=>`
Tips for next step:${t.map(r=>`
* ${r}`)}
`,using:(t,r)=>`Using ${t}: ${r}`,check:(t,r)=>`Checking ${bx(t)} ${r} exists`,retry:(t,r,i,s)=>`Retrying ${t}: ${r} ${i}${s?`, retry ${s} time`:""}`};var Dp=ae(require("@serverless-devs/core"));var zC=ae(require("@serverless-devs/core")),Ks=ae(vp()),Ys=ae(vr()),dt=ae(require("path")),Ku=ae(bp()),Rp=ae(Lp());var{fse:sr}=zC,Vs=class{constructor(r,i,s,a,f){this.sourceDir=dt.default.resolve(i),this.buildDir=s,this.excludeFiles=f,this.buildFilesListJSONPath=a,this.initBuildArtifactDir(s);let l=dt.default.join(this.sourceDir,this.getIgnoreFileName());if(this.getFileType(l)==="file")Se.debug(`CodeUri has ignore file: ${l}`),this.ign=this.ignores(this.sourceDir);else{let g=dt.default.resolve(r,i);Se.debug(`ignore path: ${g}`),this.ign=this.ignores(dt.default.resolve(r),{ignoreRelativePath:g})}}async startGenerateLink(){let r=await this.getFileType(this.sourceDir);if(r)if(r!=="dir")Se.error(`The code path ${this.sourceDir} does not point to a folder, skip generating soft links`);else{let i=this.readFileJSON(this.buildFilesListJSONPath),s=await this.walkDir(this.sourceDir,i);sr.outputFileSync(this.buildFilesListJSONPath,JSON.stringify(s,null,2))}else throw new Error(`Error: ENOENT: no such file or directory, lstat '${this.sourceDir}'`)}async walkDir(r,i){let s={},f=(await sr.readdir(r)).filter(g=>this.filter(dt.default.join(r,g)));Se.debug(`readdir '${r}': ${f}`);let l=r.replace(this.sourceDir,this.buildDir);this.getFileType(l)!=="dir"&&(Ks.default.sync(l),sr.mkdirpSync(l));for(let g of f){let p=dt.default.join(r,g),m=this.getFileType(p),y=i==null?void 0:i[g];y&&delete i[g];let b={sourceFileType:m,buildFileType:"link",buildFilePath:dt.default.join(l,g),sourcePath:p};if(m==="dir")b.buildFileType="dir",b.children=await this.walkDir(p,(y==null?void 0:y.children)||{});else if(Ys.default.isEmpty(y)||y.buildFileType!=="link"){let E=dt.default.join(l,g);Ks.default.sync(E),sr.linkSync(p,E),b.buildFilePath=E}s[g]=b}return Object.keys(i).forEach(g=>Ks.default.sync(dt.default.join(l,g))),s}filter(r){return!(this.ign&&this.ign(r)||this.excludeFiles&&Ys.default.some(this.excludeFiles,i=>r.endsWith(i)))}initBuildArtifactDir(r){if(Se.debug(`Build save url: ${r}`),!this.getFileType(r))return sr.mkdirpSync(r)}getFileType(r){try{let i=sr.lstatSync(r);return i.isFile()?"file":i.isDirectory()?"dir":i.isSymbolicLink()?"symbolicLink":"other"}catch(i){if(i.code!=="ENOENT")throw i}}readFileJSON(r){try{return sr.readJSONSync(r)}catch(i){Se.debug(`${i.code}, ${i.message}`)}return{}}getIgnoreFileName(){return process.env.IGNORE_FILE_NAME||".fcignore"}ignores(r,i){let s=process.env.TOOL_CACHE_PATH||".s",a=this.getIgnoreFileName(),f=[".git",".svn",".env",".DS_Store","node_modules","s.yaml","s.yml",a,s],l=dt.default.join(r,a),g="";sr.existsSync(l)&&(g=sr.readFileSync(l,"utf8"),Ys.default.isNil(i==null?void 0:i.ignoreRelativePath)||(g=(0,Ku.default)(g).map(b=>dt.default.relative(i.ignoreRelativePath,b)).join(`
`)));let p=(0,Ku.default)(`${f.join(`
`)}
${g}`);Se.debug(`ignoredPaths: ${p}`);let m=(0,Rp.default)().add(p),y=(i==null?void 0:i.ignoreRelativePath)||r;return function(b){let E=dt.default.relative(y,b);return E===""?!1:m.ignores(E)}}};var Si=ae(require("path"));var Ei=ae(require("@serverless-devs/core"));function Js(t,r,i){return Si.default.join(t,".s","fc-build-link",`${r}-${i}-files_list.json`)}function Xs(t,r,i){return Si.default.join(t,".s","build","artifacts",r,i)}async function Zs(t,r,i){let s=`${t}-${r}-build`,a=Si.default.join(i||process.cwd(),".s","fc-build"),f=await Ei.getState(s,a)||{};if(f.status==="unavailable"){let l=new pe(`${t}/${r} build status is unavailable.`,"Please re-execute 's build'");return qt(We({},f),{state:!1,error:l})}return qt(We({},f),{state:!0})}async function Fp(t,r,i,s){let a=`${t}-${r}-build`,f=Si.default.join(i||process.cwd(),".s","fc-build"),l=await Ei.getState(a,f)||{useLink:!1};await Ei.setState(a,We(We({},l),s),f)}async function KC({configDirPath:t,codeUri:r,runtime:i,serviceName:s,functionName:a,excludeFiles:f},l=!0){if(!r)throw new pe("The required parameter codeUri was not found");if(!s)throw new pe("The required parameter serviceName was not found");if(!a)throw new pe("The required parameter functionName was not found");let g=await Zs(s,a,t);if(l&&g.error)throw g.error;let p=i==="custom"&&g.useLink;if(!(i.startsWith("node")||i.startsWith("python")||i.startsWith("php")||p))return;let y=Dp.spinner("Generate symbolic link...");try{let b=t||process.cwd(),E=Xs(b,s,a),C=Js(b,s,a);await new Vs(b,r,E,C,f).startGenerateLink(),y.stop()}catch(b){throw y.fail(),b}}var xi=ae(require("@serverless-devs/core")),or=ae(vr()),Yu=ae(require("path"));var Kr=class{constructor(r,i,s){if(or.default.isNil(r))throw new pe("Get cached data accountID cannot be empty");if(or.default.isNil(i))throw new pe("Get cached data region cannot be empty");this.accountID=r,this.region=i,s&&(this.basePath=Yu.default.join(Yu.default.dirname(s),".s"))}async getYamlState(r){let{serviceName:i,functionName:s,triggerNames:a,customDomains:f}=r,l={};if(i){let g=Kr.genServiceStateID(this.accountID,this.region,i),p=await xi.getState(g,this.basePath);if(l.service=p==null?void 0:p.statefulConfig,s){let m=Kr.genFunctionStateID(this.accountID,this.region,i,s),y=await xi.getState(m,this.basePath);if(l.function=y==null?void 0:y.statefulConfig,!or.default.isEmpty(a)){l.triggerNames=[];for(let b of a){let E=Kr.genTriggerStateID(this.accountID,this.region,i,s,b),C=await xi.getState(E,this.basePath);l.triggerNames.push(C==null?void 0:C.statefulConfig)}}}}if(!or.default.isEmpty(f)){let g={accountID:this.accountID,region:this.region,serviceName:i,functionName:s};l.customDomains=[];for(let p of f){let m=Kr.genDomainStateID(p,g),y=await xi.getState(m,this.basePath);l.customDomains.push(y)}}return l}static genServiceStateID(r,i,s){return`${r}-${i}-${s}`}static genFunctionStateID(r,i,s,a){return`${r}-${i}-${s}-${a}`}static genTriggerStateID(r,i,s,a,f){return`${r}-${i}-${s}-${a}-${f}`}static genDomainStateID(r,i){if(gu(r)){let{accountID:s,region:a,serviceName:f,functionName:l}=i;if(or.default.isNil(s)||or.default.isNil(a)||or.default.isNil(f)||or.default.isNil(l))throw new pe("");return`${l}.${f}.${s}.${a}.fc.devsapp.net`}return r}};0&&(module.exports={CatchableError,DeployCache,IMAGE_VERSION,buildLink,checkDocker,checkLanguage,cleanUselessImagesByTag,formatterOutput,genBuildLinkFilesListJSONPath,genContainerResourcesLimitConfig,genDomainName,getBuildArtifactPath,getBuildState,getConfigFromFile,isAuto,isCustomContainerRuntime,isCustomRuntime,isDockerToolBox,makeFcClient,preExecute,pullImageIfNeed,resolveRuntimeToDockerImage,setBuildState});
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
